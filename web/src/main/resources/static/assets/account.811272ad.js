var C=Object.defineProperty;var I=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var S=(e,t,o)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,b=(e,t)=>{for(var o in t||(t={}))k.call(t,o)&&S(e,o,t[o]);if(I)for(var o of I(t))v.call(t,o)&&S(e,o,t[o]);return e};import{i as P,H as B,M as V,a0 as $,j as N,J as A,t as L,l as m,Q as q,A as a,b as R,D as T,z as n,p as h,q as j,y as x,G as H,B as D,C as G}from"./vendor.09ddcd37.js";import{_ as U,u as E,f as M,S as F,G as Q,H as z}from"./index.fabd0e58.js";const J=P({name:"login",setup(){const{t:e}=B(),{proxy:t}=H(),o=E(),p=V(),_=$(),r=N({isShowPassword:!1,ruleForm:{userName:"admin",password:"123456",code:"1234"},loading:{signIn:!1}}),i=A(()=>M(new Date)),c=async()=>{r.loading.signIn=!0;let u=[],l=[],d=["admin"],s=["btn.add","btn.del","btn.edit","btn.link"],g=["test"],w=["btn.add","btn.link"];r.ruleForm.userName==="admin"?(u=d,l=s):(u=g,l=w);const y={userName:r.ruleForm.userName,photo:r.ruleForm.userName==="admin"?"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1813762643,1914315241&fm=26&gp=0.jpg":"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=317673774,2961727727&fm=26&gp=0.jpg",time:new Date().getTime(),authPageList:u,authBtnList:l};F.set("token",Math.random().toString(36).substr(0)),F.set("userInfo",y),o.dispatch("userInfos/setUserInfos",y),o.state.themeConfig.themeConfig.isRequestRoutes?(await z(),f()):(await Q(),f())},f=()=>{var l,d,s,g;let u=i.value;((l=p.query)==null?void 0:l.redirect)?_.push({path:(d=p.query)==null?void 0:d.redirect,query:Object.keys((s=p.query)==null?void 0:s.params).length>0?JSON.parse((g=p.query)==null?void 0:g.params):""}):_.push("/"),setTimeout(()=>{r.loading.signIn=!0;const w=e("message.signInText");R.success(`${u}\uFF0C${w}`),t.mittBus.emit("onSignInClick")},300)};return b({currentTime:i,onSignIn:c},L(r))}}),K=e=>(D("data-v-bfae8dea"),e=e(),G(),e),O=K(()=>h("div",{class:"login-content-code"},[h("span",{class:"login-content-code-img"},"1234")],-1));function W(e,t,o,p,_,r){const i=m("el-input"),c=m("el-form-item"),f=m("el-col"),u=m("el-row"),l=m("el-button"),d=m("el-form");return T(),q(d,{class:"login-content-form"},{default:a(()=>[n(c,null,{default:a(()=>[n(i,{type:"text",placeholder:e.$t("message.account.accountPlaceholder1"),"prefix-icon":"el-icon-user",modelValue:e.ruleForm.userName,"onUpdate:modelValue":t[0]||(t[0]=s=>e.ruleForm.userName=s),clearable:"",autocomplete:"off"},null,8,["placeholder","modelValue"])]),_:1}),n(c,null,{default:a(()=>[n(i,{type:e.isShowPassword?"text":"password",placeholder:e.$t("message.account.accountPlaceholder2"),"prefix-icon":"el-icon-lock",modelValue:e.ruleForm.password,"onUpdate:modelValue":t[2]||(t[2]=s=>e.ruleForm.password=s),autocomplete:"off"},{suffix:a(()=>[h("i",{class:j(["iconfont el-input__icon login-content-password",e.isShowPassword?"icon-yincangmima":"icon-xianshimima"]),onClick:t[1]||(t[1]=s=>e.isShowPassword=!e.isShowPassword)},null,2)]),_:1},8,["type","placeholder","modelValue"])]),_:1}),n(c,null,{default:a(()=>[n(u,{gutter:15},{default:a(()=>[n(f,{span:16},{default:a(()=>[n(i,{type:"text",maxlength:"4",placeholder:e.$t("message.account.accountPlaceholder3"),"prefix-icon":"el-icon-position",modelValue:e.ruleForm.code,"onUpdate:modelValue":t[3]||(t[3]=s=>e.ruleForm.code=s),clearable:"",autocomplete:"off"},null,8,["placeholder","modelValue"])]),_:1}),n(f,{span:8},{default:a(()=>[O]),_:1})]),_:1})]),_:1}),n(c,null,{default:a(()=>[n(l,{type:"primary",class:"login-content-submit",round:"",onClick:e.onSignIn,loading:e.loading.signIn},{default:a(()=>[h("span",null,x(e.$t("message.account.accountBtnText")),1)]),_:1},8,["onClick","loading"])]),_:1})]),_:1})}var ee=U(J,[["render",W],["__scopeId","data-v-bfae8dea"]]);export{ee as default};
