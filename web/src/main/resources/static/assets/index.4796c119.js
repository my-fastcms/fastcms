var x=Object.defineProperty;var b=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var M=(l,n,t)=>n in l?x(l,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[n]=t,E=(l,n)=>{for(var t in n||(n={}))A.call(n,t)&&M(l,t,n[t]);if(b)for(var t of b(n))g.call(n,t)&&M(l,t,n[t]);return l};import{_ as B,d as R,b as T,g as j}from"./index.996e2d4a.js";import z from"./addMenu.29e5c29a.js";import L from"./editMenu.0154dbd1.js";import{r as k,j as O,J as N,o as S,t as V,l as _,m as u,z as o,A as s,E as I,b as C,D as i,p as f,q,y as D,x as p}from"./vendor.7efd8838.js";import"./index.03c8367c.js";import"./getStyleSheets.785dfd74.js";const H={name:"systemMenu",components:{AddMenu:z,EditMenu:L},setup(){const l=k(),n=k(),t=O({menuData:null}),d=N(()=>t.menuData),h=c=>{l.value.openDialog(c)},w=c=>{n.value.openDialog(c)},r=c=>{I.confirm("\u6B64\u64CD\u4F5C\u5C06\u6C38\u4E45\u5220\u9664\u8DEF\u7531, \u662F\u5426\u7EE7\u7EED?","\u63D0\u793A",{confirmButtonText:"\u5220\u9664",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{console.log(c),R(c.id).then(()=>{C.success("\u5220\u9664\u6210\u529F"),a(),T()}).catch(m=>{C.error(m.message)})}).catch(()=>{})},a=()=>{j().then(c=>{t.menuData=c.data}).catch(()=>{})};return S(()=>{a()}),E({addMenuRef:l,editMenuRef:n,onOpenAddMenu:h,onOpenEditMenu:w,menuTableData:d,onTabelRowDel:r,loadMenuList:a},V(t))}},J={class:"system-menu-container"},K=p("\u65B0\u5EFA\u83DC\u5355"),$={class:"ml10"},G={key:0,class:"color-primary"},P={key:1,class:"color-info"},Q={key:0,class:"color-primary"},U={key:1,class:"color-info"},W={key:0,class:"color-primary"},X={key:1,class:"color-info"},Y={key:0,class:"color-primary"},Z={key:1,class:"color-info"},ee={key:0,class:"color-primary"},oe={key:1,class:"color-info"},te=p("\u65B0\u589E"),ne=p("\u4FEE\u6539"),ae=p("\u5220\u9664");function se(l,n,t,d,h,w){const r=_("el-button"),a=_("el-table-column"),c=_("el-table"),m=_("el-card"),v=_("AddMenu"),F=_("EditMenu");return i(),u("div",J,[o(m,{shadow:"hover"},{default:s(()=>[o(r,{onClick:d.onOpenAddMenu,class:"mt15",size:"small",type:"primary",icon:"iconfont icon-shuxingtu"},{default:s(()=>[K]),_:1},8,["onClick"]),o(c,{data:d.menuTableData,stripe:"",style:{width:"100%"},"row-key":"path","tree-props":{children:"children",hasChildren:"hasChildren"}},{default:s(()=>[o(a,{label:"\u83DC\u5355\u540D\u79F0","show-overflow-tooltip":""},{default:s(e=>[f("i",{class:q(e.row.meta.icon)},null,2),f("span",$,D(l.$t(e.row.meta.title)),1)]),_:1}),o(a,{prop:"name",label:"\u8DEF\u7531\u540D\u79F0","show-overflow-tooltip":""}),o(a,{prop:"path",label:"\u8DEF\u7531\u5730\u5740","show-overflow-tooltip":""}),o(a,{label:"\u7EC4\u4EF6\u5730\u5740","show-overflow-tooltip":""},{default:s(e=>[f("span",null,D(e.row.component),1)]),_:1}),o(a,{label:"\u9690\u85CF","show-overflow-tooltip":"",width:"70"},{default:s(e=>[e.row.meta.isHide?(i(),u("span",G,"\u662F")):(i(),u("span",P,"\u5426"))]),_:1}),o(a,{label:"\u7F13\u5B58","show-overflow-tooltip":"",width:"70"},{default:s(e=>[e.row.meta.isKeepAlive?(i(),u("span",Q,"\u662F")):(i(),u("span",U,"\u5426"))]),_:1}),o(a,{label:"\u56FA\u5B9A","show-overflow-tooltip":"",width:"70"},{default:s(e=>[e.row.meta.isAffix?(i(),u("span",W,"\u662F")):(i(),u("span",X,"\u5426"))]),_:1}),o(a,{label:"\u5916\u94FE","show-overflow-tooltip":"",width:"70"},{default:s(e=>[e.row.meta.isLink&&!e.row.meta.isIframe?(i(),u("span",Y,"\u662F")):(i(),u("span",Z,"\u5426"))]),_:1}),o(a,{label:"iframe","show-overflow-tooltip":"",width:"70"},{default:s(e=>[e.row.meta.isLink&&e.row.meta.isIframe?(i(),u("span",ee,"\u662F")):(i(),u("span",oe,"\u5426"))]),_:1}),o(a,{label:"\u64CD\u4F5C","show-overflow-tooltip":"",width:"125"},{default:s(e=>[o(r,{size:"mini",type:"text",onClick:y=>d.onOpenAddMenu(e.row)},{default:s(()=>[te]),_:2},1032,["onClick"]),o(r,{size:"mini",type:"text",onClick:y=>d.onOpenEditMenu(e.row)},{default:s(()=>[ne]),_:2},1032,["onClick"]),o(r,{size:"mini",type:"text",onClick:y=>d.onTabelRowDel(e.row)},{default:s(()=>[ae]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),o(v,{ref:"addMenuRef",onReloadTable:d.loadMenuList},null,8,["onReloadTable"]),o(F,{ref:"editMenuRef",onReloadTable:d.loadMenuList},null,8,["onReloadTable"])])}var pe=B(H,[["render",se]]);export{pe as default};
