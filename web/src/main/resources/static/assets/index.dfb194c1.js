var B=Object.defineProperty;var w=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var b=(o,e,a)=>e in o?B(o,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[e]=a,D=(o,e)=>{for(var a in e||(e={}))A.call(e,a)&&b(o,a,e[a]);if(w)for(var a of w(e))k.call(e,a)&&b(o,a,e[a]);return o};import{b as y,u as T,e as z}from"./index.3b3f10aa.js";import{_ as U,L as R}from"./index.b48d3751.js";import{j,o as H,t as I,l as r,m as L,z as l,A as s,E as v,b as c,D as p,p as M,Q as _,L as f,x as m}from"./vendor.07d41a1e.js";const N={name:"articleManager",setup(){const o=j({tableData:[],limit:1,uploadUrl:"fastcms/api/admin/template/install",headers:{Authorization:R.get("token")}}),e=()=>{y().then(t=>{o.tableData=t.data}).catch(()=>{})},a=t=>{v.confirm("\u6B64\u64CD\u4F5C\u5C06\u5378\u8F7D\u6B64["+t.id+"]\u6A21\u677F, \u662F\u5426\u7EE7\u7EED?","\u63D0\u793A",{confirmButtonText:"\u5378\u8F7D",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{T(t.id).then(()=>{c.success("\u5378\u8F7D\u6210\u529F"),e()}).catch(n=>{c.error(n.message)})}).catch(()=>{})},u=t=>{v.confirm("\u786E\u8BA4\u542F\u7528["+t.id+"]\u6A21\u677F\u5417?","\u63D0\u793A",{confirmButtonText:"\u542F\u7528",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{z(t.id).then(()=>{c.success("\u542F\u7528\u6210\u529F"),e()}).catch(n=>{c.error(n.message)})}).catch(()=>{})},h=t=>{t.code==200?(c.success("\u4E0A\u4F20\u6210\u529F"),e()):c.error(t.message)},F=t=>{c.error("\u4E0A\u4F20\u5931\u8D25,"+t)},i=()=>{};return H(()=>{e()}),D({onRowUnInstall:a,onRowEnable:u,initTableData:e,uploadSuccess:h,onHandleUploadError:F,onHandleExceed:i},I(o))}},V={class:"mb15"},S=m("\u5B89\u88C5\u6A21\u677F"),Q=m("\u4F7F\u7528\u4E2D"),$=m("\u542F\u7528"),q=m("\u5378\u8F7D");function G(o,e,a,u,h,F){const i=r("el-button"),t=r("el-upload"),n=r("el-table-column"),E=r("el-tag"),x=r("el-table"),C=r("el-card");return p(),L("div",null,[l(C,{shadow:"hover"},{default:s(()=>[M("div",V,[l(t,{action:o.uploadUrl,name:"file",headers:o.headers,"show-file-list":!1,"on-success":u.uploadSuccess,"on-error":u.onHandleUploadError,"on-exceed":u.onHandleExceed,accept:".zip"},{default:s(()=>[l(i,{class:"mt15",size:"small",type:"primary",icon:"iconfont icon-shuxingtu"},{default:s(()=>[S]),_:1})]),_:1},8,["action","headers","on-success","on-error","on-exceed"])]),l(x,{data:o.tableData,stripe:"",style:{width:"100%"}},{default:s(()=>[l(n,{prop:"id",label:"ID","show-overflow-tooltip":""}),l(n,{prop:"name",label:"\u6A21\u677F\u540D\u79F0","show-overflow-tooltip":""}),l(n,{prop:"path",label:"\u6A21\u677F\u8DEF\u5F84","show-overflow-tooltip":""}),l(n,{prop:"version",label:"\u7248\u672C","show-overflow-tooltip":""}),l(n,{prop:"provider",label:"\u4F5C\u8005","show-overflow-tooltip":""}),l(n,{prop:"description",label:"\u63CF\u8FF0","show-overflow-tooltip":""}),l(n,{label:"\u64CD\u4F5C",width:"90"},{default:s(d=>[d.row.active==!0?(p(),_(E,{key:0,type:"success"},{default:s(()=>[Q]),_:1})):f("",!0),d.row.active==!1?(p(),_(i,{key:1,size:"mini",type:"text",onClick:g=>u.onRowEnable(d.row)},{default:s(()=>[$]),_:2},1032,["onClick"])):f("",!0),d.row.active==!1?(p(),_(i,{key:2,size:"mini",type:"text",onClick:g=>u.onRowUnInstall(d.row)},{default:s(()=>[q]),_:2},1032,["onClick"])):f("",!0)]),_:1})]),_:1},8,["data"])]),_:1})])}var W=U(N,[["render",G]]);export{W as default};
