var k=Object.defineProperty;var E=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var B=(l,u,t)=>u in l?k(l,u,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[u]=t,V=(l,u)=>{for(var t in u||(u={}))x.call(u,t)&&B(l,t,u[t]);if(E)for(var t of E(u))h.call(u,t)&&B(l,t,u[t]);return l};import{M as q,j as S,o as L,t as j,l as d,m as b,z as e,A as a,b as _,D as i,Y as y,X as C,Q as w,G as N,x as O}from"./vendor.e5eb9059.js";import{a as K,b as R,c as $}from"./index.b373240d.js";import{l as z}from"./index.fc7dbc9e.js";import{_ as H}from"./index.a104479c.js";const I={name:"pageWrite",components:{},setup(){const l=q(),{proxy:u}=N(),t=S({params:{},categories:[],tags:[],ruleForm:{title:"",commentEnable:1,contentHtml:"",status:"publish"},rules:{title:{required:!0,message:"\u8BF7\u8F93\u5165\u6587\u7AE0\u6807\u9898",trigger:"blur"},contentHtml:{required:!0,message:"\u8BF7\u8F93\u5165\u6587\u7AE0\u8BE6\u60C5",trigger:"blur"},thumbnail:{required:!0,message:"\u8BF7\u9009\u62E9\u7F29\u7565\u56FE",trigger:"blur"},summary:{required:!0,message:"\u8BF7\u8F93\u5165\u6587\u7AE0\u6458\u8981",trigger:"blur"},seoKeywords:{required:!0,message:"\u8BF7\u8F93\u5165SEO\u5173\u952E\u8BCD",trigger:"blur"},seoDescription:{required:!0,message:"\u8BF7\u8F93\u5165SEO\u63CF\u8FF0",trigger:"blur"},status:{required:!0,message:"\u8BF7\u9009\u62E9\u53D1\u5E03\u72B6\u6001",trigger:"blur"}}}),p=()=>{K().then(m=>{m.data.forEach(o=>{o.type=="tag"?t.tags.push(o):o.type=="category"&&t.categories.push(o)})})},g=()=>{u.$refs.myRefForm.validate(m=>{if(m){let o=z.stringify(t.ruleForm,{arrayFormat:"repeat"});R(o).then(s=>{t.ruleForm.id=s,_.success("\u4FDD\u5B58\u6210\u529F")}).catch(s=>{_({showClose:!0,message:s.message?s.message:"\u7CFB\u7EDF\u9519\u8BEF",type:"error"})})}})},f=m=>{$(m).then(o=>{t.ruleForm=o.data})};return L(()=>{t.params=l,p();let m=t.params.query.id;m&&f(m)}),V({onSubmit:g,getCategoryList:p,getArticleInfo:f},j(t))}},M={class:"container"},T=O("\u4FDD \u5B58");function G(l,u,t,p,g,f){const m=d("el-input"),o=d("el-form-item"),s=d("el-col"),n=d("el-option"),F=d("el-select"),v=d("el-switch"),c=d("el-row"),A=d("el-button"),D=d("el-form"),U=d("el-card");return i(),b("div",M,[e(U,null,{default:a(()=>[e(D,{model:l.ruleForm,size:"small","label-width":"100px",rules:l.rules,ref:"myRefForm"},{default:a(()=>[e(c,{gutter:35},{default:a(()=>[e(s,{class:"mb20"},{default:a(()=>[e(o,{label:"\u6807\u9898",prop:"title"},{default:a(()=>[e(m,{modelValue:l.ruleForm.title,"onUpdate:modelValue":u[0]||(u[0]=r=>l.ruleForm.title=r),placeholder:"\u8BF7\u8F93\u5165\u6587\u7AE0\u6807\u9898",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{class:"mb20"},{default:a(()=>[e(o,{label:"\u6587\u7AE0\u8BE6\u60C5",prop:"contentHtml"})]),_:1}),e(s,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:a(()=>[e(o,{label:"\u7F29\u7565\u56FE",prop:"thumbnail"},{default:a(()=>[e(m,{modelValue:l.ruleForm.thumbnail,"onUpdate:modelValue":u[1]||(u[1]=r=>l.ruleForm.thumbnail=r),placeholder:"\u8BF7\u9009\u62E9\u7F29\u7565\u56FE",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:a(()=>[e(o,{label:"\u6587\u7AE0\u6458\u8981",prop:"summary"},{default:a(()=>[e(m,{modelValue:l.ruleForm.summary,"onUpdate:modelValue":u[2]||(u[2]=r=>l.ruleForm.summary=r),placeholder:"\u8BF7\u8F93\u5165\u6587\u7AE0\u6458\u8981",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:a(()=>[e(o,{label:"SEO\u5173\u952E\u8BCD",prop:"seoKeywords"},{default:a(()=>[e(m,{type:"textarea",rows:2,modelValue:l.ruleForm.seoKeywords,"onUpdate:modelValue":u[3]||(u[3]=r=>l.ruleForm.seoKeywords=r),placeholder:"\u8BF7\u8F93\u5165seo\u5173\u952E\u8BCD",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:a(()=>[e(o,{label:"SEO\u63CF\u8FF0",prop:"seoDescription"},{default:a(()=>[e(m,{type:"textarea",rows:2,modelValue:l.ruleForm.seoDescription,"onUpdate:modelValue":u[4]||(u[4]=r=>l.ruleForm.seoDescription=r),placeholder:"\u8BF7\u8F93\u5165SEO\u63CF\u8FF0",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:a(()=>[e(o,{label:"\u6392\u5E8F",prop:"sortNum"},{default:a(()=>[e(m,{modelValue:l.ruleForm.sortNum,"onUpdate:modelValue":u[5]||(u[5]=r=>l.ruleForm.sortNum=r),placeholder:"\u8BF7\u8F93\u5165\u6392\u5E8F\u5E8F\u53F7",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:a(()=>[e(o,{label:"\u5916\u94FE",prop:"outLink"},{default:a(()=>[e(m,{modelValue:l.ruleForm.outLink,"onUpdate:modelValue":u[6]||(u[6]=r=>l.ruleForm.outLink=r),placeholder:"\u8BF7\u8F93\u5165\u5916\u94FE",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:a(()=>[e(o,{label:"\u6A21\u677F",prop:"suffix"},{default:a(()=>[e(F,{modelValue:l.ruleForm.suffix,"onUpdate:modelValue":u[7]||(u[7]=r=>l.ruleForm.suffix=r),placeholder:"\u8BF7\u9009\u62E9\u6A21\u677F",clearable:"",class:"w100"},{default:a(()=>[e(n,{label:"template1",value:"template1"}),e(n,{label:"template2",value:"template2"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(s,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:a(()=>[e(o,{label:"\u5141\u8BB8\u8BC4\u8BBA",prop:"commentEnable"},{default:a(()=>[e(v,{modelValue:l.ruleForm.commentEnable,"onUpdate:modelValue":u[8]||(u[8]=r=>l.ruleForm.commentEnable=r),"active-color":"#13ce66"},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:a(()=>[e(o,{label:"\u5206\u7C7B",prop:"categories"},{default:a(()=>[e(F,{modelValue:l.ruleForm.articleCategory,"onUpdate:modelValue":u[9]||(u[9]=r=>l.ruleForm.articleCategory=r),class:"w100",multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"\u8BF7\u9009\u62E9\u6587\u7AE0\u5206\u7C7B"},{default:a(()=>[(i(!0),b(y,null,C(l.categories,r=>(i(),w(n,{key:r.id,label:r.title,value:r.title},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(s,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:a(()=>[e(o,{label:"\u6807\u7B7E",prop:"tags"},{default:a(()=>[e(F,{modelValue:l.ruleForm.articleTag,"onUpdate:modelValue":u[10]||(u[10]=r=>l.ruleForm.articleTag=r),class:"w100",multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"\u8BF7\u9009\u62E9\u6587\u7AE0\u6807\u7B7E"},{default:a(()=>[(i(!0),b(y,null,C(l.tags,r=>(i(),w(n,{key:r.id,label:r.title,value:r.title},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(s,{class:"mb20"},{default:a(()=>[e(o,{label:"\u72B6\u6001",prop:"status"},{default:a(()=>[e(F,{modelValue:l.ruleForm.status,"onUpdate:modelValue":u[11]||(u[11]=r=>l.ruleForm.status=r),placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001",clearable:"",class:"w100"},{default:a(()=>[e(n,{label:"\u53D1\u5E03",value:"publish"}),e(n,{label:"\u8349\u7A3F",value:"draft"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(c,null,{default:a(()=>[e(o,null,{default:a(()=>[e(A,{type:"primary",onClick:p.onSubmit,size:"small"},{default:a(()=>[T]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})])}var P=H(I,[["render",G]]);export{P as default};
