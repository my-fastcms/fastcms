var C=Object.defineProperty;var g=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var x=(o,n,t)=>n in o?C(o,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[n]=t,F=(o,n)=>{for(var t in n||(n={}))L.call(n,t)&&x(o,t,n[t]);if(g)for(var t of g(n))B.call(n,t)&&x(o,t,n[t]);return o};import{r as T,j as k,J as z,o as E,P as D,t as W,l as r,D as f,m as P,z as I,A as s,p as i,q as b,T as j,w as R,v as N,y as M,Q as _,Z as U,Y as q,L as v,n as A}from"./vendor.7efd8838.js";import{i as w}from"./getStyleSheets.785dfd74.js";import{_ as J}from"./index.996e2d4a.js";const O={name:"iconSelector",emits:["update:modelValue","get","clear"],props:{prepend:{type:String,default:()=>"el-icon-thumb"},placeholder:{type:String,default:()=>"\u8BF7\u8F93\u5165\u5185\u5BB9\u641C\u7D22\u56FE\u6807\u6216\u8005\u9009\u62E9\u56FE\u6807"},size:{type:String,default:()=>"small"},title:{type:String,default:()=>"\u8BF7\u9009\u62E9\u56FE\u6807"},type:{type:String,default:()=>"ele"},disabled:{type:Boolean,default:()=>!1},clearable:{type:Boolean,default:()=>!0},emptyDescription:{type:String,default:()=>"\u65E0\u76F8\u5173\u56FE\u6807"},modelValue:String},setup(o,{emit:n}){const t=T(),e=k({fontIconPrefix:"",fontIconVisible:!1,fontIconWidth:0,fontIconSearch:"",fontIconTabsIndex:0,fontIconSheetsList:[],fontIconPlaceholder:""}),y=()=>{if(!o.modelValue)return!1;e.fontIconSearch="",e.fontIconPlaceholder=o.modelValue},V=()=>{setTimeout(()=>{e.fontIconSheetsList.filter(a=>a===e.fontIconSearch).length<=0&&(e.fontIconSearch="")},300)},d=()=>{if(o.modelValue==="")return!1;e.fontIconPlaceholder=o.modelValue,e.fontIconPrefix=o.modelValue},h=z(()=>{if(!e.fontIconSearch)return e.fontIconSheetsList;let l=e.fontIconSearch.trim().toLowerCase();return e.fontIconSheetsList.filter(a=>{if(a.toLowerCase().indexOf(l)!==-1)return a})}),u=()=>{A(()=>{e.fontIconWidth=t.value.$el.offsetWidth})},m=()=>{window.addEventListener("resize",()=>{u()})},p=async()=>{o.type==="ali"?await w.ali().then(l=>{e.fontIconTabsIndex=0,e.fontIconSheetsList=l.map(a=>`iconfont ${a}`)}):o.type==="ele"?await w.ele().then(l=>{e.fontIconTabsIndex=1,e.fontIconSheetsList=l}):o.type==="awe"&&await w.awe().then(l=>{e.fontIconTabsIndex=2,e.fontIconSheetsList=l.map(a=>`fa ${a}`)}),e.fontIconPlaceholder=o.placeholder,d()},S=l=>{e.fontIconPlaceholder=l,e.fontIconVisible=!1,e.fontIconTabsIndex===0?e.fontIconPrefix=`${l}`:e.fontIconTabsIndex===1?e.fontIconPrefix=`${l}`:e.fontIconTabsIndex===2&&(e.fontIconPrefix=`${l}`),n("get",e.fontIconPrefix),n("update:modelValue",e.fontIconPrefix)},c=()=>{e.fontIconPrefix="",n("clear",e.fontIconPrefix),n("update:modelValue",e.fontIconPrefix)};return E(()=>{p(),m(),u()}),D(()=>o.modelValue,()=>{d()}),F({inputWidthRef:t,fontIconSheetsFilterList:h,onColClick:S,onClearFontIcon:c,onIconFocus:y,onIconBlur:V},W(e))}},Q={class:"icon-selector"},Y={class:"icon-selector-warp"},Z={class:"icon-selector-warp-title"},G={class:"icon-selector-warp-row"},H={class:"flex-margin"},K={class:"icon-selector-warp-item-value"};function X(o,n,t,e,y,V){const d=r("el-input"),h=r("el-col"),u=r("el-row"),m=r("el-empty"),p=r("el-scrollbar"),S=r("el-popover");return f(),P("div",Q,[I(S,{placement:"bottom",width:o.fontIconWidth,visible:o.fontIconVisible,"onUpdate:visible":n[1]||(n[1]=c=>o.fontIconVisible=c),"popper-class":"icon-selector-popper"},{reference:s(()=>[I(d,{modelValue:o.fontIconSearch,"onUpdate:modelValue":n[0]||(n[0]=c=>o.fontIconSearch=c),placeholder:o.fontIconPlaceholder,clearable:t.clearable,disabled:t.disabled,size:t.size,ref:"inputWidthRef",onClear:e.onClearFontIcon,onFocus:e.onIconFocus,onBlur:e.onIconBlur},{prepend:s(()=>[i("i",{class:b([[o.fontIconPrefix===""?t.prepend:o.fontIconPrefix,{iconfont:o.fontIconTabsIndex===0},{ele:o.fontIconTabsIndex===1},{fa:o.fontIconTabsIndex===2}],"font14"])},null,2)]),_:1},8,["modelValue","placeholder","clearable","disabled","size","onClear","onFocus","onBlur"])]),default:s(()=>[I(j,{name:"el-zoom-in-top"},{default:s(()=>[R(i("div",Y,[i("div",Z,M(t.title),1),i("div",G,[I(p,null,{default:s(()=>[e.fontIconSheetsFilterList.length>0?(f(),_(u,{key:0,gutter:10},{default:s(()=>[(f(!0),P(U,null,q(e.fontIconSheetsFilterList,(c,l)=>(f(),_(h,{xs:6,sm:4,md:4,lg:4,xl:4,onClick:a=>e.onColClick(c),key:l},{default:s(()=>[i("div",{class:b(["icon-selector-warp-item",{"icon-selector-active":o.fontIconPrefix===c}])},[i("div",H,[i("div",K,[i("i",{class:b(c)},null,2)])])],2)]),_:2},1032,["onClick"]))),128))]),_:1})):v("",!0),e.fontIconSheetsFilterList.length<=0?(f(),_(m,{key:1,"image-size":100,description:t.emptyDescription},null,8,["description"])):v("",!0)]),_:1})])],512),[[N,o.fontIconVisible]])]),_:1})]),_:1},8,["width","visible"])])}var te=J(O,[["render",X]]);export{te as I};
