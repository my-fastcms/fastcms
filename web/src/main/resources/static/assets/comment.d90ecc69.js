var E=Object.defineProperty;var C=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var f=(t,e,o)=>e in t?E(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,b=(t,e)=>{for(var o in e||(e={}))v.call(e,o)&&f(t,o,e[o]);if(C)for(var o of C(e))z.call(e,o)&&f(t,o,e[o]);return t};import{g as x,d as A}from"./index.3fe6761a.js";import F from"./editComment.2f3f6d4f.js";import{_ as R}from"./index.b48d3751.js";import{r as y,j as S,o as T,t as k,l as s,m as N,z as n,A as r,E as j,b as B,D as H,p as M,x as c}from"./vendor.07d41a1e.js";const U={name:"pageCommentManager",components:{EditComment:F},setup(){const t=y(),e=S({tableData:{data:[],total:0,loading:!1,param:{pageNum:1,pageSize:10}}}),o=()=>{x(e.tableData.param).then(a=>{e.tableData.data=a.data.records,e.tableData.total=a.data.total}).catch(()=>{})},l=a=>{j.confirm("\u6B64\u64CD\u4F5C\u5C06\u6C38\u4E45\u5220\u9664\u8BC4\u8BBA, \u662F\u5426\u7EE7\u7EED?","\u63D0\u793A",{confirmButtonText:"\u5220\u9664",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{A(a.id).then(()=>{B.success("\u5220\u9664\u6210\u529F"),o()}).catch(m=>{B.error(m.message)})}).catch(()=>{})},d=a=>{console.log(a),t.value.openDialog(a)},g=a=>{e.tableData.param.pageSize=a,o()},i=a=>{e.tableData.param.pageNum=a,o()},p=()=>{};return T(()=>{o()}),b({editCommentRef:t,addArticle:p,onRowUpdate:d,onRowDel:l,onHandleSizeChange:g,onHandleCurrentChange:i,initTableData:o},k(e))}},V={class:"mb15"},P=c("\u67E5\u8BE2"),I=c("\u4FEE\u6539"),L=c("\u5220\u9664");function $(t,e,o,l,d,g){const i=s("el-input"),p=s("el-button"),a=s("el-table-column"),m=s("el-table"),_=s("el-pagination"),h=s("el-card"),D=s("EditComment");return H(),N("div",null,[n(h,{shadow:"hover"},{default:r(()=>[M("div",V,[n(i,{size:"small",placeholder:"\u8BF7\u8F93\u5165\u8BC4\u8BBA\u5185\u5BB9","prefix-icon":"el-icon-search",style:{"max-width":"180px"},class:"ml10"}),n(p,{size:"small",type:"primary",class:"ml10"},{default:r(()=>[P]),_:1})]),n(m,{data:t.tableData.data,stripe:"",style:{width:"100%"}},{default:r(()=>[n(a,{prop:"id",label:"ID","show-overflow-tooltip":""}),n(a,{prop:"content",label:"\u8BC4\u8BBA\u5185\u5BB9","show-overflow-tooltip":""}),n(a,{prop:"parentComment",label:"\u56DE\u590D\u8BC4\u8BBA","show-overflow-tooltip":""}),n(a,{prop:"author",label:"\u8BC4\u8BBA\u4EBA","show-overflow-tooltip":""}),n(a,{prop:"pageTitle",label:"\u8BC4\u8BBA\u9875\u9762","show-overflow-tooltip":""}),n(a,{prop:"status",label:"\u72B6\u6001","show-overflow-tooltip":""}),n(a,{prop:"created",label:"\u521B\u5EFA\u65F6\u95F4","show-overflow-tooltip":""}),n(a,{prop:"path",label:"\u64CD\u4F5C",width:"90"},{default:r(u=>[n(p,{size:"mini",type:"text",onClick:w=>l.onRowUpdate(u.row)},{default:r(()=>[I]),_:2},1032,["onClick"]),n(p,{size:"mini",type:"text",onClick:w=>l.onRowDel(u.row)},{default:r(()=>[L]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),n(_,{onSizeChange:l.onHandleSizeChange,onCurrentChange:l.onHandleCurrentChange,class:"mt15","pager-count":5,"page-sizes":[10,20,30],"current-page":t.tableData.param.pageNum,"onUpdate:current-page":e[0]||(e[0]=u=>t.tableData.param.pageNum=u),background:"","page-size":t.tableData.param.pageSize,"onUpdate:page-size":e[1]||(e[1]=u=>t.tableData.param.pageSize=u),layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.total},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])]),_:1}),n(D,{ref:"editCommentRef",onReloadTable:l.initTableData},null,8,["onReloadTable"])])}var Q=R(U,[["render",$]]);export{Q as default};
