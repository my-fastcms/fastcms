var j=Object.defineProperty;var g=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var h=(u,a,t)=>a in u?j(u,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):u[a]=t,D=(u,a)=>{for(var t in a||(a={}))x.call(a,t)&&h(u,t,a[t]);if(g)for(var t of g(a))T.call(a,t)&&h(u,t,a[t]);return u};import{_ as U,f as I}from"./index.b48d3751.js";import{l as B}from"./index.34a00848.js";import{a as O,s as R}from"./index.356e6d40.js";import{A as q}from"./index.cae9994f.js";import{r as N,j as P,J as W,o as H,t as K,l as s,m as v,z as e,A as l,b as y,D as f,Y as L,X as $,Q as G,G as J,B as Q,C as X,p as m,x as C}from"./vendor.07d41a1e.js";import"./index.30cc523d.js";import"./client.5fb9dd1e.js";const Y={name:"attachSet",components:{AttachDialog:q},setup(){const u=N(),{proxy:a}=J(),t=P({fileType:"image",fit:"fill",posOptions:[{value:"leftup",label:"\u5DE6\u4E0A"},{value:"rightup",label:"\u53F3\u4E0A"},{value:"middle",label:"\u4E2D\u95F4"},{value:"leftdown",label:"\u5DE6\u4E0B"},{value:"rightdown",label:"\u53F3\u4E0B"}],ruleForm:{file_domain:"",imageMaxSize:0,otherMaxSize:0,enableWatermark:!0,waterMarkPos:"middle",diaphaneity:0,waterMarkTxt:"",waterMarkFile:""},rules:{imageMaxSize:[{required:!0,message:"\u8BF7\u8F93\u5165\u5141\u8BB8\u4E0A\u4F20\u56FE\u7247\u5927\u5C0F\u6700\u5927\u503C",trigger:"blur"}],otherMaxSize:[{required:!0,message:"\u8BF7\u8F93\u5165\u5141\u8BB8\u4E0A\u4F20\u5176\u4ED6\u6587\u4EF6\u5927\u5C0F\u6700\u5927\u503C",trigger:"blur"}],file_domain:[{required:!0,message:"\u8BF7\u8F93\u5165\u6587\u4EF6\u670D\u52A1\u5668\u57DF\u540D",trigger:"blur"}]}}),c=W(()=>I(new Date)),E=()=>{a.$refs.myRefForm.validate(o=>{if(o){let n=B.stringify(t.ruleForm,{arrayFormat:"repeat"});R(n).then(()=>{y.success("\u4FDD\u5B58\u6210\u529F")}).catch(i=>{y({showClose:!0,message:i.message?i.message:"\u7CFB\u7EDF\u9519\u8BEF",type:"error"})})}})},b=o=>{t.ruleForm.waterMarkFile=o[0].path},d=()=>{u.value.openDialog(1)};return H(()=>{let o=new Array;Object.keys(t.ruleForm).forEach(p=>{o.push(p)});let i=B.stringify({configKeys:o},{arrayFormat:"repeat"});O(i).then(p=>{p.data.forEach(_=>{t.ruleForm[_.key]=_.jsonValue})})}),D({getSelectAttach:b,attachDialogRef:u,currentTime:c,onSubmit:E,onAttachDialogOpen:d},K(t))}},F=u=>(Q("data-v-442c1377"),u=u(),X(),u),Z={class:"personal"},ee=F(()=>m("div",{class:"personal-edit-title mb15"},"\u6587\u4EF6\u670D\u52A1\u5668",-1)),ue=F(()=>m("div",{class:"personal-edit-title mb15"},"\u6587\u4EF6\u5927\u5C0F\u9650\u5236",-1)),le=F(()=>m("div",{class:"sub-title"},"\u5355\u4F4DM\uFF0C0\u8868\u793A\u4E0D\u9650\u5236\u6587\u4EF6\u5927\u5C0F",-1)),ae=F(()=>m("div",{class:"sub-title"},"\u5355\u4F4DM\uFF0C0\u8868\u793A\u4E0D\u9650\u5236\u6587\u4EF6\u5927\u5C0F",-1)),te=F(()=>m("div",{class:"personal-edit-title mb15"},"\u6C34\u5370\u8BBE\u7F6E",-1)),oe=C("\u9009\u62E9\u56FE\u7247"),re=F(()=>m("div",{class:"sub-title"},"\u4E0A\u4F20\u6C34\u5370\u56FE\u7247\u8BF7\u5148\u5173\u95ED\u6C34\u5370\u529F\u80FD",-1)),se=C("\u4FDD \u5B58");function ne(u,a,t,c,E,b){const d=s("el-input"),o=s("el-form-item"),n=s("el-col"),i=s("el-row"),p=s("el-switch"),_=s("el-option"),k=s("el-select"),A=s("el-image"),M=s("el-link"),w=s("el-button"),V=s("el-form"),S=s("el-card"),z=s("AttachDialog");return f(),v("div",Z,[e(i,null,{default:l(()=>[e(n,{span:24},{default:l(()=>[e(S,{shadow:"hover"},{default:l(()=>[e(V,{model:u.ruleForm,rules:u.rules,ref:"myRefForm",size:"small","label-width":"150px",class:"mt35 mb35"},{default:l(()=>[ee,e(i,{gutter:35},{default:l(()=>[e(n,{class:"mb20"},{default:l(()=>[e(o,{label:"\u57DF\u540D\u8BBE\u7F6E",prop:"file_domain"},{default:l(()=>[e(d,{modelValue:u.ruleForm.file_domain,"onUpdate:modelValue":a[0]||(a[0]=r=>u.ruleForm.file_domain=r),placeholder:"\u8BF7\u8F93\u5165\u6587\u4EF6\u670D\u52A1\u5668\u57DF\u540D",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),ue,e(i,{gutter:35},{default:l(()=>[e(n,{class:"mb20"},{default:l(()=>[e(o,{label:"\u56FE\u7247\u5927\u5C0F\u8BBE\u7F6E",prop:"imageMaxSize"},{default:l(()=>[e(d,{modelValue:u.ruleForm.imageMaxSize,"onUpdate:modelValue":a[1]||(a[1]=r=>u.ruleForm.imageMaxSize=r),placeholder:"\u8BF7\u8F93\u5165\u5141\u8BB8\u4E0A\u4F20\u56FE\u7247\u7684\u6700\u5927\u503C\uFF0C\u5355\u4F4DMB",onkeyup:"value=value.replace(/[^\\d]/g,'')",clearable:""},null,8,["modelValue"]),le]),_:1})]),_:1}),e(n,{class:"mb20"},{default:l(()=>[e(o,{label:"\u5176\u4ED6\u6587\u4EF6\u5927\u5C0F\u8BBE\u7F6E",prop:"otherMaxSize"},{default:l(()=>[e(d,{modelValue:u.ruleForm.otherMaxSize,"onUpdate:modelValue":a[2]||(a[2]=r=>u.ruleForm.otherMaxSize=r),placeholder:"\u8BF7\u8F93\u5165\u5141\u8BB8\u4E0A\u4F20\u5176\u4ED6\u6587\u4EF6\u7684\u6700\u5927\u503C\uFF0C\u5355\u4F4DMB",onkeyup:"value=value.replace(/[^\\d]/g,'')",clearable:""},null,8,["modelValue"]),ae]),_:1})]),_:1})]),_:1}),te,e(i,{gutter:35},{default:l(()=>[e(n,{class:"mb20"},{default:l(()=>[e(o,{label:"\u662F\u5426\u5F00\u542F\u6C34\u5370"},{default:l(()=>[e(p,{modelValue:u.ruleForm.enableWatermark,"onUpdate:modelValue":a[3]||(a[3]=r=>u.ruleForm.enableWatermark=r),"active-color":"#13ce66"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{class:"mb20"},{default:l(()=>[e(o,{label:"\u6C34\u5370\u4F4D\u7F6E"},{default:l(()=>[e(k,{modelValue:u.ruleForm.waterMarkPos,"onUpdate:modelValue":a[4]||(a[4]=r=>u.ruleForm.waterMarkPos=r),placeholder:"\u8BF7\u9009\u62E9",class:"w100"},{default:l(()=>[(f(!0),v(L,null,$(u.posOptions,r=>(f(),G(_,{key:r.value,label:r.label,value:r.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(n,{class:"mb20"},{default:l(()=>[e(o,{label:"\u900F\u660E\u5EA6"},{default:l(()=>[e(d,{modelValue:u.ruleForm.diaphaneity,"onUpdate:modelValue":a[5]||(a[5]=r=>u.ruleForm.diaphaneity=r),placeholder:"\u8BF7\u8F93\u5165\u900F\u660E\u5EA6",onkeyup:"value=value.replace(/[^\\d]/g,'')",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{class:"mb20"},{default:l(()=>[e(o,{label:"\u6C34\u5370\u56FE\u7247"},{default:l(()=>[e(A,{style:{width:"100px",height:"100px"},src:u.ruleForm.waterMarkFile,fit:u.fit},null,8,["src","fit"])]),_:1}),e(o,null,{default:l(()=>[e(M,{type:"primary",onClick:c.onAttachDialogOpen},{default:l(()=>[oe]),_:1},8,["onClick"]),re]),_:1})]),_:1})]),_:1}),e(n,null,{default:l(()=>[e(o,null,{default:l(()=>[e(w,{type:"primary",onClick:c.onSubmit,icon:"el-icon-position"},{default:l(()=>[se]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1}),e(z,{ref:"attachDialogRef",onAttachHandler:c.getSelectAttach,fileType:u.fileType},null,8,["onAttachHandler","fileType"])])}var Ee=U(Y,[["render",ne],["__scopeId","data-v-442c1377"]]);export{Ee as default};
