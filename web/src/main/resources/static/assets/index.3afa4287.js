var qn=Object.defineProperty,jn=Object.defineProperties;var Wn=Object.getOwnPropertyDescriptors;var dn=Object.getOwnPropertySymbols;var Un=Object.prototype.hasOwnProperty,Xn=Object.prototype.propertyIsEnumerable;var fn=(t,e,o)=>e in t?qn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,H=(t,e)=>{for(var o in e||(e={}))Un.call(e,o)&&fn(t,o,e[o]);if(dn)for(var o of dn(e))Xn.call(e,o)&&fn(t,o,e[o]);return t},mn=(t,e)=>jn(t,Wn(e));import{_ as U,u as J,L as he,S as We,a as Yn,i as Pt}from"./index.1eab61cc.js";import{J as V,j as se,o as we,t as ae,D as _,m as I,L as N,p as S,y as F,G as pe,B as Ht,C as Nt,i as Ue,l as y,X as Ae,Y as re,Q as O,A as v,q as P,z as C,x as Q,M as Fe,P as $e,Z as Xe,$ as hn,O as tt,w as nt,v as ot,a0 as it,a1 as Gn,s as He,K as yt,r as Ve,H as zt,n as Ye,T as pn,b as qt,E as Kn,k as st,a2 as Qn}from"./vendor.07d41a1e.js";import{g as Zn,a as gn}from"./index.911babbc.js";import{l as jt}from"./index.34a00848.js";import Jn from"./parent.fad2d402.js";var _n="/logo-mini.png";const eo={name:"layoutLogo",setup(){const{proxy:t}=pe(),e=J(),o=V(()=>e.state.themeConfig.themeConfig),n=se({isDelayFooter:!0,showFastcmsLog:!1,website_title:e.state.themeConfig.themeConfig}),a=V(()=>{let{isCollapse:i,layout:r}=e.state.themeConfig.themeConfig;return!i||r==="classic"||document.body.clientWidth<1e3}),l=()=>{if(e.state.themeConfig.themeConfig.layout==="transverse")return!1;t.mittBus.emit("onMenuClick"),e.state.themeConfig.themeConfig.isCollapse=!e.state.themeConfig.themeConfig.isCollapse};return we(()=>{let i=new Array;i.push("website_title"),i.push("is_show_fastcms_logo");let r=jt.stringify({configKeys:i},{arrayFormat:"repeat"});Zn(r).then(s=>{s.data.forEach(u=>{u.key=="website_title"&&u.jsonValue!=null&&(n.website_title=u.jsonValue),u.key=="is_show_fastcms_logo"&&u.jsonValue!=null&&(n.showFastcmsLog=u.jsonValue)})})}),mn(H({},ae(n)),{setShowLogo:a,getThemeConfig:o,onThemeConfigChange:l})}},to=t=>(Ht("data-v-194273aa"),t=t(),Nt(),t),no={key:0,src:_n,class:"layout-logo-medium-img"},oo=to(()=>S("img",{src:_n,class:"layout-logo-size-img"},null,-1)),io=[oo];function so(t,e,o,n,a,l){return n.setShowLogo?(_(),I("div",{key:0,class:"layout-logo",onClick:e[0]||(e[0]=(...i)=>n.onThemeConfigChange&&n.onThemeConfigChange(...i))},[t.showFastcmsLog?(_(),I("img",no)):N("",!0),S("span",null,F(t.website_title),1)])):(_(),I("div",{key:1,class:"layout-logo-size",onClick:e[1]||(e[1]=(...i)=>n.onThemeConfigChange&&n.onThemeConfigChange(...i))},io))}var bn=U(eo,[["render",so],["__scopeId","data-v-194273aa"]]);const ao=Ue({name:"navMenuSubItem",props:{chil:{type:Array,default:()=>[]}},setup(t){return{chils:V(()=>t.chil)}}}),ro=["href"];function lo(t,e,o,n,a,l){const i=y("sub-item",!0),r=y("el-sub-menu"),s=y("el-menu-item");return _(!0),I(re,null,Ae(t.chils,u=>(_(),I(re,null,[u.children&&u.children.length>0?(_(),O(r,{index:u.path,key:u.path},{title:v(()=>[S("i",{class:P(u.meta.icon)},null,2),S("span",null,F(t.$t(u.meta.title)),1)]),default:v(()=>[C(i,{chil:u.children},null,8,["chil"])]),_:2},1032,["index"])):(_(),O(s,{index:u.path,key:u.path},{default:v(()=>[!u.meta.isLink||u.meta.isLink&&u.meta.isIframe?(_(),I(re,{key:0},[S("i",{class:P(u.meta.icon?u.meta.icon:"")},null,2),S("span",null,F(t.$t(u.meta.title)),1)],64)):(_(),I("a",{key:1,href:u.meta.isLink,target:"_blank",rel:"opener"},[S("i",{class:P(u.meta.icon?u.meta.icon:"")},null,2),Q(" "+F(t.$t(u.meta.title)),1)],8,ro))]),_:2},1032,["index"]))],64))),256)}var yn=U(ao,[["render",lo]]);const uo=Ue({name:"navMenuVertical",components:{SubItem:yn},props:{menuList:{type:Array,default:()=>[]}},setup(t){const{proxy:e}=pe(),o=J(),n=Fe(),a=se({defaultActive:n.meta.isDynamic?n.meta.isDynamicPath:n.path,isCollapse:!1}),l=V(()=>t.menuList),i=V(()=>o.state.themeConfig.themeConfig),r=s=>{const{path:u,meta:d}=s,c=d.isDynamic?d.isDynamicPath.split("/"):u.split("/");return c.length>=4&&d.isHide?c.splice(0,3).join("/"):u};return $e(o.state.themeConfig.themeConfig,()=>{document.body.clientWidth<=1e3?a.isCollapse=!1:a.isCollapse=i.value.isCollapse},{immediate:!0}),we(()=>{a.defaultActive=r(n)}),Xe(s=>{a.defaultActive=r(s),e.mittBus.emit("onMenuClick"),document.body.clientWidth<1e3&&(i.value.isCollapse=!1)}),H({menuLists:l,getThemeConfig:i},ae(a))}});function co(t,e,o,n,a,l){const i=y("SubItem"),r=y("el-sub-menu"),s=y("el-menu-item"),u=y("el-menu");return _(),O(u,{router:"","default-active":t.defaultActive,"background-color":"transparent",collapse:t.isCollapse,"unique-opened":t.getThemeConfig.isUniqueOpened,"collapse-transition":!1},{default:v(()=>[(_(!0),I(re,null,Ae(t.menuLists,d=>(_(),I(re,null,[d.children&&d.children.length>0?(_(),O(r,{index:d.path,key:d.path},{title:v(()=>[S("i",{class:P(d.meta.icon?d.meta.icon:"")},null,2),S("span",null,F(t.$t(d.meta.title)),1)]),default:v(()=>[C(i,{chil:d.children},null,8,["chil"])]),_:2},1032,["index"])):(_(),O(s,{index:d.path,key:d.path},hn({default:v(()=>[S("i",{class:P(d.meta.icon?d.meta.icon:"")},null,2)]),_:2},[!d.meta.isLink||d.meta.isLink&&d.meta.isIframe?{name:"title",fn:v(()=>[S("span",null,F(t.$t(d.meta.title)),1)])}:{name:"title",fn:v(()=>[S("a",{href:d.meta.isLink,target:"_blank",rel:"opener"},F(t.$t(d.meta.title)),9,["href"])])}]),1032,["index"]))],64))),256))]),_:1},8,["default-active","collapse","unique-opened"])}var fo=U(uo,[["render",co]]);const mo={name:"layoutAside",components:{Logo:bn,Vertical:fo},setup(){const{proxy:t}=pe(),e=J(),o=se({menuList:[],clientWidth:""}),n=V(()=>e.state.themeConfig.themeConfig),a=V(()=>e.state.tagsViewRoutes.isTagsViewCurrenFull),l=V(()=>{const{layout:f,isCollapse:h,menuBar:b}=e.state.themeConfig.themeConfig,T=b==="#FFFFFF"||b==="#FFF"||b==="#fff"||b==="#ffffff"?"layout-el-aside-br-color":"";if(o.clientWidth<=1e3)if(h){document.body.setAttribute("class","el-popup-parent--hidden");const q=document.querySelector(".layout-container"),W=document.createElement("div");return W.setAttribute("class","layout-aside-mobile-mode"),q.appendChild(W),W.addEventListener("click",i),[T,"layout-aside-mobile","layout-aside-mobile-open"]}else return i(),[T,"layout-aside-mobile","layout-aside-mobile-close"];else return f==="columns"?h?[T,"layout-aside-pc-1"]:[T,"layout-aside-pc-220"]:h?[T,"layout-aside-pc-64"]:[T,"layout-aside-pc-220"]}),i=()=>{var b;const f=document.querySelector(".layout-aside-mobile-mode");f&&((b=f.parentNode)==null||b.removeChild(f)),document.body.clientWidth<1e3&&(e.state.themeConfig.themeConfig.isCollapse=!1),document.body.setAttribute("class","")},r=V(()=>{let{layout:f,isShowLogo:h}=e.state.themeConfig.themeConfig;return h&&f==="defaults"||h&&f==="columns"}),s=()=>{if(e.state.themeConfig.themeConfig.layout==="columns")return!1;o.menuList=u(e.state.routesList.routesList)},u=f=>f.filter(h=>!h.meta.isHide).map(h=>(h=Object.assign({},h),h.children&&(h.children=u(h.children)),h)),d=f=>{o.clientWidth=f},c=f=>{let{layout:h}=e.state.themeConfig.themeConfig;if(h!=="columns")return!1;f||t.mittBus.emit("restoreDefault"),e.dispatch("routesList/setColumnsMenuHover",f)};return $e(e.state.themeConfig.themeConfig,f=>{if(f.isShowLogoChange!==f.isShowLogo){if(!t.$refs.layoutAsideScrollbarRef)return!1;t.$refs.layoutAsideScrollbarRef.update()}}),$e(e.state,f=>{let{layout:h,isClassicSplitMenu:b}=f.themeConfig.themeConfig;if(h==="classic"&&b)return!1;s()}),tt(()=>{d(document.body.clientWidth),s(),t.mittBus.on("setSendColumnsChildren",f=>{o.menuList=f.children}),t.mittBus.on("setSendClassicChildren",f=>{let{layout:h,isClassicSplitMenu:b}=e.state.themeConfig.themeConfig;h==="classic"&&b&&(o.menuList=[],o.menuList=f.children)}),t.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{s()}),t.mittBus.on("layoutMobileResize",f=>{d(f.clientWidth),i()})}),H({setCollapseStyle:l,setShowLogo:r,getThemeConfig:n,isTagsViewCurrenFull:a,onAsideEnterLeave:c},ae(o))}},ho={class:"h100"};function po(t,e,o,n,a,l){const i=y("Logo"),r=y("Vertical"),s=y("el-scrollbar"),u=y("el-aside");return nt((_(),I("div",ho,[C(u,{class:P(["layout-aside",n.setCollapseStyle])},{default:v(()=>[n.setShowLogo?(_(),O(i,{key:0})):N("",!0),C(s,{class:"flex-auto",ref:"layoutAsideScrollbarRef",onMouseenter:e[0]||(e[0]=d=>n.onAsideEnterLeave(!0)),onMouseleave:e[1]||(e[1]=d=>n.onAsideEnterLeave(!1))},{default:v(()=>[C(r,{menuList:t.menuList},null,8,["menuList"])]),_:1},512)]),_:1},8,["class"])],512)),[[ot,!n.isTagsViewCurrenFull]])}var Wt=U(mo,[["render",po]]);const go={name:"layoutBreadcrumb",setup(){const{proxy:t}=pe(),e=J(),o=Fe(),n=it(),a=se({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),l=V(()=>e.state.themeConfig.themeConfig),i=V(()=>{d(o.path);const{layout:c,isBreadcrumb:f}=e.state.themeConfig.themeConfig;return c==="classic"||c==="transverse"?"none":f?"":"none"}),r=c=>{const{redirect:f,path:h}=c;f?n.push(f):n.push(h)},s=()=>{t.mittBus.emit("onMenuClick"),e.state.themeConfig.themeConfig.isCollapse=!e.state.themeConfig.themeConfig.isCollapse},u=c=>{c.map(f=>{a.routeSplit.map((h,b,T)=>{a.routeSplitFirst===f.path&&(a.routeSplitFirst+=`/${T[a.routeSplitIndex]}`,a.breadcrumbList.push(f),a.routeSplitIndex++,f.children&&u(f.children))})})},d=c=>{if(!e.state.themeConfig.themeConfig.isBreadcrumb)return!1;a.breadcrumbList=[e.state.routesList.routesList[0]],a.routeSplit=c.split("/"),a.routeSplit.shift(),a.routeSplitFirst=`/${a.routeSplit[0]}`,a.routeSplitIndex=1,u(e.state.routesList.routesList)};return we(()=>{d(o.path)}),Xe(c=>{d(c.path)}),H({onThemeConfigChange:s,isShowBreadcrumb:i,getThemeConfig:l,onBreadcrumbClick:r},ae(a))}},_o={key:0,class:"layout-navbars-breadcrumb-span"},bo=["onClick"];function yo(t,e,o,n,a,l){const i=y("el-breadcrumb-item"),r=y("el-breadcrumb");return _(),I("div",{class:"layout-navbars-breadcrumb",style:yt({display:n.isShowBreadcrumb})},[S("i",{class:P(["layout-navbars-breadcrumb-icon",n.getThemeConfig.isCollapse?"el-icon-s-unfold":"el-icon-s-fold"]),onClick:e[0]||(e[0]=(...s)=>n.onThemeConfigChange&&n.onThemeConfigChange(...s))},null,2),C(r,{class:"layout-navbars-breadcrumb-hide"},{default:v(()=>[C(Gn,{name:"breadcrumb",mode:"out-in"},{default:v(()=>[(_(!0),I(re,null,Ae(t.breadcrumbList,(s,u)=>(_(),O(i,{key:s.meta.title},{default:v(()=>[u===t.breadcrumbList.length-1?(_(),I("span",_o,[n.getThemeConfig.isBreadcrumbIcon?(_(),I("i",{key:0,class:P([s.meta.icon,"layout-navbars-breadcrumb-iconfont"])},null,2)):N("",!0),Q(F(t.$t(s.meta.title)),1)])):(_(),I("a",{key:1,onClick:He(d=>n.onBreadcrumbClick(s),["prevent"])},[n.getThemeConfig.isBreadcrumbIcon?(_(),I("i",{key:0,class:P([s.meta.icon,"layout-navbars-breadcrumb-iconfont"])},null,2)):N("",!0),Q(F(t.$t(s.meta.title)),1)],8,bo))]),_:2},1024))),128))]),_:1})]),_:1})],4)}var wo=U(go,[["render",yo],["__scopeId","data-v-2d877580"]]),wn={exports:{}};/*!
* screenfull
* v5.1.0 - 2020-12-24
* (c) Sindre Sorhus; MIT License
*/(function(t){(function(){var e=typeof window!="undefined"&&typeof window.document!="undefined"?window.document:{},o=t.exports,n=function(){for(var i,r=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],s=0,u=r.length,d={};s<u;s++)if(i=r[s],i&&i[1]in e){for(s=0;s<i.length;s++)d[r[0][s]]=i[s];return d}return!1}(),a={change:n.fullscreenchange,error:n.fullscreenerror},l={request:function(i,r){return new Promise(function(s,u){var d=function(){this.off("change",d),s()}.bind(this);this.on("change",d),i=i||e.documentElement;var c=i[n.requestFullscreen](r);c instanceof Promise&&c.then(d).catch(u)}.bind(this))},exit:function(){return new Promise(function(i,r){if(!this.isFullscreen){i();return}var s=function(){this.off("change",s),i()}.bind(this);this.on("change",s);var u=e[n.exitFullscreen]();u instanceof Promise&&u.then(s).catch(r)}.bind(this))},toggle:function(i,r){return this.isFullscreen?this.exit():this.request(i,r)},onchange:function(i){this.on("change",i)},onerror:function(i){this.on("error",i)},on:function(i,r){var s=a[i];s&&e.addEventListener(s,r,!1)},off:function(i,r){var s=a[i];s&&e.removeEventListener(s,r,!1)},raw:n};if(!n){o?t.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(l,{isFullscreen:{get:function(){return Boolean(e[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[n.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(e[n.fullscreenEnabled])}}}),o?t.exports=l:window.screenfull=l})()})(wn);var wt=wn.exports;const vo={name:"layoutBreadcrumbUserNews",setup(){const t=se({newsList:[{label:"\u5173\u4E8E\u7248\u672C\u53D1\u5E03\u7684\u901A\u77E5",value:"Fastcms\uFF0C\u57FA\u4E8E Springboot\u63D2\u4EF6\u5316\u67B6\u6784\uFF0C\u6269\u5C55\u6027\u6781\u9AD8\u7684\u5185\u5BB9\u7BA1\u7406\u7CFB\u7EDF\uFF0C\u6B63\u5F0F\u53D1\u5E03\u65F6\u95F4\uFF1A2022\u5E7401\u670801\u65E5\uFF01",time:"2022-01-01"},{label:"\u5173\u4E8E\u5B66\u4E60\u4EA4\u6D41\u7684\u901A\u77E5",value:"http://www.xjd2020.com\uFF0CFastcms\u793E\u533A\uFF0C\u6B22\u8FCE\u5C0F\u4F19\u4F34\u5165\u7FA4\u5B66\u4E60\u4EA4\u6D41\u63A2\u8BA8\uFF01",time:"2022-01-01"}]});return H({onAllReadClick:()=>{t.newsList=[]},onGoToGiteeClick:()=>{window.open("https://gitee.com/xjd2020/fastcms.git")}},ae(t))}},Co={class:"layout-navbars-breadcrumb-user-news"},So={class:"head-box"},Eo={class:"head-box-title"},To={class:"content-box"},Do={class:"content-box-msg"},Lo={class:"content-box-time"};function ko(t,e,o,n,a,l){const i=y("el-empty");return _(),I("div",Co,[S("div",So,[S("div",Eo,F(t.$t("message.user.newTitle")),1),t.newsList.length>0?(_(),I("div",{key:0,class:"head-box-btn",onClick:e[0]||(e[0]=(...r)=>n.onAllReadClick&&n.onAllReadClick(...r))},F(t.$t("message.user.newBtn")),1)):N("",!0)]),S("div",To,[t.newsList.length>0?(_(!0),I(re,{key:0},Ae(t.newsList,(r,s)=>(_(),I("div",{class:"content-box-item",key:s},[S("div",null,F(r.label),1),S("div",Do,F(r.value),1),S("div",Lo,F(r.time),1)]))),128)):(_(),O(i,{key:1,description:t.$t("message.user.newDesc")},null,8,["description"]))]),t.newsList.length>0?(_(),I("div",{key:0,class:"foot-box",onClick:e[1]||(e[1]=(...r)=>n.onGoToGiteeClick&&n.onGoToGiteeClick(...r))},F(t.$t("message.user.newGo")),1)):N("",!0)])}var xo=U(vo,[["render",ko],["__scopeId","data-v-1bba9900"]]);const Io=Ue({name:"layoutBreadcrumbSearch",setup(){const t=Ve(),{t:e}=zt(),o=J(),n=it(),a=se({isShowSearch:!1,menuQuery:"",tagsViewList:[]}),l=()=>{a.menuQuery="",a.isShowSearch=!0,u(),Ye(()=>{t.value.focus()})},i=()=>{a.isShowSearch=!1},r=(f,h)=>{let b=f?a.tagsViewList.filter(s(f)):a.tagsViewList;h(b)},s=f=>h=>h.path.toLowerCase().indexOf(f.toLowerCase())>-1||h.meta.title.toLowerCase().indexOf(f.toLowerCase())>-1||e(h.meta.title).indexOf(f.toLowerCase())>-1,u=()=>{if(a.tagsViewList.length>0)return!1;o.state.tagsViewRoutes.tagsViewRoutes.map(f=>{f.meta.isHide||a.tagsViewList.push(H({},f))})};return H({layoutMenuAutocompleteRef:t,openSearch:l,closeSearch:i,menuSearch:r,onHandleSelect:f=>{let{path:h,redirect:b}=f;f.meta.isLink&&!f.meta.isIframe?window.open(f.meta.isLink):b?n.push(b):n.push(h),i()},onSearchBlur:()=>{i()}},ae(a))}}),Ao={class:"layout-search-dialog"};function Fo(t,e,o,n,a,l){const i=y("el-autocomplete"),r=y("el-dialog");return _(),I("div",Ao,[C(r,{modelValue:t.isShowSearch,"onUpdate:modelValue":e[1]||(e[1]=s=>t.isShowSearch=s),width:"300px","destroy-on-close":"",modal:!1,fullscreen:"","show-close":!1},{default:v(()=>[C(i,{modelValue:t.menuQuery,"onUpdate:modelValue":e[0]||(e[0]=s=>t.menuQuery=s),"fetch-suggestions":t.menuSearch,placeholder:t.$t("message.user.searchPlaceholder"),"prefix-icon":"el-icon-search",ref:"layoutMenuAutocompleteRef",onSelect:t.onHandleSelect,onBlur:t.onSearchBlur},{default:v(({item:s})=>[S("div",null,[S("i",{class:P([s.meta.icon,"mr10"])},null,2),Q(F(t.$t(s.meta.title)),1)])]),_:1},8,["modelValue","fetch-suggestions","placeholder","onSelect","onBlur"])]),_:1},8,["modelValue"])])}var $o=U(Io,[["render",Fo],["__scopeId","data-v-d58bb528"]]);const Vo={name:"layoutBreadcrumbUser",components:{UserNews:xo,Search:$o},setup(){const{t}=zt(),{proxy:e}=pe(),o=it(),n=J(),a=Yn(),l=Ve(),i=se({isScreenfull:!1,isShowUserNewsPopover:!1,disabledI18n:"zh-cn",disabledSize:"",website_domain:""}),r=V(()=>n.state.userInfos.userInfos),s=V(()=>n.state.themeConfig.themeConfig),u=V(()=>{let{layout:E,isClassicSplitMenu:M}=s.value,R="";return E==="defaults"||E==="classic"&&!M||E==="columns"?R=1:R=null,R}),d=()=>{if(!wt.isEnabled)return qt.warning("\u6682\u4E0D\u4E0D\u652F\u6301\u5168\u5C4F"),!1;wt.toggle(),wt.on("change",()=>{wt.isFullscreen?i.isScreenfull=!0:i.isScreenfull=!1})},c=()=>{e.mittBus.emit("openSetingsDrawer")},f=E=>{E==="logOut"?Kn({closeOnClickModal:!1,closeOnPressEscape:!1,title:t("message.user.logOutTitle"),message:t("message.user.logOutMessage"),showCancelButton:!0,confirmButtonText:t("message.user.logOutConfirm"),cancelButtonText:t("message.user.logOutCancel"),beforeClose:(M,R,K)=>{M==="confirm"?(R.confirmButtonLoading=!0,R.confirmButtonText=t("message.user.logOutExit"),setTimeout(()=>{K(),setTimeout(()=>{R.confirmButtonLoading=!1},300)},700)):K()}}).then(()=>{We.clear(),he.clear(),o.push("/login"),setTimeout(()=>{qt.success(t("message.user.logOutSuccess"))},300)}).catch(()=>{}):E==="/wareHouse"?window.open("https://gitee.com/xjd2020/fastcms.git"):E==="/siteHome"?window.open(i.website_domain):o.push(E)},h=()=>{l.value.openSearch()},b=E=>{he.remove("themeConfig"),s.value.globalComponentSize=E,he.set("themeConfig",s.value),e.$ELEMENT.size=E,L(),window.location.reload()},T=E=>{he.remove("themeConfig"),s.value.globalI18n=E,he.set("themeConfig",s.value),e.$i18n.locale=E,W(),a()},q=E=>{e.mittBus.emit("getI18nConfig",e.$i18n.messages[E])},W=()=>{switch(he.get("themeConfig").globalI18n){case"zh-cn":i.disabledI18n="zh-cn",q("zh-cn");break;case"en":i.disabledI18n="en",q("en");break;case"zh-tw":i.disabledI18n="zh-tw",q("zh-tw");break}},L=()=>{switch(he.get("themeConfig").globalComponentSize){case"":i.disabledSize="";break;case"medium":i.disabledSize="medium";break;case"small":i.disabledSize="small";break;case"mini":i.disabledSize="mini";break}};return we(()=>{he.get("themeConfig")&&(W(),L());let E=new Array;E.push("public_website_domain");let M=jt.stringify({configKeys:E},{arrayFormat:"repeat"});gn(M).then(R=>{R.data.forEach(K=>{i.website_domain=K.jsonValue})})}),H({getUserInfos:r,onLayoutSetingClick:c,onHandleCommandClick:f,onScreenfullClick:d,onSearchClick:h,onComponentSizeChange:b,onLanguageChange:T,searchRef:l,layoutUserFlexNum:u},ae(i))}},Oo=t=>(Ht("data-v-0b81766f"),t=t(),Nt(),t),Mo={class:"layout-navbars-breadcrumb-user-icon"},Ro=["title"],Bo={class:"layout-navbars-breadcrumb-user-icon"},Po=["title"],Ho=Q("\u7B80\u4F53\u4E2D\u6587"),No=Q("English"),zo=Q("\u7E41\u9AD4\u4E2D\u6587"),qo=["title"],jo=["title"],Wo={class:"layout-navbars-breadcrumb-user-icon"},Uo=["title"],Xo=["title"],Yo={class:"layout-navbars-breadcrumb-user-link"},Go=["src"],Ko=Oo(()=>S("i",{class:"el-icon-arrow-down el-icon--right"},null,-1));function Qo(t,e,o,n,a,l){const i=y("el-dropdown-item"),r=y("el-dropdown-menu"),s=y("el-dropdown"),u=y("el-badge"),d=y("UserNews"),c=y("el-popover"),f=y("Search");return _(),I("div",{class:"layout-navbars-breadcrumb-user",style:yt({flex:n.layoutUserFlexNum})},[C(s,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:n.onComponentSizeChange},{dropdown:v(()=>[C(r,null,{default:v(()=>[C(i,{command:"",disabled:t.disabledSize===""},{default:v(()=>[Q(F(t.$t("message.user.dropdownDefault")),1)]),_:1},8,["disabled"]),C(i,{command:"medium",disabled:t.disabledSize==="medium"},{default:v(()=>[Q(F(t.$t("message.user.dropdownMedium")),1)]),_:1},8,["disabled"]),C(i,{command:"small",disabled:t.disabledSize==="small"},{default:v(()=>[Q(F(t.$t("message.user.dropdownSmall")),1)]),_:1},8,["disabled"]),C(i,{command:"mini",disabled:t.disabledSize==="mini"},{default:v(()=>[Q(F(t.$t("message.user.dropdownMini")),1)]),_:1},8,["disabled"])]),_:1})]),default:v(()=>[S("div",Mo,[S("i",{class:"iconfont icon-ziti",title:t.$t("message.user.title0")},null,8,Ro)])]),_:1},8,["onCommand"]),C(s,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:n.onLanguageChange},{dropdown:v(()=>[C(r,null,{default:v(()=>[C(i,{command:"zh-cn",disabled:t.disabledI18n==="zh-cn"},{default:v(()=>[Ho]),_:1},8,["disabled"]),C(i,{command:"en",disabled:t.disabledI18n==="en"},{default:v(()=>[No]),_:1},8,["disabled"]),C(i,{command:"zh-tw",disabled:t.disabledI18n==="zh-tw"},{default:v(()=>[zo]),_:1},8,["disabled"])]),_:1})]),default:v(()=>[S("div",Bo,[S("i",{class:P(["iconfont",t.disabledI18n==="en"?"icon-fuhao-yingwen":"icon-fuhao-zhongwen"]),title:t.$t("message.user.title1")},null,10,Po)])]),_:1},8,["onCommand"]),S("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:e[0]||(e[0]=(...h)=>n.onSearchClick&&n.onSearchClick(...h))},[S("i",{class:"el-icon-search",title:t.$t("message.user.title2")},null,8,qo)]),S("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:e[1]||(e[1]=(...h)=>n.onLayoutSetingClick&&n.onLayoutSetingClick(...h))},[S("i",{class:"icon-skin iconfont",title:t.$t("message.user.title3")},null,8,jo)]),S("div",Wo,[C(c,{placement:"bottom",trigger:"click",visible:t.isShowUserNewsPopover,"onUpdate:visible":e[3]||(e[3]=h=>t.isShowUserNewsPopover=h),width:300,"popper-class":"el-popover-pupop-user-news"},{reference:v(()=>[C(u,{"is-dot":!0,onClick:e[2]||(e[2]=h=>t.isShowUserNewsPopover=!t.isShowUserNewsPopover)},{default:v(()=>[S("i",{class:"el-icon-bell",title:t.$t("message.user.title4")},null,8,Uo)]),_:1})]),default:v(()=>[C(pn,{name:"el-zoom-in-top"},{default:v(()=>[nt(C(d,null,null,512),[[ot,t.isShowUserNewsPopover]])]),_:1})]),_:1},8,["visible"])]),S("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:e[4]||(e[4]=(...h)=>n.onScreenfullClick&&n.onScreenfullClick(...h))},[S("i",{class:P(["iconfont",t.isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:t.isScreenfull?t.$t("message.user.title6"):t.$t("message.user.title5")},null,10,Xo)]),C(s,{"show-timeout":70,"hide-timeout":50,onCommand:n.onHandleCommandClick},{dropdown:v(()=>[C(r,null,{default:v(()=>[C(i,{command:"/home"},{default:v(()=>[Q(F(t.$t("message.user.dropdown1")),1)]),_:1}),t.website_domain!=""?(_(),O(i,{key:0,command:"/siteHome"},{default:v(()=>[Q(F(t.$t("message.user.dropdown7")),1)]),_:1})):N("",!0),C(i,{command:"/wareHouse"},{default:v(()=>[Q(F(t.$t("message.user.dropdown6")),1)]),_:1}),n.getUserInfos.userType==1?(_(),O(i,{key:1,command:"/personal"},{default:v(()=>[Q(F(t.$t("message.user.dropdown2")),1)]),_:1})):N("",!0),C(i,{divided:"",command:"logOut"},{default:v(()=>[Q(F(t.$t("message.user.dropdown5")),1)]),_:1})]),_:1})]),default:v(()=>[S("span",Yo,[S("img",{src:n.getUserInfos.photo,class:"layout-navbars-breadcrumb-user-link-photo mr5"},null,8,Go),Q(" "+F(n.getUserInfos.username===""?"test":n.getUserInfos.username)+" ",1),Ko])]),_:1},8,["onCommand"]),C(f,{ref:"searchRef"},null,512)],4)}var Zo=U(Vo,[["render",Qo],["__scopeId","data-v-0b81766f"]]);const Jo=Ue({name:"navMenuHorizontal",components:{SubItem:yn},props:{menuList:{type:Array,default:()=>[]}},setup(t){const{proxy:e}=pe(),o=Fe(),n=J(),a=se({defaultActive:null}),l=V(()=>t.menuList),i=c=>{const f=c.wheelDelta||-c.deltaY*40;e.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft=e.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft+f/4},r=()=>{Ye(()=>{let c=document.querySelector(".el-menu.el-menu--horizontal li.is-active");if(!c)return!1;e.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft=c.offsetLeft})},s=c=>c.filter(f=>!f.meta.isHide).map(f=>(f=Object.assign({},f),f.children&&(f.children=s(f.children)),f)),u=c=>{const f=c.split("/");let h={};return s(n.state.routesList.routesList).map((b,T)=>{b.path===`/${f[1]}`&&(b.k=T,h.item=[H({},b)],h.children=[H({},b)],b.children&&(h.children=b.children))}),h},d=c=>{const{path:f,meta:h}=c;if(n.state.themeConfig.themeConfig.layout==="classic")a.defaultActive=`/${f.split("/")[1]}`;else{const b=h.isDynamic?h.isDynamicPath.split("/"):f.split("/");b.length>=4&&h.isHide?a.defaultActive=b.splice(0,3).join("/"):a.defaultActive=f}};return tt(()=>{d(o)}),we(()=>{r()}),Xe(c=>{d(c),e.mittBus.emit("onMenuClick");let{layout:f,isClassicSplitMenu:h}=n.state.themeConfig.themeConfig;f==="classic"&&h&&e.mittBus.emit("setSendClassicChildren",u(c.path))}),H({menuLists:l,onElMenuHorizontalScroll:i},ae(a))}}),ei={class:"el-menu-horizontal-warp"};function ti(t,e,o,n,a,l){const i=y("SubItem"),r=y("el-sub-menu"),s=y("el-menu-item"),u=y("el-menu"),d=y("el-scrollbar");return _(),I("div",ei,[C(d,{onWheel:He(t.onElMenuHorizontalScroll,["prevent"]),ref:"elMenuHorizontalScrollRef"},{default:v(()=>[C(u,{router:"","default-active":t.defaultActive,"background-color":"transparent",mode:"horizontal"},{default:v(()=>[(_(!0),I(re,null,Ae(t.menuLists,c=>(_(),I(re,null,[c.children&&c.children.length>0?(_(),O(r,{index:c.path,key:c.path},{title:v(()=>[S("i",{class:P(c.meta.icon?c.meta.icon:"")},null,2),S("span",null,F(t.$t(c.meta.title)),1)]),default:v(()=>[C(i,{chil:c.children},null,8,["chil"])]),_:2},1032,["index"])):(_(),O(s,{index:c.path,key:c.path},hn({_:2},[!c.meta.isLink||c.meta.isLink&&c.meta.isIframe?{name:"title",fn:v(()=>[S("i",{class:P(c.meta.icon?c.meta.icon:"")},null,2),Q(" "+F(t.$t(c.meta.title)),1)])}:{name:"title",fn:v(()=>[S("a",{href:c.meta.isLink,target:"_blank",rel:"opener"},[S("i",{class:P(c.meta.icon?c.meta.icon:"")},null,2),Q(" "+F(t.$t(c.meta.title)),1)],8,["href"])])}]),1032,["index"]))],64))),256))]),_:1},8,["default-active"])]),_:1},8,["onWheel"])])}var ni=U(Jo,[["render",ti],["__scopeId","data-v-032bda11"]]);const oi={name:"layoutBreadcrumbIndex",components:{Breadcrumb:wo,User:Zo,Logo:bn,Horizontal:ni},setup(){const{proxy:t}=pe(),e=J(),o=Fe(),n=se({menuList:[]}),a=V(()=>e.state.themeConfig.themeConfig),l=V(()=>{let{isShowLogo:c,layout:f}=e.state.themeConfig.themeConfig;return c&&f==="classic"||c&&f==="transverse"}),i=V(()=>{let{layout:c,isClassicSplitMenu:f}=e.state.themeConfig.themeConfig;return c==="transverse"||f&&c==="classic"}),r=()=>{let{layout:c,isClassicSplitMenu:f}=e.state.themeConfig.themeConfig;if(c==="classic"&&f){n.menuList=s(u(e.state.routesList.routesList));const h=d(o.path);t.mittBus.emit("setSendClassicChildren",h)}else n.menuList=u(e.state.routesList.routesList)},s=c=>(c.map(f=>{f.children&&delete f.children}),c),u=c=>c.filter(f=>!f.meta.isHide).map(f=>(f=Object.assign({},f),f.children&&(f.children=u(f.children)),f)),d=c=>{const f=c.split("/");let h={};return u(e.state.routesList.routesList).map((b,T)=>{b.path===`/${f[1]}`&&(b.k=T,h.item=[H({},b)],h.children=[H({},b)],b.children&&(h.children=b.children))}),h};return we(()=>{r(),t.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{r()})}),st(()=>{t.mittBus.off("getBreadcrumbIndexSetFilterRoutes")}),H({getThemeConfig:a,setIsShowLogo:l,isLayoutTransverse:i},ae(n))}},ii={class:"layout-navbars-breadcrumb-index"};function si(t,e,o,n,a,l){const i=y("Logo"),r=y("Breadcrumb"),s=y("Horizontal"),u=y("User");return _(),I("div",ii,[n.setIsShowLogo?(_(),O(i,{key:0})):N("",!0),C(r),n.isLayoutTransverse?(_(),O(s,{key:1,menuList:t.menuList},null,8,["menuList"])):N("",!0),C(u)])}var ai=U(oi,[["render",si],["__scopeId","data-v-d3fd2fd6"]]);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function vn(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),o.push.apply(o,n)}return o}function ve(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?vn(Object(o),!0).forEach(function(n){ri(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):vn(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function vt(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vt=function(e){return typeof e}:vt=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(t)}function ri(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function Te(){return Te=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Te.apply(this,arguments)}function li(t,e){if(t==null)return{};var o={},n=Object.keys(t),a,l;for(l=0;l<n.length;l++)a=n[l],!(e.indexOf(a)>=0)&&(o[a]=t[a]);return o}function ui(t,e){if(t==null)return{};var o=li(t,e),n,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(o[n]=t[n]))}return o}var ci="1.14.0";function De(t){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(t)}var Le=De(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),at=De(/Edge/i),Cn=De(/firefox/i),rt=De(/safari/i)&&!De(/chrome/i)&&!De(/android/i),Sn=De(/iP(ad|od|hone)/i),di=De(/chrome/i)&&De(/android/i),En={capture:!1,passive:!1};function B(t,e,o){t.addEventListener(e,o,!Le&&En)}function $(t,e,o){t.removeEventListener(e,o,!Le&&En)}function Ct(t,e){if(!!e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function fi(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Ce(t,e,o,n){if(t){o=o||document;do{if(e!=null&&(e[0]===">"?t.parentNode===o&&Ct(t,e):Ct(t,e))||n&&t===o)return t;if(t===o)break}while(t=fi(t))}return null}var Tn=/\s+/g;function ue(t,e,o){if(t&&e)if(t.classList)t.classList[o?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(Tn," ").replace(" "+e+" "," ");t.className=(n+(o?" "+e:"")).replace(Tn," ")}}function k(t,e,o){var n=t&&t.style;if(n){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(o=t.currentStyle),e===void 0?o:o[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=o+(typeof o=="string"?"":"px")}}function Ge(t,e){var o="";if(typeof t=="string")o=t;else do{var n=k(t,"transform");n&&n!=="none"&&(o=n+" "+o)}while(!e&&(t=t.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(o)}function Dn(t,e,o){if(t){var n=t.getElementsByTagName(e),a=0,l=n.length;if(o)for(;a<l;a++)o(n[a],a);return n}return[]}function Se(){var t=document.scrollingElement;return t||document.documentElement}function Z(t,e,o,n,a){if(!(!t.getBoundingClientRect&&t!==window)){var l,i,r,s,u,d,c;if(t!==window&&t.parentNode&&t!==Se()?(l=t.getBoundingClientRect(),i=l.top,r=l.left,s=l.bottom,u=l.right,d=l.height,c=l.width):(i=0,r=0,s=window.innerHeight,u=window.innerWidth,d=window.innerHeight,c=window.innerWidth),(e||o)&&t!==window&&(a=a||t.parentNode,!Le))do if(a&&a.getBoundingClientRect&&(k(a,"transform")!=="none"||o&&k(a,"position")!=="static")){var f=a.getBoundingClientRect();i-=f.top+parseInt(k(a,"border-top-width")),r-=f.left+parseInt(k(a,"border-left-width")),s=i+l.height,u=r+l.width;break}while(a=a.parentNode);if(n&&t!==window){var h=Ge(a||t),b=h&&h.a,T=h&&h.d;h&&(i/=T,r/=b,c/=b,d/=T,s=i+d,u=r+c)}return{top:i,left:r,bottom:s,right:u,width:c,height:d}}}function Ln(t,e,o){for(var n=Oe(t,!0),a=Z(t)[e];n;){var l=Z(n)[o],i=void 0;if(o==="top"||o==="left"?i=a>=l:i=a<=l,!i)return n;if(n===Se())break;n=Oe(n,!1)}return!1}function Ke(t,e,o,n){for(var a=0,l=0,i=t.children;l<i.length;){if(i[l].style.display!=="none"&&i[l]!==x.ghost&&(n||i[l]!==x.dragged)&&Ce(i[l],o.draggable,t,!1)){if(a===e)return i[l];a++}l++}return null}function Ut(t,e){for(var o=t.lastElementChild;o&&(o===x.ghost||k(o,"display")==="none"||e&&!Ct(o,e));)o=o.previousElementSibling;return o||null}function ge(t,e){var o=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==x.clone&&(!e||Ct(t,e))&&o++;return o}function kn(t){var e=0,o=0,n=Se();if(t)do{var a=Ge(t),l=a.a,i=a.d;e+=t.scrollLeft*l,o+=t.scrollTop*i}while(t!==n&&(t=t.parentNode));return[e,o]}function mi(t,e){for(var o in t)if(!!t.hasOwnProperty(o)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[o][n])return Number(o)}return-1}function Oe(t,e){if(!t||!t.getBoundingClientRect)return Se();var o=t,n=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var a=k(o);if(o.clientWidth<o.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return Se();if(n||e)return o;n=!0}}while(o=o.parentNode);return Se()}function hi(t,e){if(t&&e)for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}function Xt(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var lt;function xn(t,e){return function(){if(!lt){var o=arguments,n=this;o.length===1?t.call(n,o[0]):t.apply(n,o),lt=setTimeout(function(){lt=void 0},e)}}}function pi(){clearTimeout(lt),lt=void 0}function In(t,e,o){t.scrollLeft+=e,t.scrollTop+=o}function An(t){var e=window.Polymer,o=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):o?o(t).clone(!0)[0]:t.cloneNode(!0)}var ce="Sortable"+new Date().getTime();function gi(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(a){if(!(k(a,"display")==="none"||a===x.ghost)){t.push({target:a,rect:Z(a)});var l=ve({},t[t.length-1].rect);if(a.thisAnimationDuration){var i=Ge(a,!0);i&&(l.top-=i.f,l.left-=i.e)}a.fromRect=l}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(mi(t,{target:n}),1)},animateAll:function(n){var a=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var l=!1,i=0;t.forEach(function(r){var s=0,u=r.target,d=u.fromRect,c=Z(u),f=u.prevFromRect,h=u.prevToRect,b=r.rect,T=Ge(u,!0);T&&(c.top-=T.f,c.left-=T.e),u.toRect=c,u.thisAnimationDuration&&Xt(f,c)&&!Xt(d,c)&&(b.top-c.top)/(b.left-c.left)==(d.top-c.top)/(d.left-c.left)&&(s=bi(b,f,h,a.options)),Xt(c,d)||(u.prevFromRect=d,u.prevToRect=c,s||(s=a.options.animation),a.animate(u,b,c,s)),s&&(l=!0,i=Math.max(i,s),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},s),u.thisAnimationDuration=s)}),clearTimeout(e),l?e=setTimeout(function(){typeof n=="function"&&n()},i):typeof n=="function"&&n(),t=[]},animate:function(n,a,l,i){if(i){k(n,"transition",""),k(n,"transform","");var r=Ge(this.el),s=r&&r.a,u=r&&r.d,d=(a.left-l.left)/(s||1),c=(a.top-l.top)/(u||1);n.animatingX=!!d,n.animatingY=!!c,k(n,"transform","translate3d("+d+"px,"+c+"px,0)"),this.forRepaintDummy=_i(n),k(n,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),k(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){k(n,"transition",""),k(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},i)}}}}function _i(t){return t.offsetWidth}function bi(t,e,o,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))*n.animation}var Qe=[],Yt={initializeByDefault:!0},ut={mount:function(e){for(var o in Yt)Yt.hasOwnProperty(o)&&!(o in e)&&(e[o]=Yt[o]);Qe.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Qe.push(e)},pluginEvent:function(e,o,n){var a=this;this.eventCanceled=!1,n.cancel=function(){a.eventCanceled=!0};var l=e+"Global";Qe.forEach(function(i){!o[i.pluginName]||(o[i.pluginName][l]&&o[i.pluginName][l](ve({sortable:o},n)),o.options[i.pluginName]&&o[i.pluginName][e]&&o[i.pluginName][e](ve({sortable:o},n)))})},initializePlugins:function(e,o,n,a){Qe.forEach(function(r){var s=r.pluginName;if(!(!e.options[s]&&!r.initializeByDefault)){var u=new r(e,o,e.options);u.sortable=e,u.options=e.options,e[s]=u,Te(n,u.defaults)}});for(var l in e.options)if(!!e.options.hasOwnProperty(l)){var i=this.modifyOption(e,l,e.options[l]);typeof i!="undefined"&&(e.options[l]=i)}},getEventProperties:function(e,o){var n={};return Qe.forEach(function(a){typeof a.eventProperties=="function"&&Te(n,a.eventProperties.call(o[a.pluginName],e))}),n},modifyOption:function(e,o,n){var a;return Qe.forEach(function(l){!e[l.pluginName]||l.optionListeners&&typeof l.optionListeners[o]=="function"&&(a=l.optionListeners[o].call(e[l.pluginName],n))}),a}};function yi(t){var e=t.sortable,o=t.rootEl,n=t.name,a=t.targetEl,l=t.cloneEl,i=t.toEl,r=t.fromEl,s=t.oldIndex,u=t.newIndex,d=t.oldDraggableIndex,c=t.newDraggableIndex,f=t.originalEvent,h=t.putSortable,b=t.extraEventProperties;if(e=e||o&&o[ce],!!e){var T,q=e.options,W="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Le&&!at?T=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(T=document.createEvent("Event"),T.initEvent(n,!0,!0)),T.to=i||o,T.from=r||o,T.item=a||o,T.clone=l,T.oldIndex=s,T.newIndex=u,T.oldDraggableIndex=d,T.newDraggableIndex=c,T.originalEvent=f,T.pullMode=h?h.lastPutMode:void 0;var L=ve(ve({},b),ut.getEventProperties(n,e));for(var E in L)T[E]=L[E];o&&o.dispatchEvent(T),q[W]&&q[W].call(e,T)}}var wi=["evt"],le=function(e,o){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n.evt,l=ui(n,wi);ut.pluginEvent.bind(x)(e,o,ve({dragEl:g,parentEl:X,ghostEl:A,rootEl:z,nextEl:Ne,lastDownEl:St,cloneEl:Y,cloneHidden:Me,dragStarted:dt,putSortable:ee,activeSortable:x.active,originalEvent:a,oldIndex:Ze,oldDraggableIndex:ct,newIndex:de,newDraggableIndex:Re,hideGhostForTarget:Bn,unhideGhostForTarget:Pn,cloneNowHidden:function(){Me=!0},cloneNowShown:function(){Me=!1},dispatchSortableEvent:function(r){ie({sortable:o,name:r,originalEvent:a})}},l))};function ie(t){yi(ve({putSortable:ee,cloneEl:Y,targetEl:g,rootEl:z,oldIndex:Ze,oldDraggableIndex:ct,newIndex:de,newDraggableIndex:Re},t))}var g,X,A,z,Ne,St,Y,Me,Ze,de,ct,Re,Et,ee,Je=!1,Tt=!1,Dt=[],ze,be,Gt,Kt,Fn,$n,dt,et,ft,mt=!1,Lt=!1,kt,ne,Qt=[],Zt=!1,xt=[],It=typeof document!="undefined",At=Sn,Vn=at||Le?"cssFloat":"float",vi=It&&!di&&!Sn&&"draggable"in document.createElement("div"),On=function(){if(!!It){if(Le)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),Mn=function(e,o){var n=k(e),a=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),l=Ke(e,0,o),i=Ke(e,1,o),r=l&&k(l),s=i&&k(i),u=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+Z(l).width,d=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Z(i).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&r.float&&r.float!=="none"){var c=r.float==="left"?"left":"right";return i&&(s.clear==="both"||s.clear===c)?"vertical":"horizontal"}return l&&(r.display==="block"||r.display==="flex"||r.display==="table"||r.display==="grid"||u>=a&&n[Vn]==="none"||i&&n[Vn]==="none"&&u+d>a)?"vertical":"horizontal"},Ci=function(e,o,n){var a=n?e.left:e.top,l=n?e.right:e.bottom,i=n?e.width:e.height,r=n?o.left:o.top,s=n?o.right:o.bottom,u=n?o.width:o.height;return a===r||l===s||a+i/2===r+u/2},Si=function(e,o){var n;return Dt.some(function(a){var l=a[ce].options.emptyInsertThreshold;if(!(!l||Ut(a))){var i=Z(a),r=e>=i.left-l&&e<=i.right+l,s=o>=i.top-l&&o<=i.bottom+l;if(r&&s)return n=a}}),n},Rn=function(e){function o(l,i){return function(r,s,u,d){var c=r.options.group.name&&s.options.group.name&&r.options.group.name===s.options.group.name;if(l==null&&(i||c))return!0;if(l==null||l===!1)return!1;if(i&&l==="clone")return l;if(typeof l=="function")return o(l(r,s,u,d),i)(r,s,u,d);var f=(i?r:s).options.group.name;return l===!0||typeof l=="string"&&l===f||l.join&&l.indexOf(f)>-1}}var n={},a=e.group;(!a||vt(a)!="object")&&(a={name:a}),n.name=a.name,n.checkPull=o(a.pull,!0),n.checkPut=o(a.put),n.revertClone=a.revertClone,e.group=n},Bn=function(){!On&&A&&k(A,"display","none")},Pn=function(){!On&&A&&k(A,"display","")};It&&document.addEventListener("click",function(t){if(Tt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Tt=!1,!1},!0);var qe=function(e){if(g){e=e.touches?e.touches[0]:e;var o=Si(e.clientX,e.clientY);if(o){var n={};for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a]);n.target=n.rootEl=o,n.preventDefault=void 0,n.stopPropagation=void 0,o[ce]._onDragOver(n)}}},Ei=function(e){g&&g.parentNode[ce]._isOutsideThisEl(e.target)};function x(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Te({},e),t[ce]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Mn(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,r){i.setData("Text",r.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:x.supportPointer!==!1&&"PointerEvent"in window&&!rt,emptyInsertThreshold:5};ut.initializePlugins(this,t,o);for(var n in o)!(n in e)&&(e[n]=o[n]);Rn(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:vi,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?B(t,"pointerdown",this._onTapStart):(B(t,"mousedown",this._onTapStart),B(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(B(t,"dragover",this),B(t,"dragenter",this)),Dt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Te(this,gi())}x.prototype={constructor:x,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(et=null)},_getDirection:function(e,o){return typeof this.options.direction=="function"?this.options.direction.call(this,e,o,g):this.options.direction},_onTapStart:function(e){if(!!e.cancelable){var o=this,n=this.el,a=this.options,l=a.preventOnFilter,i=e.type,r=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,s=(r||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,d=a.filter;if(Fi(n),!g&&!(/mousedown|pointerdown/.test(i)&&e.button!==0||a.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&rt&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=Ce(s,a.draggable,n,!1),!(s&&s.animated)&&St!==s)){if(Ze=ge(s),ct=ge(s,a.draggable),typeof d=="function"){if(d.call(this,e,s,this)){ie({sortable:o,rootEl:u,name:"filter",targetEl:s,toEl:n,fromEl:n}),le("filter",o,{evt:e}),l&&e.cancelable&&e.preventDefault();return}}else if(d&&(d=d.split(",").some(function(c){if(c=Ce(u,c.trim(),n,!1),c)return ie({sortable:o,rootEl:c,name:"filter",targetEl:s,fromEl:n,toEl:n}),le("filter",o,{evt:e}),!0}),d)){l&&e.cancelable&&e.preventDefault();return}a.handle&&!Ce(u,a.handle,n,!1)||this._prepareDragStart(e,r,s)}}},_prepareDragStart:function(e,o,n){var a=this,l=a.el,i=a.options,r=l.ownerDocument,s;if(n&&!g&&n.parentNode===l){var u=Z(n);if(z=l,g=n,X=g.parentNode,Ne=g.nextSibling,St=n,Et=i.group,x.dragged=g,ze={target:g,clientX:(o||e).clientX,clientY:(o||e).clientY},Fn=ze.clientX-u.left,$n=ze.clientY-u.top,this._lastX=(o||e).clientX,this._lastY=(o||e).clientY,g.style["will-change"]="all",s=function(){if(le("delayEnded",a,{evt:e}),x.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!Cn&&a.nativeDraggable&&(g.draggable=!0),a._triggerDragStart(e,o),ie({sortable:a,name:"choose",originalEvent:e}),ue(g,i.chosenClass,!0)},i.ignore.split(",").forEach(function(d){Dn(g,d.trim(),Jt)}),B(r,"dragover",qe),B(r,"mousemove",qe),B(r,"touchmove",qe),B(r,"mouseup",a._onDrop),B(r,"touchend",a._onDrop),B(r,"touchcancel",a._onDrop),Cn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,g.draggable=!0),le("delayStart",this,{evt:e}),i.delay&&(!i.delayOnTouchOnly||o)&&(!this.nativeDraggable||!(at||Le))){if(x.eventCanceled){this._onDrop();return}B(r,"mouseup",a._disableDelayedDrag),B(r,"touchend",a._disableDelayedDrag),B(r,"touchcancel",a._disableDelayedDrag),B(r,"mousemove",a._delayedDragTouchMoveHandler),B(r,"touchmove",a._delayedDragTouchMoveHandler),i.supportPointer&&B(r,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(s,i.delay)}else s()}},_delayedDragTouchMoveHandler:function(e){var o=e.touches?e.touches[0]:e;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){g&&Jt(g),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;$(e,"mouseup",this._disableDelayedDrag),$(e,"touchend",this._disableDelayedDrag),$(e,"touchcancel",this._disableDelayedDrag),$(e,"mousemove",this._delayedDragTouchMoveHandler),$(e,"touchmove",this._delayedDragTouchMoveHandler),$(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,o){o=o||e.pointerType=="touch"&&e,!this.nativeDraggable||o?this.options.supportPointer?B(document,"pointermove",this._onTouchMove):o?B(document,"touchmove",this._onTouchMove):B(document,"mousemove",this._onTouchMove):(B(g,"dragend",this),B(z,"dragstart",this._onDragStart));try{document.selection?$t(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,o){if(Je=!1,z&&g){le("dragStarted",this,{evt:o}),this.nativeDraggable&&B(document,"dragover",Ei);var n=this.options;!e&&ue(g,n.dragClass,!1),ue(g,n.ghostClass,!0),x.active=this,e&&this._appendGhost(),ie({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(be){this._lastX=be.clientX,this._lastY=be.clientY,Bn();for(var e=document.elementFromPoint(be.clientX,be.clientY),o=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(be.clientX,be.clientY),e!==o);)o=e;if(g.parentNode[ce]._isOutsideThisEl(e),o)do{if(o[ce]){var n=void 0;if(n=o[ce]._onDragOver({clientX:be.clientX,clientY:be.clientY,target:e,rootEl:o}),n&&!this.options.dragoverBubble)break}e=o}while(o=o.parentNode);Pn()}},_onTouchMove:function(e){if(ze){var o=this.options,n=o.fallbackTolerance,a=o.fallbackOffset,l=e.touches?e.touches[0]:e,i=A&&Ge(A,!0),r=A&&i&&i.a,s=A&&i&&i.d,u=At&&ne&&kn(ne),d=(l.clientX-ze.clientX+a.x)/(r||1)+(u?u[0]-Qt[0]:0)/(r||1),c=(l.clientY-ze.clientY+a.y)/(s||1)+(u?u[1]-Qt[1]:0)/(s||1);if(!x.active&&!Je){if(n&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(A){i?(i.e+=d-(Gt||0),i.f+=c-(Kt||0)):i={a:1,b:0,c:0,d:1,e:d,f:c};var f="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");k(A,"webkitTransform",f),k(A,"mozTransform",f),k(A,"msTransform",f),k(A,"transform",f),Gt=d,Kt=c,be=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!A){var e=this.options.fallbackOnBody?document.body:z,o=Z(g,!0,At,!0,e),n=this.options;if(At){for(ne=e;k(ne,"position")==="static"&&k(ne,"transform")==="none"&&ne!==document;)ne=ne.parentNode;ne!==document.body&&ne!==document.documentElement?(ne===document&&(ne=Se()),o.top+=ne.scrollTop,o.left+=ne.scrollLeft):ne=Se(),Qt=kn(ne)}A=g.cloneNode(!0),ue(A,n.ghostClass,!1),ue(A,n.fallbackClass,!0),ue(A,n.dragClass,!0),k(A,"transition",""),k(A,"transform",""),k(A,"box-sizing","border-box"),k(A,"margin",0),k(A,"top",o.top),k(A,"left",o.left),k(A,"width",o.width),k(A,"height",o.height),k(A,"opacity","0.8"),k(A,"position",At?"absolute":"fixed"),k(A,"zIndex","100000"),k(A,"pointerEvents","none"),x.ghost=A,e.appendChild(A),k(A,"transform-origin",Fn/parseInt(A.style.width)*100+"% "+$n/parseInt(A.style.height)*100+"%")}},_onDragStart:function(e,o){var n=this,a=e.dataTransfer,l=n.options;if(le("dragStart",this,{evt:e}),x.eventCanceled){this._onDrop();return}le("setupClone",this),x.eventCanceled||(Y=An(g),Y.draggable=!1,Y.style["will-change"]="",this._hideClone(),ue(Y,this.options.chosenClass,!1),x.clone=Y),n.cloneId=$t(function(){le("clone",n),!x.eventCanceled&&(n.options.removeCloneOnHide||z.insertBefore(Y,g),n._hideClone(),ie({sortable:n,name:"clone"}))}),!o&&ue(g,l.dragClass,!0),o?(Tt=!0,n._loopId=setInterval(n._emulateDragOver,50)):($(document,"mouseup",n._onDrop),$(document,"touchend",n._onDrop),$(document,"touchcancel",n._onDrop),a&&(a.effectAllowed="move",l.setData&&l.setData.call(n,a,g)),B(document,"drop",n),k(g,"transform","translateZ(0)")),Je=!0,n._dragStartId=$t(n._dragStarted.bind(n,o,e)),B(document,"selectstart",n),dt=!0,rt&&k(document.body,"user-select","none")},_onDragOver:function(e){var o=this.el,n=e.target,a,l,i,r=this.options,s=r.group,u=x.active,d=Et===s,c=r.sort,f=ee||u,h,b=this,T=!1;if(Zt)return;function q(p,m){le(p,b,ve({evt:e,isOwner:d,axis:h?"vertical":"horizontal",revert:i,dragRect:a,targetRect:l,canSort:c,fromSortable:f,target:n,completed:L,onMove:function(w,j){return Ft(z,o,g,a,w,Z(w),e,j)},changed:E},m))}function W(){q("dragOverAnimationCapture"),b.captureAnimationState(),b!==f&&f.captureAnimationState()}function L(p){return q("dragOverCompleted",{insertion:p}),p&&(d?u._hideClone():u._showClone(b),b!==f&&(ue(g,ee?ee.options.ghostClass:u.options.ghostClass,!1),ue(g,r.ghostClass,!0)),ee!==b&&b!==x.active?ee=b:b===x.active&&ee&&(ee=null),f===b&&(b._ignoreWhileAnimating=n),b.animateAll(function(){q("dragOverAnimationComplete"),b._ignoreWhileAnimating=null}),b!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(n===g&&!g.animated||n===o&&!n.animated)&&(et=null),!r.dragoverBubble&&!e.rootEl&&n!==document&&(g.parentNode[ce]._isOutsideThisEl(e.target),!p&&qe(e)),!r.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),T=!0}function E(){de=ge(g),Re=ge(g,r.draggable),ie({sortable:b,name:"change",toEl:o,newIndex:de,newDraggableIndex:Re,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=Ce(n,r.draggable,o,!0),q("dragOver"),x.eventCanceled)return T;if(g.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||b._ignoreWhileAnimating===n)return L(!1);if(Tt=!1,u&&!r.disabled&&(d?c||(i=X!==z):ee===this||(this.lastPutMode=Et.checkPull(this,u,g,e))&&s.checkPut(this,u,g,e))){if(h=this._getDirection(e,n)==="vertical",a=Z(g),q("dragOverValid"),x.eventCanceled)return T;if(i)return X=z,W(),this._hideClone(),q("revert"),x.eventCanceled||(Ne?z.insertBefore(g,Ne):z.appendChild(g)),L(!0);var M=Ut(o,r.draggable);if(!M||ki(e,h,this)&&!M.animated){if(M===g)return L(!1);if(M&&o===e.target&&(n=M),n&&(l=Z(n)),Ft(z,o,g,a,n,l,e,!!n)!==!1)return W(),o.appendChild(g),X=o,E(),L(!0)}else if(M&&Li(e,h,this)){var R=Ke(o,0,r,!0);if(R===g)return L(!1);if(n=R,l=Z(n),Ft(z,o,g,a,n,l,e,!1)!==!1)return W(),o.insertBefore(g,R),X=o,E(),L(!0)}else if(n.parentNode===o){l=Z(n);var K=0,ye,ke=g.parentNode!==o,oe=!Ci(g.animated&&g.toRect||a,n.animated&&n.toRect||l,h),Be=h?"top":"left",te=Ln(n,"top","top")||Ln(g,"top","top"),Pe=te?te.scrollTop:void 0;et!==n&&(ye=l[Be],mt=!1,Lt=!oe&&r.invertSwap||ke),K=xi(e,n,l,h,oe?1:r.swapThreshold,r.invertedSwapThreshold==null?r.swapThreshold:r.invertedSwapThreshold,Lt,et===n);var _e;if(K!==0){var Ee=ge(g);do Ee-=K,_e=X.children[Ee];while(_e&&(k(_e,"display")==="none"||_e===A))}if(K===0||_e===n)return L(!1);et=n,ft=K;var xe=n.nextElementSibling,fe=!1;fe=K===1;var Ie=Ft(z,o,g,a,n,l,e,fe);if(Ie!==!1)return(Ie===1||Ie===-1)&&(fe=Ie===1),Zt=!0,setTimeout(Di,30),W(),fe&&!xe?o.appendChild(g):n.parentNode.insertBefore(g,fe?xe:n),te&&In(te,0,Pe-te.scrollTop),X=g.parentNode,ye!==void 0&&!Lt&&(kt=Math.abs(ye-Z(n)[Be])),E(),L(!0)}if(o.contains(g))return L(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){$(document,"mousemove",this._onTouchMove),$(document,"touchmove",this._onTouchMove),$(document,"pointermove",this._onTouchMove),$(document,"dragover",qe),$(document,"mousemove",qe),$(document,"touchmove",qe)},_offUpEvents:function(){var e=this.el.ownerDocument;$(e,"mouseup",this._onDrop),$(e,"touchend",this._onDrop),$(e,"pointerup",this._onDrop),$(e,"touchcancel",this._onDrop),$(document,"selectstart",this)},_onDrop:function(e){var o=this.el,n=this.options;if(de=ge(g),Re=ge(g,n.draggable),le("drop",this,{evt:e}),X=g&&g.parentNode,de=ge(g),Re=ge(g,n.draggable),x.eventCanceled){this._nulling();return}Je=!1,Lt=!1,mt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),en(this.cloneId),en(this._dragStartId),this.nativeDraggable&&($(document,"drop",this),$(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),rt&&k(document.body,"user-select",""),k(g,"transform",""),e&&(dt&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),A&&A.parentNode&&A.parentNode.removeChild(A),(z===X||ee&&ee.lastPutMode!=="clone")&&Y&&Y.parentNode&&Y.parentNode.removeChild(Y),g&&(this.nativeDraggable&&$(g,"dragend",this),Jt(g),g.style["will-change"]="",dt&&!Je&&ue(g,ee?ee.options.ghostClass:this.options.ghostClass,!1),ue(g,this.options.chosenClass,!1),ie({sortable:this,name:"unchoose",toEl:X,newIndex:null,newDraggableIndex:null,originalEvent:e}),z!==X?(de>=0&&(ie({rootEl:X,name:"add",toEl:X,fromEl:z,originalEvent:e}),ie({sortable:this,name:"remove",toEl:X,originalEvent:e}),ie({rootEl:X,name:"sort",toEl:X,fromEl:z,originalEvent:e}),ie({sortable:this,name:"sort",toEl:X,originalEvent:e})),ee&&ee.save()):de!==Ze&&de>=0&&(ie({sortable:this,name:"update",toEl:X,originalEvent:e}),ie({sortable:this,name:"sort",toEl:X,originalEvent:e})),x.active&&((de==null||de===-1)&&(de=Ze,Re=ct),ie({sortable:this,name:"end",toEl:X,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){le("nulling",this),z=g=X=A=Ne=Y=St=Me=ze=be=dt=de=Re=Ze=ct=et=ft=ee=Et=x.dragged=x.ghost=x.clone=x.active=null,xt.forEach(function(e){e.checked=!0}),xt.length=Gt=Kt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":g&&(this._onDragOver(e),Ti(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],o,n=this.el.children,a=0,l=n.length,i=this.options;a<l;a++)o=n[a],Ce(o,i.draggable,this.el,!1)&&e.push(o.getAttribute(i.dataIdAttr)||Ai(o));return e},sort:function(e,o){var n={},a=this.el;this.toArray().forEach(function(l,i){var r=a.children[i];Ce(r,this.options.draggable,a,!1)&&(n[l]=r)},this),o&&this.captureAnimationState(),e.forEach(function(l){n[l]&&(a.removeChild(n[l]),a.appendChild(n[l]))}),o&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,o){return Ce(e,o||this.options.draggable,this.el,!1)},option:function(e,o){var n=this.options;if(o===void 0)return n[e];var a=ut.modifyOption(this,e,o);typeof a!="undefined"?n[e]=a:n[e]=o,e==="group"&&Rn(n)},destroy:function(){le("destroy",this);var e=this.el;e[ce]=null,$(e,"mousedown",this._onTapStart),$(e,"touchstart",this._onTapStart),$(e,"pointerdown",this._onTapStart),this.nativeDraggable&&($(e,"dragover",this),$(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Dt.splice(Dt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Me){if(le("hideClone",this),x.eventCanceled)return;k(Y,"display","none"),this.options.removeCloneOnHide&&Y.parentNode&&Y.parentNode.removeChild(Y),Me=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Me){if(le("showClone",this),x.eventCanceled)return;g.parentNode==z&&!this.options.group.revertClone?z.insertBefore(Y,g):Ne?z.insertBefore(Y,Ne):z.appendChild(Y),this.options.group.revertClone&&this.animate(g,Y),k(Y,"display",""),Me=!1}}};function Ti(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Ft(t,e,o,n,a,l,i,r){var s,u=t[ce],d=u.options.onMove,c;return window.CustomEvent&&!Le&&!at?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=e,s.from=t,s.dragged=o,s.draggedRect=n,s.related=a||e,s.relatedRect=l||Z(e),s.willInsertAfter=r,s.originalEvent=i,t.dispatchEvent(s),d&&(c=d.call(u,s,i)),c}function Jt(t){t.draggable=!1}function Di(){Zt=!1}function Li(t,e,o){var n=Z(Ke(o.el,0,o.options,!0)),a=10;return e?t.clientX<n.left-a||t.clientY<n.top&&t.clientX<n.right:t.clientY<n.top-a||t.clientY<n.bottom&&t.clientX<n.left}function ki(t,e,o){var n=Z(Ut(o.el,o.options.draggable)),a=10;return e?t.clientX>n.right+a||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+a}function xi(t,e,o,n,a,l,i,r){var s=n?t.clientY:t.clientX,u=n?o.height:o.width,d=n?o.top:o.left,c=n?o.bottom:o.right,f=!1;if(!i){if(r&&kt<u*a){if(!mt&&(ft===1?s>d+u*l/2:s<c-u*l/2)&&(mt=!0),mt)f=!0;else if(ft===1?s<d+kt:s>c-kt)return-ft}else if(s>d+u*(1-a)/2&&s<c-u*(1-a)/2)return Ii(e)}return f=f||i,f&&(s<d+u*l/2||s>c-u*l/2)?s>d+u/2?1:-1:0}function Ii(t){return ge(g)<ge(t)?1:-1}function Ai(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,o=e.length,n=0;o--;)n+=e.charCodeAt(o);return n.toString(36)}function Fi(t){xt.length=0;for(var e=t.getElementsByTagName("input"),o=e.length;o--;){var n=e[o];n.checked&&xt.push(n)}}function $t(t){return setTimeout(t,0)}function en(t){return clearTimeout(t)}It&&B(document,"touchmove",function(t){(x.active||Je)&&t.cancelable&&t.preventDefault()});x.utils={on:B,off:$,css:k,find:Dn,is:function(e,o){return!!Ce(e,o,e,!1)},extend:hi,throttle:xn,closest:Ce,toggleClass:ue,clone:An,index:ge,nextTick:$t,cancelNextTick:en,detectDirection:Mn,getChild:Ke};x.get=function(t){return t[ce]};x.mount=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(x.utils=ve(ve({},x.utils),n.utils)),ut.mount(n)})};x.create=function(t,e){return new x(t,e)};x.version=ci;var G=[],ht,tn,nn=!1,on,sn,Vt,pt;function $i(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(o){var n=o.originalEvent;this.sortable.nativeDraggable?B(document,"dragover",this._handleAutoScroll):this.options.supportPointer?B(document,"pointermove",this._handleFallbackAutoScroll):n.touches?B(document,"touchmove",this._handleFallbackAutoScroll):B(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var n=o.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?$(document,"dragover",this._handleAutoScroll):($(document,"pointermove",this._handleFallbackAutoScroll),$(document,"touchmove",this._handleFallbackAutoScroll),$(document,"mousemove",this._handleFallbackAutoScroll)),Hn(),Ot(),pi()},nulling:function(){Vt=tn=ht=nn=pt=on=sn=null,G.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,n){var a=this,l=(o.touches?o.touches[0]:o).clientX,i=(o.touches?o.touches[0]:o).clientY,r=document.elementFromPoint(l,i);if(Vt=o,n||this.options.forceAutoScrollFallback||at||Le||rt){an(o,this.options,r,n);var s=Oe(r,!0);nn&&(!pt||l!==on||i!==sn)&&(pt&&Hn(),pt=setInterval(function(){var u=Oe(document.elementFromPoint(l,i),!0);u!==s&&(s=u,Ot()),an(o,a.options,u,n)},10),on=l,sn=i)}else{if(!this.options.bubbleScroll||Oe(r,!0)===Se()){Ot();return}an(o,this.options,Oe(r,!1),!1)}}},Te(t,{pluginName:"scroll",initializeByDefault:!0})}function Ot(){G.forEach(function(t){clearInterval(t.pid)}),G=[]}function Hn(){clearInterval(pt)}var an=xn(function(t,e,o,n){if(!!e.scroll){var a=(t.touches?t.touches[0]:t).clientX,l=(t.touches?t.touches[0]:t).clientY,i=e.scrollSensitivity,r=e.scrollSpeed,s=Se(),u=!1,d;tn!==o&&(tn=o,Ot(),ht=e.scroll,d=e.scrollFn,ht===!0&&(ht=Oe(o,!0)));var c=0,f=ht;do{var h=f,b=Z(h),T=b.top,q=b.bottom,W=b.left,L=b.right,E=b.width,M=b.height,R=void 0,K=void 0,ye=h.scrollWidth,ke=h.scrollHeight,oe=k(h),Be=h.scrollLeft,te=h.scrollTop;h===s?(R=E<ye&&(oe.overflowX==="auto"||oe.overflowX==="scroll"||oe.overflowX==="visible"),K=M<ke&&(oe.overflowY==="auto"||oe.overflowY==="scroll"||oe.overflowY==="visible")):(R=E<ye&&(oe.overflowX==="auto"||oe.overflowX==="scroll"),K=M<ke&&(oe.overflowY==="auto"||oe.overflowY==="scroll"));var Pe=R&&(Math.abs(L-a)<=i&&Be+E<ye)-(Math.abs(W-a)<=i&&!!Be),_e=K&&(Math.abs(q-l)<=i&&te+M<ke)-(Math.abs(T-l)<=i&&!!te);if(!G[c])for(var Ee=0;Ee<=c;Ee++)G[Ee]||(G[Ee]={});(G[c].vx!=Pe||G[c].vy!=_e||G[c].el!==h)&&(G[c].el=h,G[c].vx=Pe,G[c].vy=_e,clearInterval(G[c].pid),(Pe!=0||_e!=0)&&(u=!0,G[c].pid=setInterval(function(){n&&this.layer===0&&x.active._onTouchMove(Vt);var xe=G[this.layer].vy?G[this.layer].vy*r:0,fe=G[this.layer].vx?G[this.layer].vx*r:0;typeof d=="function"&&d.call(x.dragged.parentNode[ce],fe,xe,t,Vt,G[this.layer].el)!=="continue"||In(G[this.layer].el,fe,xe)}.bind({layer:c}),24))),c++}while(e.bubbleScroll&&f!==s&&(f=Oe(f,!1)));nn=u}},30),Nn=function(e){var o=e.originalEvent,n=e.putSortable,a=e.dragEl,l=e.activeSortable,i=e.dispatchSortableEvent,r=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(!!o){var u=n||l;r();var d=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,c=document.elementFromPoint(d.clientX,d.clientY);s(),u&&!u.el.contains(c)&&(i("spill"),this.onSpill({dragEl:a,putSortable:n}))}};function rn(){}rn.prototype={startIndex:null,dragStart:function(e){var o=e.oldDraggableIndex;this.startIndex=o},onSpill:function(e){var o=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var a=Ke(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(o,a):this.sortable.el.appendChild(o),this.sortable.animateAll(),n&&n.animateAll()},drop:Nn};Te(rn,{pluginName:"revertOnSpill"});function ln(){}ln.prototype={onSpill:function(e){var o=e.dragEl,n=e.putSortable,a=n||this.sortable;a.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),a.animateAll()},drop:Nn};Te(ln,{pluginName:"removeOnSpill"});x.mount(new $i);x.mount(ln,rn);const Vi=Ue({name:"layoutTagsViewContextmenu",props:{dropdown:{type:Object}},setup(t,{emit:e}){const o=se({isShow:!1,dropdownList:[{contextMenuClickId:0,txt:"message.tagsView.refresh",affix:!1,icon:"el-icon-refresh-right"},{contextMenuClickId:1,txt:"message.tagsView.close",affix:!1,icon:"el-icon-close"},{contextMenuClickId:2,txt:"message.tagsView.closeOther",affix:!1,icon:"el-icon-circle-close"},{contextMenuClickId:3,txt:"message.tagsView.closeAll",affix:!1,icon:"el-icon-folder-delete"},{contextMenuClickId:4,txt:"message.tagsView.fullscreen",affix:!1,icon:"iconfont icon-fullscreen"}],item:{}}),n=V(()=>t.dropdown),a=r=>{e("currentContextmenuClick",Object.assign({},{contextMenuClickId:r},o.item))},l=r=>{o.item=r,r.meta.isAffix?o.dropdownList[1].affix=!0:o.dropdownList[1].affix=!1,i(),setTimeout(()=>{o.isShow=!0},10)},i=()=>{o.isShow=!1};return we(()=>{document.body.addEventListener("click",i)}),st(()=>{document.body.removeEventListener("click",i)}),H({dropdowns:n,openContextmenu:l,closeContextmenu:i,onCurrentContextmenuClick:a},ae(o))}}),Oi=t=>(Ht("data-v-e6686d98"),t=t(),Nt(),t),Mi={class:"el-dropdown-menu"},Ri=["onClick"],Bi=Oi(()=>S("div",{class:"el-popper__arrow",style:{left:"10px"}},null,-1));function Pi(t,e,o,n,a,l){return _(),O(pn,{name:"el-zoom-in-center"},{default:v(()=>[nt((_(),I("div",{"aria-hidden":"true",class:"el-dropdown__popper el-popper is-light is-pure custom-contextmenu",role:"tooltip","data-popper-placement":"bottom",style:yt(`top: ${t.dropdowns.y+5}px;left: ${t.dropdowns.x}px;`),key:Math.random()},[S("ul",Mi,[(_(!0),I(re,null,Ae(t.dropdownList,(i,r)=>(_(),I(re,null,[i.affix?N("",!0):(_(),I("li",{class:"el-dropdown-menu__item","aria-disabled":"false",tabindex:"-1",key:r,onClick:s=>t.onCurrentContextmenuClick(i.contextMenuClickId)},[S("i",{class:P(i.icon)},null,2),S("span",null,F(t.$t(i.txt)),1)],8,Ri))],64))),256))]),Bi],4)),[[ot,t.isShow]])]),_:1})}var Hi=U(Vi,[["render",Pi],["__scopeId","data-v-e6686d98"]]);const Ni={name:"layoutTagsView",components:{Contextmenu:Hi},setup(){const{proxy:t}=pe(),e=Ve([]),o=Ve(),n=Ve(),a=Ve(),l=J(),i=Fe(),r=it(),s=se({routeActive:"",routePath:i.path,dropdown:{x:"",y:""},tagsRefsIndex:0,tagsViewList:[],sortable:"",tagsViewRoutesList:[]}),u=V(()=>l.state.themeConfig.themeConfig.tagsStyle),d=V(()=>l.state.themeConfig.themeConfig),c=p=>d.value.isShareTagsView?p.path===s.routePath:p.url?p.url===s.routeActive:p.path===s.routeActive,f=p=>{We.set("tagsViewList",p)},h=async()=>{s.routeActive=await te(i),s.routePath=await i.meta.isDynamic?i.meta.isDynamicPath:i.path,s.tagsViewList=[],s.tagsViewRoutesList=l.state.tagsViewRoutes.tagsViewRoutes,b()},b=async()=>{We.get("tagsViewList")&&d.value.isCacheTagsView?s.tagsViewList=await We.get("tagsViewList"):(await s.tagsViewRoutesList.map(p=>{p.meta.isAffix&&!p.meta.isHide&&(p.url=te(p),s.tagsViewList.push(H({},p)))}),await W(i.path,i)),xe(d.value.isShareTagsView?s.routePath:s.routeActive)},T=async(p,m)=>{let D=m.meta.isDynamic?m.meta.isDynamicPath:p;if(s.tagsViewList.filter(j=>j.path===D&&Pt(m.meta.isDynamic?j.params?j.params:null:j.query?j.query:null,m.meta.isDynamic?(m==null?void 0:m.params)?m==null?void 0:m.params:null:(m==null?void 0:m.query)?m==null?void 0:m.query:null)).length<=0){let j=s.tagsViewRoutesList.find(me=>me.path===D);if(j.meta.isAffix||j.meta.isLink&&!j.meta.isIframe)return!1;m.meta.isDynamic?j.params=m.params:j.query=m.query,j.url=te(j),s.tagsViewList.push(H({},j)),f(s.tagsViewList)}},q=(p,m)=>{let D=m.meta.isDynamic?m.meta.isDynamicPath:p;s.tagsViewList.forEach(w=>{w.path===D&&!Pt(m.meta.isDynamic?w.params?w.params:null:w.query?w.query:null,m.meta.isDynamic?(m==null?void 0:m.params)?m==null?void 0:m.params:null:(m==null?void 0:m.query)?m==null?void 0:m.query:null)&&(m.meta.isDynamic?w.params=m.params:w.query=m.query,w.url=te(w),f(s.tagsViewList))})},W=(p,m)=>{Ye(async()=>{let D="";if(m&&m.meta.isDynamic){if(d.value.isShareTagsView?await q(p,m):await T(p,m),s.tagsViewList.some(w=>w.path===m.meta.isDynamicPath))return!1;D=s.tagsViewRoutesList.find(w=>w.path===m.meta.isDynamicPath)}else{if(d.value.isShareTagsView?await q(p,m):await T(p,m),s.tagsViewList.some(w=>w.path===p))return!1;D=s.tagsViewRoutesList.find(w=>w.path===p)}if(D.meta.isLink&&!D.meta.isIframe)return!1;m&&m.meta.isDynamic?D.params=(m==null?void 0:m.params)?m==null?void 0:m.params:i.params:D.query=(m==null?void 0:m.query)?m==null?void 0:m.query:i.query,D.url=te(D),await s.tagsViewList.push(H({},D)),await f(s.tagsViewList)})},L=p=>{t.mittBus.emit("onTagsViewRefreshRouterView",p)},E=p=>{s.tagsViewList.map((m,D,w)=>{m.meta.isAffix||(d.value.isShareTagsView?m.path===p:m.url===p)&&(s.tagsViewList.splice(D,1),setTimeout(()=>{(s.tagsViewList.length===D&&d.value.isShareTagsView?s.routePath===p:s.routeActive===p)?w[w.length-1].meta.isDynamic?D!==w.length?r.push({name:w[D].name,params:w[D].params}):r.push({name:w[w.length-1].name,params:w[w.length-1].params}):D!==w.length?r.push({path:w[D].path,query:w[D].query}):r.push({path:w[w.length-1].path,query:w[w.length-1].query}):(s.tagsViewList.length!==D&&d.value.isShareTagsView?s.routePath===p:s.routeActive===p)&&(w[D].meta.isDynamic?r.push({name:w[D].name,params:w[D].params}):r.push({path:w[D].path,query:w[D].query}))},0))}),f(s.tagsViewList)},M=p=>{s.tagsViewList=[],s.tagsViewRoutesList.map(m=>{m.meta.isAffix&&!m.meta.isHide&&s.tagsViewList.push(H({},m))}),W(p,i)},R=()=>{s.tagsViewList=[],s.tagsViewRoutesList.map(p=>{p.meta.isAffix&&!p.meta.isHide&&(s.tagsViewList.push(H({},p)),r.push({path:s.tagsViewList[s.tagsViewList.length-1].path}))}),f(s.tagsViewList)},K=async p=>{const m=s.tagsViewList.find(D=>d.value.isShareTagsView?D.path===p:D.url===p);m.meta.isDynamic?await r.push({name:m.name,params:m.params}):await r.push({name:m.name,query:m.query}),l.dispatch("tagsViewRoutes/setCurrenFullscreen",!0)},ye=(p,m)=>(We.get("tagsViewList")?We.get("tagsViewList"):s.tagsViewList).find(w=>{if(w.path===p&&Pt(w.meta.isDynamic?w.params?w.params:null:w.query?w.query:null,m&&Object.keys(m||{}).length>0?m:null))return w;if(w.path===p&&Object.keys(m||{}).length<=0)return w}),ke=async p=>{const m=p.meta.isDynamic?p.params:p.query;if(!ye(p.path,m))return qt({type:"warning",message:"\u8BF7\u6B63\u786E\u8F93\u5165\u8DEF\u5F84\u53CA\u5B8C\u6574\u53C2\u6570\uFF08query\u3001params\uFF09"});const{path:D,name:w,params:j,query:me,meta:gt,url:je}=ye(p.path,m);switch(p.contextMenuClickId){case 0:gt.isDynamic?await r.push({name:w,params:j}):await r.push({path:D,query:me}),L(i.fullPath);break;case 1:E(d.value.isShareTagsView?D:je);break;case 2:gt.isDynamic?await r.push({name:w,params:j}):await r.push({path:D,query:me}),M(D);break;case 3:R();break;case 4:K(d.value.isShareTagsView?D:je);break}},oe=(p,m)=>{const{clientX:D,clientY:w}=m;s.dropdown.x=D,s.dropdown.y=w,n.value.openContextmenu(p)},Be=(p,m)=>{s.tagsRefsIndex=m,r.push(p)},te=p=>{let m=p.query&&Object.keys(p.query).length>0?p.query:p.params;if(!m||Object.keys(m).length<=0)return p.path;let D="";for(let w in m)D+=m[w];return`${p.meta.isDynamic?p.meta.isDynamicPath:p.path}-${D}`},Pe=()=>{t.$refs.scrollbarRef.update()},_e=p=>{t.$refs.scrollbarRef.$refs.wrap.scrollLeft+=p.wheelDelta/4},Ee=()=>{Ye(()=>{if(e.value.length<=0)return!1;let p=e.value[s.tagsRefsIndex],m=s.tagsRefsIndex,D=e.value.length,w=e.value[0],j=e.value[e.value.length-1],me=t.$refs.scrollbarRef.$refs.wrap,gt=me.scrollWidth,je=me.offsetWidth,un=me.scrollLeft,Bt=e.value[s.tagsRefsIndex-1],cn=e.value[s.tagsRefsIndex+1],_t="",bt="";p===w?me.scrollLeft=0:p===j?me.scrollLeft=gt-je:(m===0?_t=w.offsetLeft-5:_t=(Bt==null?void 0:Bt.offsetLeft)-5,m===D?bt=j.offsetLeft+j.offsetWidth+5:bt=cn.offsetLeft+cn.offsetWidth+5,bt>un+je?me.scrollLeft=bt-je:_t<un&&(me.scrollLeft=_t)),Pe()})},xe=p=>{Ye(async()=>{let m=await s.tagsViewList;s.tagsRefsIndex=m.findIndex(D=>d.value.isShareTagsView?D.path===p:D.url===p),Ee()})},fe=()=>{const p=document.querySelector(".layout-navbars-tagsview-ul");if(!p)return!1;s.sortable&&s.sortable.destroy(),s.sortable=x.create(p,{animation:300,dataIdAttr:"data-name",disabled:!d.value.isSortableTagsView,onEnd:()=>{const m=[];s.sortable.toArray().map(D=>{s.tagsViewList.map(w=>{w.name===D&&m.push(H({},w))})}),f(m)}})},Ie=()=>{document.body.clientWidth<1e3?d.value.isSortableTagsView=!1:d.value.isSortableTagsView=!0,fe()};return tt(()=>{Ie(),window.addEventListener("resize",Ie),t.mittBus.on("onCurrentContextmenuClick",p=>{ke(p)}),t.mittBus.on("openOrCloseSortable",()=>{fe()}),t.mittBus.on("openShareTagsView",()=>{d.value.isShareTagsView&&(r.push("/home"),s.tagsViewList=[],s.tagsViewRoutesList.map(p=>{p.meta.isAffix&&!p.meta.isHide&&(p.url=te(p),s.tagsViewList.push(H({},p)))}))})}),st(()=>{t.mittBus.off("onCurrentContextmenuClick"),t.mittBus.off("openOrCloseSortable"),t.mittBus.off("openShareTagsView"),window.removeEventListener("resize",Ie)}),Qn(()=>{e.value=[]}),we(()=>{h(),fe()}),Xe(async p=>{s.routeActive=te(p),s.routePath=p.meta.isDynamic?p.meta.isDynamicPath:p.path,await W(p.path,p),xe(d.value.isShareTagsView?s.routePath:s.routeActive)}),$e(l.state,p=>{if(p.tagsViewRoutes.tagsViewRoutes.length===s.tagsViewRoutesList.length)return!1;h()}),H({isActive:c,onContextmenu:oe,getTagsViewRoutes:h,onTagsClick:Be,tagsRefs:e,contextmenuRef:n,scrollbarRef:o,tagsUlRef:a,onHandleScroll:_e,getThemeConfig:d,setTagsStyle:u,refreshCurrentTagsView:L,closeCurrentTagsView:E,onCurrentContextmenuClick:ke},ae(s))}},zi=["data-name","onContextmenu","onClick"],qi={key:0,class:"iconfont icon-webicon318 layout-navbars-tagsview-ul-li-iconfont font14"},ji=["onClick"],Wi=["onClick"];function Ui(t,e,o,n,a,l){const i=y("el-scrollbar"),r=y("Contextmenu");return _(),I("div",{class:P(["layout-navbars-tagsview",{"layout-navbars-tagsview-shadow":n.getThemeConfig.layout==="classic"}])},[C(i,{ref:"scrollbarRef",onWheel:He(n.onHandleScroll,["prevent"])},{default:v(()=>[S("ul",{class:P(["layout-navbars-tagsview-ul",n.setTagsStyle]),ref:"tagsUlRef"},[(_(!0),I(re,null,Ae(t.tagsViewList,(s,u)=>(_(),I("li",{key:u,class:P(["layout-navbars-tagsview-ul-li",{"is-active":n.isActive(s)}]),"data-name":s.name,onContextmenu:He(d=>n.onContextmenu(s,d),["prevent"]),onClick:d=>n.onTagsClick(s,u),ref:d=>{d&&(n.tagsRefs[u]=d)}},[n.isActive(s)?(_(),I("i",qi)):N("",!0),!n.isActive(s)&&n.getThemeConfig.isTagsviewIcon?(_(),I("i",{key:1,class:P(["layout-navbars-tagsview-ul-li-iconfont",s.meta.icon])},null,2)):N("",!0),S("span",null,F(t.$t(s.meta.title)),1),n.isActive(s)?(_(),I(re,{key:2},[S("i",{class:"el-icon-refresh-right ml5",onClick:e[0]||(e[0]=He(d=>n.refreshCurrentTagsView(t.$route.fullPath),["stop"]))}),s.meta.isAffix?N("",!0):(_(),I("i",{key:0,class:"el-icon-close layout-navbars-tagsview-ul-li-icon layout-icon-active",onClick:He(d=>n.closeCurrentTagsView(n.getThemeConfig.isShareTagsView?s.path:s.url),["stop"])},null,8,ji))],64)):N("",!0),s.meta.isAffix?N("",!0):(_(),I("i",{key:3,class:"el-icon-close layout-navbars-tagsview-ul-li-icon layout-icon-three",onClick:He(d=>n.closeCurrentTagsView(n.getThemeConfig.isShareTagsView?s.path:s.url),["stop"])},null,8,Wi))],42,zi))),128))],2)]),_:1},8,["onWheel"]),C(r,{dropdown:t.dropdown,ref:"contextmenuRef",onCurrentContextmenuClick:n.onCurrentContextmenuClick},null,8,["dropdown","onCurrentContextmenuClick"])],2)}var zn=U(Ni,[["render",Ui],["__scopeId","data-v-62cea29e"]]);const Xi={name:"layoutNavBars",components:{BreadcrumbIndex:ai,TagsView:zn},setup(){const t=J();return{setShowTagsView:V(()=>{let{layout:o,isTagsview:n}=t.state.themeConfig.themeConfig;return o!=="classic"&&n})}}},Yi={class:"layout-navbars-container"};function Gi(t,e,o,n,a,l){const i=y("BreadcrumbIndex"),r=y("TagsView");return _(),I("div",Yi,[C(i),n.setShowTagsView?(_(),O(r,{key:0})):N("",!0)])}var Ki=U(Xi,[["render",Gi],["__scopeId","data-v-6da8bc81"]]);const Qi={name:"layoutHeader",components:{NavBarsIndex:Ki},setup(){const t=J(),e=V(()=>{let{isTagsview:n,layout:a}=t.state.themeConfig.themeConfig;return n&&a!=="classic"?"84px":"50px"}),o=V(()=>t.state.tagsViewRoutes.isTagsViewCurrenFull);return{setHeaderHeight:e,isTagsViewCurrenFull:o}}};function Zi(t,e,o,n,a,l){const i=y("NavBarsIndex"),r=y("el-header");return nt((_(),O(r,{class:"layout-header",height:n.setHeaderHeight},{default:v(()=>[C(i)]),_:1},8,["height"])),[[ot,!n.isTagsViewCurrenFull]])}var Mt=U(Qi,[["render",Zi]]);const Ji={name:"layoutFooter",setup(){const t=J(),{t:e}=zt(),o=se({isDelayFooter:!0,public_website_copyright:e("message.copyright.one5")});Xe(()=>{o.isDelayFooter=!1,setTimeout(()=>{o.isDelayFooter=!0},800)});const n=V(()=>t.state.userInfos.userInfos);return we(()=>{let a=new Array;a.push("public_website_copyright");let l=jt.stringify({configKeys:a},{arrayFormat:"repeat"});gn(l).then(i=>{i.data.forEach(r=>{r.key=="public_website_copyright"&&r.jsonValue!=null&&(o.public_website_copyright=r.jsonValue)})})}),H({getUserInfos:n},ae(o))}},es={class:"layout-footer mt15"},ts={class:"layout-footer-warp"},ns={class:"mt5"};function os(t,e,o,n,a,l){return nt((_(),I("div",es,[S("div",ts,[S("div",null,F(n.getUserInfos.version),1),S("div",ns,F(t.public_website_copyright),1)])],512)),[[ot,t.isDelayFooter]])}var is=U(Ji,[["render",os],["__scopeId","data-v-36040f9e"]]);const ss=Ue({name:"layoutMain",components:{LayoutParentView:Jn,Footer:is},setup(){const{proxy:t}=pe(),e=Fe(),o=J(),n=se({headerHeight:"",currentRouteMeta:{}}),a=V(()=>o.state.themeConfig.themeConfig),l=()=>{let{isTagsview:r}=o.state.themeConfig.themeConfig;return r?n.headerHeight="84px":n.headerHeight="50px"},i=()=>{n.currentRouteMeta=e.meta};return tt(()=>{l(),i()}),$e(o.state.themeConfig.themeConfig,r=>{if(n.headerHeight=r.isTagsview?"84px":"50px",r.isFixedHeaderChange!==r.isFixedHeader){if(!t.$refs.layoutScrollbarRef)return!1;t.$refs.layoutScrollbarRef.update()}}),$e(()=>e.path,()=>{n.currentRouteMeta=e.meta}),H({getThemeConfig:a},ae(n))}});function as(t,e,o,n,a,l){const i=y("LayoutParentView"),r=y("Footer"),s=y("el-scrollbar"),u=y("el-main");return _(),O(u,{class:"layout-main"},{default:v(()=>[C(s,{class:"layout-scrollbar",ref:"layoutScrollbarRef",style:yt({minHeight:`calc(100vh - ${t.headerHeight})`,padding:t.currentRouteMeta.isLink&&t.currentRouteMeta.isIframe?0:"",transition:"padding 0.3s ease-in-out"})},{default:v(()=>[C(i),t.getThemeConfig.isFooter?(_(),O(r,{key:0})):N("",!0)]),_:1},8,["style"])]),_:1})}var Rt=U(ss,[["render",as]]);const rs={name:"layoutDefaults",components:{Aside:Wt,Header:Mt,Main:Rt},setup(){const{proxy:t}=pe(),e=J(),o=Fe(),n=V(()=>e.state.themeConfig.themeConfig.isFixedHeader);return $e(()=>o.path,()=>{t.$refs.layoutDefaultsScrollbarRef.wrap.scrollTop=0}),{isFixedHeader:n}}};function ls(t,e,o,n,a,l){const i=y("Aside"),r=y("Header"),s=y("Main"),u=y("el-scrollbar"),d=y("el-container"),c=y("el-backtop");return _(),O(d,{class:"layout-container"},{default:v(()=>[C(i),C(d,{class:P(["flex-center",{"layout-backtop":!n.isFixedHeader}])},{default:v(()=>[n.isFixedHeader?(_(),O(r,{key:0})):N("",!0),C(u,{ref:"layoutDefaultsScrollbarRef",class:P({"layout-backtop":n.isFixedHeader})},{default:v(()=>[n.isFixedHeader?N("",!0):(_(),O(r,{key:0})),C(s)]),_:1},8,["class"])]),_:1},8,["class"]),C(c,{target:".layout-backtop .el-scrollbar__wrap"})]),_:1})}var us=U(rs,[["render",ls]]);const cs={name:"layoutClassic",components:{Aside:Wt,Header:Mt,Main:Rt,TagsView:zn},setup(){const t=J();return{getThemeConfig:V(()=>t.state.themeConfig.themeConfig)}}},ds={class:"flex-center layout-backtop"};function fs(t,e,o,n,a,l){const i=y("Header"),r=y("Aside"),s=y("TagsView"),u=y("Main"),d=y("el-container"),c=y("el-backtop");return _(),O(d,{class:"layout-container flex-center"},{default:v(()=>[C(i),C(d,{class:"layout-mian-height-50"},{default:v(()=>[C(r),S("div",ds,[n.getThemeConfig.isTagsview?(_(),O(s,{key:0})):N("",!0),C(u)])]),_:1}),C(c,{target:".layout-backtop .el-main .el-scrollbar__wrap"})]),_:1})}var ms=U(cs,[["render",fs]]);const hs={name:"layoutTransverse",components:{Header:Mt,Main:Rt}};function ps(t,e,o,n,a,l){const i=y("Header"),r=y("Main"),s=y("el-backtop"),u=y("el-container");return _(),O(u,{class:"layout-container flex-center layout-backtop"},{default:v(()=>[C(i),C(r),C(s,{target:".layout-backtop .el-main .el-scrollbar__wrap"})]),_:1})}var gs=U(hs,[["render",ps]]);const _s={name:"layoutColumnsAside",setup(){const t=Ve([]),e=Ve(),{proxy:o}=pe(),n=J(),a=Fe(),l=it(),i=se({columnsAsideList:[],liIndex:0,liOldIndex:null,liHoverIndex:null,liOldPath:null,difference:0,routeSplit:[],isNavHover:!1}),r=V(()=>n.state.themeConfig.themeConfig.columnsAsideStyle),s=V(()=>n.state.themeConfig.themeConfig.columnsAsideLayout),u=L=>{i.liIndex=L,e.value.style.top=`${t.value[L].offsetTop+i.difference}px`},d=(L,E)=>{u(E);let{path:M,redirect:R}=L;R?l.push(R):l.push(M)},c=(L,E)=>{let{path:M}=L;i.liOldPath=M,i.liOldIndex=E,i.liHoverIndex=E,o.mittBus.emit("setSendColumnsChildren",T(M)),n.dispatch("routesList/setColumnsMenuHover",!1),n.dispatch("routesList/setColumnsNavHover",!0),i.isNavHover=!0},f=async()=>{await n.dispatch("routesList/setColumnsNavHover",!1),setTimeout(()=>{const{isColumnsMenuHover:L,isColumnsNavHover:E}=n.state.routesList;!L&&!E&&o.mittBus.emit("restoreDefault")},100)},h=L=>{Ye(()=>{u(L)})},b=()=>{i.columnsAsideList=q(n.state.routesList.routesList);const L=T(a.path);if(Object.keys(L).length<=0)return!1;h(L.item[0].k),o.mittBus.emit("setSendColumnsChildren",L)},T=L=>{const E=L.split("/");let M={};return i.columnsAsideList.map((R,K)=>{R.path===`/${E[1]}`&&(R.k=K,M.item=[H({},R)],M.children=[H({},R)],R.children&&(M.children=R.children))}),M},q=L=>L.filter(E=>!E.meta.isHide).map(E=>(E=Object.assign({},E),E.children&&(E.children=q(E.children)),E)),W=L=>{i.routeSplit=L.split("/"),i.routeSplit.shift();const E=`/${i.routeSplit[0]}`,M=i.columnsAsideList.find(R=>R.path===E);if(!M)return!1;setTimeout(()=>{h(M.k)},0)};return $e(n.state,L=>{if(L.themeConfig.themeConfig.columnsAsideStyle==="columnsRound"?i.difference=3:i.difference=0,!L.routesList.isColumnsMenuHover&&!L.routesList.isColumnsNavHover)i.liHoverIndex=null,o.mittBus.emit("setSendColumnsChildren",T(a.path));else{if(i.liHoverIndex=i.liOldIndex,!i.liOldPath)return!1;o.mittBus.emit("setSendColumnsChildren",T(i.liOldPath))}}),we(()=>{b(),o.mittBus.on("restoreDefault",()=>{i.liOldIndex=null,i.liOldPath=null})}),st(()=>{o.mittBus.off("restoreDefault",()=>{})}),Xe(L=>{W(L.path),o.mittBus.emit("setSendColumnsChildren",T(L.path))}),H({columnsAsideOffsetTopRefs:t,columnsAsideActiveRef:e,onColumnsAsideDown:h,setColumnsAsideStyle:r,setColumnsAsidelayout:s,onColumnsAsideMenuClick:d,onColumnsAsideMenuMouseenter:c,onColumnsAsideMenuMouseleave:f},ae(i))}},bs={class:"layout-columns-aside"},ys=["onClick","onMouseenter","title"],ws={class:"columns-vertical-title font12"},vs=["href"],Cs={class:"columns-vertical-title font12"};function Ss(t,e,o,n,a,l){const i=y("el-scrollbar");return _(),I("div",bs,[C(i,null,{default:v(()=>[S("ul",{onMouseleave:e[0]||(e[0]=r=>n.onColumnsAsideMenuMouseleave())},[(_(!0),I(re,null,Ae(t.columnsAsideList,(r,s)=>(_(),I("li",{key:s,onClick:u=>n.onColumnsAsideMenuClick(r,s),onMouseenter:u=>n.onColumnsAsideMenuMouseenter(r,s),ref:u=>{u&&(n.columnsAsideOffsetTopRefs[s]=u)},class:P({"layout-columns-active":t.liIndex===s,"layout-columns-hover":t.liHoverIndex===s}),title:t.$t(r.meta.title)},[!r.meta.isLink||r.meta.isLink&&r.meta.isIframe?(_(),I("div",{key:0,class:P(n.setColumnsAsidelayout)},[S("i",{class:P(r.meta.icon)},null,2),S("div",ws,F(t.$t(r.meta.title)&&t.$t(r.meta.title).length>=4?t.$t(r.meta.title).substr(0,n.setColumnsAsidelayout==="columns-vertical"?4:3):t.$t(r.meta.title)),1)],2)):(_(),I("div",{key:1,class:P(n.setColumnsAsidelayout)},[S("a",{href:r.meta.isLink,target:"_blank"},[S("i",{class:P(r.meta.icon)},null,2),S("div",Cs,F(t.$t(r.meta.title)&&t.$t(r.meta.title).length>=4?t.$t(r.meta.title).substr(0,n.setColumnsAsidelayout==="columns-vertical"?4:3):t.$t(r.meta.title)),1)],8,vs)],2))],42,ys))),128)),S("div",{ref:"columnsAsideActiveRef",class:P(n.setColumnsAsideStyle)},null,2)],32)]),_:1})])}var Es=U(_s,[["render",Ss],["__scopeId","data-v-7167398f"]]);const Ts={name:"layoutColumns",components:{Aside:Wt,Header:Mt,Main:Rt,ColumnsAside:Es},setup(){const t=J();return{isFixedHeader:V(()=>t.state.themeConfig.themeConfig.isFixedHeader)}}},Ds={class:"layout-columns-warp"};function Ls(t,e,o,n,a,l){const i=y("ColumnsAside"),r=y("Aside"),s=y("Header"),u=y("Main"),d=y("el-scrollbar"),c=y("el-container"),f=y("el-backtop");return _(),O(c,{class:"layout-container"},{default:v(()=>[C(i),S("div",Ds,[C(r),C(c,{class:P(["flex-center layout-backtop",{"layout-backtop":!n.isFixedHeader}])},{default:v(()=>[n.isFixedHeader?(_(),O(s,{key:0})):N("",!0),C(d,{class:P({"layout-backtop":n.isFixedHeader})},{default:v(()=>[n.isFixedHeader?N("",!0):(_(),O(s,{key:0})),C(u)]),_:1},8,["class"])]),_:1},8,["class"])]),C(f,{target:".layout-backtop .el-scrollbar__wrap"})]),_:1})}var ks=U(Ts,[["render",Ls]]);const xs={name:"layout",components:{Defaults:us,Classic:ms,Transverse:gs,Columns:ks},setup(){const{proxy:t}=pe(),e=J(),o=V(()=>e.state.themeConfig.themeConfig),n=()=>{he.get("oldLayout")||he.set("oldLayout",o.value.layout);const a=document.body.clientWidth;a<1e3?(o.value.isCollapse=!1,t.mittBus.emit("layoutMobileResize",{layout:"defaults",clientWidth:a})):t.mittBus.emit("layoutMobileResize",{layout:he.get("oldLayout")?he.get("oldLayout"):o.value.layout,clientWidth:a})};return tt(()=>{n(),window.addEventListener("resize",n)}),st(()=>{window.removeEventListener("resize",n)}),{getThemeConfig:o}}};function Is(t,e,o,n,a,l){const i=y("Defaults"),r=y("Classic"),s=y("Transverse"),u=y("Columns");return n.getThemeConfig.layout==="defaults"?(_(),O(i,{key:0})):n.getThemeConfig.layout==="classic"?(_(),O(r,{key:1})):n.getThemeConfig.layout==="transverse"?(_(),O(s,{key:2})):n.getThemeConfig.layout==="columns"?(_(),O(u,{key:3})):N("",!0)}var Rs=U(xs,[["render",Is]]);export{Rs as default};
