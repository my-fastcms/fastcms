var V=Object.defineProperty;var C=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var S=(e,s,o)=>s in e?V(e,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[s]=o,j=(e,s)=>{for(var o in s||(s={}))A.call(s,o)&&S(e,o,s[o]);if(C)for(var o of C(s))q.call(s,o)&&S(e,o,s[o]);return e};import{a0 as B,j as N,J as z,o as P,t as M,l as u,m as w,p as n,y as r,z as m,A as _,Q as g,L as p,q as T,B as R,C as W,D as l,T as D,w as I,v as $,x as y}from"./vendor.07d41a1e.js";import L from"./account.14f01e66.js";import E from"./mobile.f0ee14e9.js";import K from"./scan.758a81c7.js";import{_ as O,u as F}from"./index.b56fc134.js";import{l as J}from"./index.34a00848.js";import{a as Q}from"./index.3cb7ad78.js";import"./index.a7c03e0f.js";const U={name:"login",components:{Account:L,Mobile:E,Scan:K},setup(){const e=F(),s=B(),o=N({tabsActiveName:"account",isWechatBrowser:!1,isTabPaneShow:!0,isScan:!1,public_register_enable:!1,public_website_domain:"",public_mp_scan_qrcode_login_enable:!1,public_mp_scan_qrcode_login_is_default:!1,public_forgot_password_enable:!0,public_website_copyright:"",public_website_title:e.state.themeConfig.themeConfig.globalTitle}),i=z(()=>e.state.themeConfig.themeConfig),v=()=>{o.isTabPaneShow=!o.isTabPaneShow},k=()=>{s.push("/register")},f=()=>{s.push("/rest/password")},h=()=>{console.log("url:"+o.public_website_domain+"/oauth2/authorization/wechat-mp"),window.location.href=o.public_website_domain+"/oauth2/authorization/wechat-mp"},b=()=>{const c=window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i);return c===null?!1:!!c.includes("micromessenger")};return P(()=>{o.isWechatBrowser=b();let a=new Array;a.push("public_register_enable"),a.push("public_website_domain"),a.push("public_mp_scan_qrcode_login_enable"),a.push("public_forgot_password_enable"),a.push("public_mp_scan_qrcode_login_is_default"),a.push("public_website_copyright"),a.push("public_website_title");let c=J.stringify({configKeys:a},{arrayFormat:"repeat"});Q(c).then(d=>{d.data.forEach(t=>{t.key=="public_register_enable"&&(o.public_register_enable=t.jsonValue),t.key=="public_website_domain"&&(o.public_website_domain=t.jsonValue),t.key=="public_mp_scan_qrcode_login_enable"&&(o.public_mp_scan_qrcode_login_enable=t.jsonValue),t.key=="public_forgot_password_enable"&&(o.public_forgot_password_enable=t.jsonValue),t.key=="public_website_copyright"&&(o.public_website_copyright=t.jsonValue),t.key=="public_website_title"&&(o.public_website_title=t.jsonValue)}),o.public_mp_scan_qrcode_login_enable&&o.public_mp_scan_qrcode_login_is_default&&(o.isScan=!0)})}),j({toRegister:k,toRestPassword:f,judgeWechatBrowser:b,toWechatMpOAuth:h,onTabsClick:v,getThemeConfig:i},M(o))}},G=e=>(R("data-v-71179bf5"),e=e(),W(),e),H={class:"login-container"},X={class:"login-logo"},Y={class:"login-content-main"},Z={class:"login-content-title"},x={key:0},ee={class:"mt10"},oe=G(()=>n("div",{class:"login-content-main-sacn-delta"},null,-1)),se={class:"login-copyright"},ae={class:"mb5 login-copyright-company"};function te(e,s,o,i,v,k){const f=u("Account"),h=u("el-tab-pane"),b=u("el-tabs"),a=u("el-button"),c=u("Scan");return l(),w("div",H,[n("div",X,[n("span",null,r(i.getThemeConfig.globalViceTitle),1)]),n("div",{class:T(["login-content",{"login-content-mobile":e.tabsActiveName==="mobile"}])},[n("div",Y,[n("h4",Z,r(e.public_website_title),1),e.isScan?(l(),g(c,{key:1,domain:e.public_website_domain},null,8,["domain"])):(l(),w("div",x,[m(b,{modelValue:e.tabsActiveName,"onUpdate:modelValue":s[0]||(s[0]=d=>e.tabsActiveName=d),onTabClick:i.onTabsClick},{default:_(()=>[m(h,{label:e.$t("message.label.one1"),name:"account",disabled:e.tabsActiveName==="account"},{default:_(()=>[m(D,{name:"el-zoom-in-center"},{default:_(()=>[I(m(f,null,null,512),[[$,e.isTabPaneShow]])]),_:1})]),_:1},8,["label","disabled"])]),_:1},8,["modelValue","onTabClick"]),n("div",ee,[e.public_register_enable?(l(),g(a,{key:0,type:"text",size:"small",onClick:i.toRegister},{default:_(()=>[y(r(e.$t("message.link.one3")),1)]),_:1},8,["onClick"])):p("",!0),e.public_forgot_password_enable?(l(),g(a,{key:1,type:"text",size:"small",onClick:i.toRestPassword},{default:_(()=>[y(r(e.$t("message.link.two6")),1)]),_:1},8,["onClick"])):p("",!0),e.isWechatBrowser?(l(),g(a,{key:2,type:"text",size:"small",onClick:i.toWechatMpOAuth},{default:_(()=>[y(r(e.$t("message.link.two7")),1)]),_:1},8,["onClick"])):p("",!0)])])),e.public_mp_scan_qrcode_login_enable?(l(),w("div",{key:2,class:"login-content-main-sacn",onClick:s[1]||(s[1]=d=>e.isScan=!e.isScan),ref:"scanDiv"},[n("i",{class:T(["iconfont",e.isScan?"icon-diannao1":"icon-barcode-qr"])},null,2),oe],512)):p("",!0)])],2),n("div",se,[n("div",ae,r(e.public_website_copyright),1),p("",!0)])])}var de=O(U,[["render",te],["__scopeId","data-v-71179bf5"]]);export{de as default};
