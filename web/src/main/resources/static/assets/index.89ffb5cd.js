var z=Object.defineProperty;var g=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var h=(e,a,o)=>a in e?z(e,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[a]=o,b=(e,a)=>{for(var o in a||(a={}))E.call(a,o)&&h(e,o,a[o]);if(g)for(var o of g(a))x.call(a,o)&&h(e,o,a[o]);return e};import{g as y,d as B}from"./index.a790f8dd.js";import{j as F,a1 as A,o as k,t as N,l as i,m as S,z as n,A as r,E as R,b as f,D as C,p as j,Q as H,L as M,x as p}from"./vendor.7efd8838.js";import{_ as T}from"./index.4a6e935a.js";const U={name:"articleManager",setup(){const e=F({tableData:{data:[],total:0,loading:!1,param:{pageNum:1,pageSize:10}}}),a=A(),o=()=>{y(e.tableData.param).then(t=>{e.tableData.data=t.data.records,e.tableData.total=t.data.total}).catch(()=>{})},s=t=>{R.confirm("\u6B64\u64CD\u4F5C\u5C06\u6C38\u4E45\u5220\u9664\u6587\u7AE0, \u662F\u5426\u7EE7\u7EED?","\u63D0\u793A",{confirmButtonText:"\u5220\u9664",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{B(t.id).then(()=>{f.success("\u5220\u9664\u6210\u529F"),o()}).catch(d=>{f.error(d.message)})}).catch(()=>{})},m=t=>{a.push({path:"/article/write",query:{id:t.id}})},_=t=>{e.tableData.param.pageSize=t},u=t=>{e.tableData.param.pageNum=t},c=()=>{a.push({path:"/article/write"})};return k(()=>{o()}),b({addArticle:c,onRowUpdate:m,onRowDel:s,onHandleSizeChange:_,onHandleCurrentChange:u,initTableData:o},N(e))}},V={class:"article-container"},I={class:"article-search mb15"},L=p("\u65B0\u5EFA\u6587\u7AE0"),$=p("\u67E5\u8BE2"),q=p("\u4FEE\u6539"),Q=p("\u5220\u9664");function G(e,a,o,s,m,_){const u=i("el-button"),c=i("el-input"),t=i("el-table-column"),d=i("el-table"),w=i("el-pagination"),D=i("el-card");return C(),S("div",V,[n(D,{shadow:"hover"},{default:r(()=>[j("div",I,[n(u,{class:"mt15",size:"small",onClick:a[0]||(a[0]=l=>s.addArticle()),type:"primary",icon:"iconfont icon-shuxingtu"},{default:r(()=>[L]),_:1}),n(c,{size:"small",placeholder:"\u8BF7\u8F93\u5165\u6587\u7AE0\u6807\u9898","prefix-icon":"el-icon-search",style:{"max-width":"180px"},class:"ml10"}),n(u,{size:"small",type:"primary",class:"ml10"},{default:r(()=>[$]),_:1})]),n(d,{data:e.tableData.data,stripe:"",style:{width:"100%"}},{default:r(()=>[n(t,{prop:"id",label:"ID","show-overflow-tooltip":""}),n(t,{prop:"title",label:"\u6807\u9898","show-overflow-tooltip":""}),n(t,{prop:"author",label:"\u4F5C\u8005","show-overflow-tooltip":""}),n(t,{prop:"status",label:"\u72B6\u6001","show-overflow-tooltip":""}),n(t,{prop:"viewCount",label:"\u6D4F\u89C8\u6B21\u6570","show-overflow-tooltip":""}),n(t,{prop:"created",label:"\u521B\u5EFA\u65F6\u95F4","show-overflow-tooltip":""}),n(t,{prop:"path",label:"\u64CD\u4F5C",width:"90"},{default:r(l=>[n(u,{size:"mini",type:"text",onClick:v=>s.onRowUpdate(l.row)},{default:r(()=>[q]),_:2},1032,["onClick"]),l.row.id!=1?(C(),H(u,{key:0,size:"mini",type:"text",onClick:v=>s.onRowDel(l.row)},{default:r(()=>[Q]),_:2},1032,["onClick"])):M("",!0)]),_:1})]),_:1},8,["data"]),n(w,{onSizeChange:s.onHandleSizeChange,onCurrentChange:s.onHandleCurrentChange,class:"mt15","pager-count":5,"page-sizes":[10,20,30],"current-page":e.tableData.param.pageNum,"onUpdate:current-page":a[1]||(a[1]=l=>e.tableData.param.pageNum=l),background:"","page-size":e.tableData.param.pageSize,"onUpdate:page-size":a[2]||(a[2]=l=>e.tableData.param.pageSize=l),layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.total},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])]),_:1})])}var W=T(U,[["render",G],["__scopeId","data-v-6ba55ada"]]);export{W as default};
