import{_ as W}from"./index-09e5375d.js";import{Q as E}from"./@element-plus-64e6e14a.js";import{n as I,H as R,e as F,_ as $,j as N,i as j,f as G,ah as p,o as g,c as T,V as f,P as d,O as U,J as M,a as _,U as H,u as P,aP as J}from"./@vue-6dabbe94.js";const Q=()=>new Promise((l,a)=>{I(()=>{const o=document.styleSheets;let t=[],s=[];for(let e=0;e<o.length;e++)o[e].href&&o[e].href.indexOf("at.alicdn.com")>-1&&t.push(o[e]);for(let e=0;e<t.length;e++)for(let c=0;c<t[e].cssRules.length;c++)t[e].cssRules[c].selectorText&&t[e].cssRules[c].selectorText.indexOf(".icon-")>-1&&s.push(`${t[e].cssRules[c].selectorText.substring(1,t[e].cssRules[c].selectorText.length).replace(/\:\:before/gi,"")}`);s.length>0?l(s):a("未获取到值，请刷新重试")})}),q=()=>new Promise((l,a)=>{I(()=>{const o=E,t=[];for(const s in o)t.push(`ele-${o[s].name}`);t.length>0?l(t):a("未获取到值，请刷新重试")})}),K=()=>new Promise((l,a)=>{I(()=>{const o=document.styleSheets;let t=[],s=[];for(let e=0;e<o.length;e++)o[e].href&&o[e].href.indexOf("netdna.bootstrapcdn.com")>-1&&t.push(o[e]);for(let e=0;e<t.length;e++)for(let c=0;c<t[e].cssRules.length;c++)t[e].cssRules[c].selectorText&&t[e].cssRules[c].selectorText.indexOf(".fa-")===0&&t[e].cssRules[c].selectorText.indexOf(",")===-1&&/::before/.test(t[e].cssRules[c].selectorText)&&s.push(`${t[e].cssRules[c].selectorText.substring(1,t[e].cssRules[c].selectorText.length).replace(/\:\:before/gi,"")}`);s.length>0?l(s.reverse()):a("未获取到值，请刷新重试")})}),b={ali:()=>Q(),ele:()=>q(),awe:()=>K()};const X={class:"icon-selector w100 h100"},Y={class:"icon-selector-warp"},Z={class:"icon-selector-warp-title"},ee=R({name:"iconSelector"}),le=R({...ee,props:{prepend:{type:String,default:()=>"ele-Pointer"},placeholder:{type:String,default:()=>"请输入内容搜索图标或者选择图标"},size:{type:String,default:()=>"default"},title:{type:String,default:()=>"请选择图标"},disabled:{type:Boolean,default:()=>!1},clearable:{type:Boolean,default:()=>!0},emptyDescription:{type:String,default:()=>"无相关图标"},modelValue:String},emits:["update:modelValue","get","clear"],setup(l,{emit:a}){const o=l,t=J(()=>W(()=>import("./list-b3cd7293.js"),["assets/js/list-b3cd7293.js","assets/js/@vue-6dabbe94.js","assets/js/_plugin-vue_export-helper-c27b6911.js","assets/css/list-1817b3d2.css"])),s=F(),e=$({fontIconPrefix:"",fontIconWidth:0,fontIconSearch:"",fontIconPlaceholder:"",fontIconTabActive:"ali",fontIconList:{ali:[],ele:[],awe:[]}}),c=()=>{if(!o.modelValue)return!1;e.fontIconSearch="",e.fontIconPlaceholder=o.modelValue},C=()=>{const n=v();setTimeout(()=>{n.filter(r=>r===e.fontIconSearch).length<=0&&(e.fontIconSearch="")},300)},h=N(()=>{const n=v();if(!e.fontIconSearch)return n;let i=e.fontIconSearch.trim().toLowerCase();return n.filter(r=>{if(r.toLowerCase().indexOf(i)!==-1)return r})}),v=()=>{let n=[];return e.fontIconTabActive==="ali"?n=e.fontIconList.ali:e.fontIconTabActive==="ele"?n=e.fontIconList.ele:e.fontIconTabActive==="awe"&&(n=e.fontIconList.awe),n},y=()=>{if(o.modelValue==="")return e.fontIconPlaceholder=o.placeholder;e.fontIconPlaceholder=o.modelValue,e.fontIconPrefix=o.modelValue},w=()=>{let n="ali";return o.modelValue.indexOf("iconfont")>-1?n="ali":o.modelValue.indexOf("ele-")>-1?n="ele":o.modelValue.indexOf("fa")>-1&&(n="awe"),e.fontIconTabActive=n,n},V=async n=>{if(n==="ali"){if(e.fontIconList.ali.length>0)return;await b.ali().then(i=>{e.fontIconList.ali=i.map(r=>`iconfont ${r}`)})}else if(n==="ele"){if(e.fontIconList.ele.length>0)return;await b.ele().then(i=>{e.fontIconList.ele=i})}else if(n==="awe"){if(e.fontIconList.awe.length>0)return;await b.awe().then(i=>{e.fontIconList.awe=i.map(r=>`fa ${r}`)})}e.fontIconPlaceholder=o.placeholder,y()},O=n=>{V(n.paneName),s.value.focus()},m=n=>{e.fontIconPlaceholder=n,e.fontIconPrefix=n,a("get",e.fontIconPrefix),a("update:modelValue",e.fontIconPrefix),s.value.focus()},k=()=>{e.fontIconPrefix="",a("clear",e.fontIconPrefix),a("update:modelValue",e.fontIconPrefix)},L=()=>{I(()=>{e.fontIconWidth=s.value.$el.offsetWidth})},z=()=>{window.addEventListener("resize",()=>{L()})};return j(()=>{V(w()),z(),L()}),G(()=>o.modelValue,()=>{y(),w()}),(n,i)=>{const r=p("SvgIcon"),A=p("el-input"),x=p("el-tab-pane"),B=p("el-tabs"),D=p("el-popover");return g(),T("div",X,[f(A,{modelValue:e.fontIconSearch,"onUpdate:modelValue":i[0]||(i[0]=u=>e.fontIconSearch=u),placeholder:e.fontIconPlaceholder,clearable:l.clearable,disabled:l.disabled,size:l.size,ref_key:"inputWidthRef",ref:s,onClear:k,onFocus:c,onBlur:C},{prepend:d(()=>{var u,S;return[(e.fontIconPrefix===""?((u=l.prepend)==null?void 0:u.indexOf("ele-"))>-1:((S=e.fontIconPrefix)==null?void 0:S.indexOf("ele-"))>-1)?(g(),U(r,{key:0,name:e.fontIconPrefix===""?l.prepend:e.fontIconPrefix,class:"font14"},null,8,["name"])):(g(),T("i",{key:1,class:M([e.fontIconPrefix===""?l.prepend:e.fontIconPrefix,"font14"])},null,2))]}),_:1},8,["modelValue","placeholder","clearable","disabled","size"]),f(D,{placement:"bottom",width:e.fontIconWidth,transition:"el-zoom-in-top","popper-class":"icon-selector-popper",trigger:"click","virtual-ref":s.value,"virtual-triggering":""},{default:d(()=>[_("div",Y,[_("div",Z,H(l.title),1),f(B,{modelValue:e.fontIconTabActive,"onUpdate:modelValue":i[1]||(i[1]=u=>e.fontIconTabActive=u),onTabClick:O},{default:d(()=>[f(x,{lazy:"",label:"ali",name:"ali"},{default:d(()=>[f(P(t),{list:h.value,empty:l.emptyDescription,prefix:e.fontIconPrefix,onGetIcon:m},null,8,["list","empty","prefix"])]),_:1}),f(x,{lazy:"",label:"ele",name:"ele"},{default:d(()=>[f(P(t),{list:h.value,empty:l.emptyDescription,prefix:e.fontIconPrefix,onGetIcon:m},null,8,["list","empty","prefix"])]),_:1}),f(x,{lazy:"",label:"awe",name:"awe"},{default:d(()=>[f(P(t),{list:h.value,empty:l.emptyDescription,prefix:e.fontIconPrefix,onGetIcon:m},null,8,["list","empty","prefix"])]),_:1})]),_:1},8,["modelValue"])])]),_:1},8,["width","virtual-ref"])])}}});export{le as _};
