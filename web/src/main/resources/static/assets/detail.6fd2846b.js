var w=Object.defineProperty;var A=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var S=(e,r,n)=>r in e?w(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,k=(e,r)=>{for(var n in r||(r={}))E.call(r,n)&&S(e,n,r[n]);if(A)for(var n of A(r))I.call(r,n)&&S(e,n,r[n]);return e};import{s as v,_ as T}from"./index.fd217d0f.js";import{Q as V}from"./qrcode.c9e34402.js";import{j as N,a8 as q,t as x,l as f,m as b,z as l,A as s,D as p,p as t,Q as y,L as B,x as g,y as u,Y as L,X as O,G as j,B as M,C as P}from"./vendor.d2ed1f2c.js";function we(e){return v({url:"/client/order/list",method:"get",params:e})}function R(e){return v({url:"/client/order/detail/"+e,method:"get"})}function z(e){return v({url:"/client/pay/wxPay/NATIVE/getQrPay?orderId="+e,method:"get"})}function Q(e){return v({url:"client/order/status/check/"+e,method:"get"})}const $={name:"attachDetail",setup(e,r){const{proxy:n}=j(),o=N({isShowDialog:!1,myTimer:null,ruleForm:{id:null},rules:{}}),D=c=>{o.isShowDialog=!0,o.ruleForm.id=c},h=()=>{o.isShowDialog=!1,o.myTimer!=null&&clearInterval(Number(o.myTimer))},a=()=>{h(),m()},d=()=>{o.ruleForm.id&&o.ruleForm.id!=null&&R(o.ruleForm.id).then(c=>{o.ruleForm=c.data})},F=()=>{z(o.ruleForm.id).then(c=>{n.$refs.qrcodeRef.innerHTML="",new V(n.$refs.qrcodeRef,{text:c,width:125,height:125,colorDark:"#000000",colorLight:"#ffffff"}),o.myTimer=setInterval(()=>{!o.ruleForm.id||Q(o.ruleForm.id).then(_=>{_.code==200&&(h(),m())}).catch(()=>{})},2e3)})};q(()=>{d()});const m=()=>{o.ruleForm={}};return k({onPayment:F,openDialog:D,closeDialog:h,onCancel:a},x(o))}},i=e=>(M("data-v-71296cac"),e=e(),P(),e),U={class:"system-menu-container"},X={class:"personal"},G={class:"personal-user"},H={class:"personal-user-right"},Y=i(()=>t("div",{class:"personal-item-label"},"\u8BA2\u5355\u7F16\u53F7\uFF1A",-1)),J={class:"personal-item-value"},K=i(()=>t("div",{class:"personal-item-label"},"\u8BA2\u5355\u72B6\u6001\uFF1A",-1)),W={class:"personal-item-value"},Z=i(()=>t("div",{class:"personal-item-label"},"\u4EA4\u6613\u72B6\u6001\uFF1A",-1)),ee={class:"personal-item-value"},se=i(()=>t("div",{class:"personal-item-label"},"\u652F\u4ED8\u72B6\u6001\uFF1A",-1)),te={class:"personal-item-value"},le=i(()=>t("div",{class:"personal-item-label"},"\u8BA2\u5355\u91D1\u989D\uFF1A",-1)),oe={class:"personal-item-value"},ae=i(()=>t("div",{class:"personal-item-label"},"\u4E70\u5BB6\uFF1A",-1)),re={class:"personal-item-value"},ne=i(()=>t("div",{class:"personal-item-label"},"\u521B\u5EFA\u65F6\u95F4\uFF1A",-1)),ue={class:"personal-item-value"},ie=i(()=>t("div",{class:"personal-item-label"},"\u4E70\u5BB6\u7559\u8A00\uFF1A",-1)),de={class:"personal-item-value"},ce=i(()=>t("div",{class:"personal-item-label"},"\u5356\u5BB6\u5907\u6CE8\uFF1A",-1)),me={class:"personal-item-value"},_e={class:"personal-edit-safe-item"},pe={class:"personal-edit-safe-item-left"},fe={class:"personal-edit-safe-item-left-label"},he={class:"personal-edit-safe-item-right"},Fe={class:"mb30 mt30 qrcode-img"},ve={class:"qrcode",ref:"qrcodeRef"},ge={class:"dialog-footer"},be=g("\u652F \u4ED8"),ye=g("\u53D6 \u6D88");function Be(e,r,n,o,D,h){const a=f("el-col"),d=f("el-row"),F=f("el-card"),m=f("el-button"),c=f("el-dialog");return p(),b("div",U,[l(c,{title:"\u8BA2\u5355\u8BE6\u60C5",fullscreen:"",modelValue:e.isShowDialog,"onUpdate:modelValue":r[0]||(r[0]=_=>e.isShowDialog=_)},{footer:s(()=>[t("span",ge,[e.ruleForm.payStatus!=1?(p(),y(m,{key:0,type:"success",onClick:o.onPayment,size:"small"},{default:s(()=>[be]),_:1},8,["onClick"])):B("",!0),l(m,{onClick:o.onCancel,size:"small"},{default:s(()=>[ye]),_:1},8,["onClick"])])]),default:s(()=>[t("div",X,[l(d,null,{default:s(()=>[l(a,{xs:24,sm:24},{default:s(()=>[l(F,{shadow:"hover"},{default:s(()=>[t("div",G,[t("div",H,[l(d,null,{default:s(()=>[l(a,{span:24,class:"personal-title mb18"},{default:s(()=>[g(u(e.ruleForm.orderTitle),1)]),_:1}),l(a,{span:24},{default:s(()=>[l(d,null,{default:s(()=>[l(a,{xs:24,sm:8,class:"personal-item mb6"},{default:s(()=>[Y,t("div",J,u(e.ruleForm.orderSn),1)]),_:1}),l(a,{xs:24,sm:4,class:"personal-item mb6"},{default:s(()=>[K,t("div",W,u(e.ruleForm.statusStr),1)]),_:1}),l(a,{xs:24,sm:4,class:"personal-item mb6"},{default:s(()=>[Z,t("div",ee,u(e.ruleForm.tradeStatusStr),1)]),_:1}),l(a,{xs:24,sm:4,class:"personal-item mb6"},{default:s(()=>[se,t("div",te,u(e.ruleForm.payStatusStr),1)]),_:1})]),_:1})]),_:1}),l(a,{span:24},{default:s(()=>[l(d,null,{default:s(()=>[l(a,{xs:24,sm:8,class:"personal-item mb6"},{default:s(()=>[le,t("div",oe,u(e.ruleForm.orderAmount),1)]),_:1}),l(a,{xs:24,sm:4,class:"personal-item mb6"},{default:s(()=>[ae,t("div",re,u(e.ruleForm.nickName),1)]),_:1}),l(a,{xs:24,sm:4,class:"personal-item mb6"},{default:s(()=>[ne,t("div",ue,u(e.ruleForm.created),1)]),_:1})]),_:1})]),_:1}),e.ruleForm.buyerMsg!=null&&e.ruleForm.buyerMsg!=""?(p(),y(a,{key:0,span:24},{default:s(()=>[l(d,null,{default:s(()=>[l(a,{xs:24,sm:24,class:"personal-item mb6"},{default:s(()=>[ie,t("div",de,u(e.ruleForm.buyerMsg),1)]),_:1})]),_:1})]),_:1})):B("",!0),e.ruleForm.remarks!=null&&e.ruleForm.remarks!=""?(p(),y(a,{key:1,span:24},{default:s(()=>[l(d,null,{default:s(()=>[l(a,{xs:24,sm:24,class:"personal-item mb6"},{default:s(()=>[ce,t("div",me,u(e.ruleForm.remarks),1)]),_:1})]),_:1})]),_:1})):B("",!0)]),_:1})])])]),_:1})]),_:1}),l(a,{span:24},{default:s(()=>[l(F,{shadow:"hover",class:"mt15 personal-edit",header:"\u5546\u54C1\u4FE1\u606F"},{default:s(()=>[(p(!0),b(L,null,O(e.ruleForm.orderItemList,(_,C)=>(p(),b("div",{class:"personal-edit-safe-box",key:C},[t("div",_e,[t("div",pe,[t("div",fe,u(_.productTitle),1)]),t("div",he,[l(m,{type:"text"},{default:s(()=>[g("\u6570\u91CF X "+u(_.productCount),1)]),_:2},1024)])])]))),128))]),_:1})]),_:1})]),_:1})]),t("div",Fe,[t("div",ve,null,512)])]),_:1},8,["modelValue"])])}var De=T($,[["render",Be],["__scopeId","data-v-71296cac"]]),Ee=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:De});export{De as D,Ee as d,we as g};
