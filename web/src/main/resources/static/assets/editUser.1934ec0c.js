var C=Object.defineProperty;var _=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var D=(l,u,m)=>u in l?C(l,u,{enumerable:!0,configurable:!0,writable:!0,value:m}):l[u]=m,y=(l,u)=>{for(var m in u||(u={}))h.call(u,m)&&D(l,m,u[m]);if(_)for(var m of _(u))S.call(u,m)&&D(l,m,u[m]);return l};import{s as j,a as x,b as A}from"./index.4d3542c7.js";import{c as R}from"./index.d77d6902.js";import{g as z}from"./client.6626f43d.js";import{l as T}from"./index.6a67ebb2.js";import{_ as $}from"./index.2009618e.js";import{j as I,o as M,a8 as q,t as G,l as n,m as V,z as e,A as o,b as Q,D as f,p as X,Y as E,X as N,Q as U,G as Y,x as k}from"./vendor.d2ed1f2c.js";const H={name:"systemEditUser",setup(l,u){const{proxy:m}=Y(),a=I({isShowDialog:!1,deptList:[],tags:[],roleList:[],ruleForm:{id:null,userName:"",nickName:"",mobile:"",email:"",company:"",address:"",sex:"1",status:"1",tagList:"",roleList:""},rules:{userName:{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"blur"}}}),B=s=>{console.log(s),a.isShowDialog=!0,a.ruleForm.id=s.id},b=s=>{console.log(s),a.isShowDialog=!1},i=()=>{b(),F()},d=()=>{m.$refs.myRefForm.validate(s=>{if(s){let g=T.stringify(a.ruleForm,{arrayFormat:"repeat"});j(g).then(()=>{b(),F(),u.emit("reloadTable")}).catch(c=>{Q({showClose:!0,message:c.message?c.message:"\u7CFB\u7EDF\u9519\u8BEF",type:"error"})})}})},t=()=>{R().then(s=>{a.roleList=s.data}).catch(s=>{console.log(s)}),x().then(s=>{a.tags=s.data}),z().then(s=>{a.deptList=s.data})},p=()=>{a.ruleForm.id&&a.ruleForm.id!=null&&A(a.ruleForm.id).then(s=>{a.ruleForm.id=s.data.id,a.ruleForm.userName=s.data.userName,a.ruleForm.nickName=s.data.nickName,a.ruleForm.mobile=s.data.mobile,a.ruleForm.email=s.data.email,a.ruleForm.company=s.data.company,a.ruleForm.address=s.data.address,a.ruleForm.sex=s.data.sex+"",a.ruleForm.status=s.data.status+"",a.ruleForm.tagList=s.data.tagList,a.ruleForm.roleList=s.data.roleList,a.ruleForm.deptList=s.data.deptList})};M(()=>{t()}),q(()=>{p()});const F=()=>{a.ruleForm.id=null,a.ruleForm.userName="",a.ruleForm.nickName="",a.ruleForm.mobile="",a.ruleForm.email="",a.ruleForm.company="",a.ruleForm.address="",a.ruleForm.sex="",a.ruleForm.status="",a.ruleForm.roleList="",a.ruleForm.deptList=""};return y({openDialog:B,closeDialog:b,onCancel:i,onSubmit:d,loadRoleList:t},G(a))}},J={class:"system-menu-container"},K={class:"dialog-footer"},O=k("\u53D6 \u6D88"),P=k("\u4FDD \u5B58");function W(l,u,m,a,B,b){const i=n("el-input"),d=n("el-form-item"),t=n("el-col"),p=n("el-option"),F=n("el-select"),s=n("el-cascader"),g=n("el-row"),c=n("el-form"),L=n("el-button"),v=n("el-dialog");return f(),V("div",J,[e(v,{title:"\u7F16\u8F91\u7528\u6237",modelValue:l.isShowDialog,"onUpdate:modelValue":u[11]||(u[11]=r=>l.isShowDialog=r),width:"769px"},{footer:o(()=>[X("span",K,[e(L,{onClick:a.onCancel,size:"small"},{default:o(()=>[O]),_:1},8,["onClick"]),e(L,{type:"primary",onClick:a.onSubmit,size:"small"},{default:o(()=>[P]),_:1},8,["onClick"])])]),default:o(()=>[e(c,{model:l.ruleForm,size:"small","label-width":"80px",rules:l.rules,ref:"myRefForm"},{default:o(()=>[e(g,{gutter:35},{default:o(()=>[e(t,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[e(d,{label:"\u8D26\u53F7",prop:"userName"},{default:o(()=>[e(i,{modelValue:l.ruleForm.userName,"onUpdate:modelValue":u[0]||(u[0]=r=>l.ruleForm.userName=r),readonly:"",placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7"},null,8,["modelValue"])]),_:1})]),_:1}),e(t,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[e(d,{label:"\u6635\u79F0",prop:"nickName"},{default:o(()=>[e(i,{modelValue:l.ruleForm.nickName,"onUpdate:modelValue":u[1]||(u[1]=r=>l.ruleForm.nickName=r),placeholder:"\u8BF7\u8F93\u5165\u6635\u79F0",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(t,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[e(d,{label:"\u624B\u673A\u53F7\u7801",prop:"mobile"},{default:o(()=>[e(i,{modelValue:l.ruleForm.mobile,"onUpdate:modelValue":u[2]||(u[2]=r=>l.ruleForm.mobile=r),placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(t,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[e(d,{label:"\u7535\u5B50\u90AE\u7BB1",prop:"email"},{default:o(()=>[e(i,{modelValue:l.ruleForm.email,"onUpdate:modelValue":u[3]||(u[3]=r=>l.ruleForm.email=r),placeholder:"\u8BF7\u8F93\u5165\u7535\u5B50\u90AE\u7BB1",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(t,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[e(d,{label:"\u516C\u53F8",prop:"company"},{default:o(()=>[e(i,{modelValue:l.ruleForm.company,"onUpdate:modelValue":u[4]||(u[4]=r=>l.ruleForm.company=r),placeholder:"\u8BF7\u8F93\u5165\u516C\u53F8\u540D\u79F0",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(t,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[e(d,{label:"\u5730\u5740",prop:"address"},{default:o(()=>[e(i,{modelValue:l.ruleForm.address,"onUpdate:modelValue":u[5]||(u[5]=r=>l.ruleForm.address=r),placeholder:"\u8BF7\u8F93\u5165\u5730\u5740",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(t,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[e(d,{label:"\u6027\u522B"},{default:o(()=>[e(F,{modelValue:l.ruleForm.sex,"onUpdate:modelValue":u[6]||(u[6]=r=>l.ruleForm.sex=r),placeholder:"\u8BF7\u9009\u62E9\u6027\u522B",clearable:"",class:"w100"},{default:o(()=>[e(p,{label:"\u7537",value:"1"}),e(p,{label:"\u5973",value:"0"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(t,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[e(d,{label:"\u72B6\u6001"},{default:o(()=>[e(F,{modelValue:l.ruleForm.status,"onUpdate:modelValue":u[7]||(u[7]=r=>l.ruleForm.status=r),placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001",clearable:"",class:"w100"},{default:o(()=>[e(p,{label:"\u542F\u7528",value:"1"}),e(p,{label:"\u7981\u7528",value:"0"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(t,{class:"mb20"},{default:o(()=>[e(d,{label:"\u7528\u6237\u6807\u7B7E"},{default:o(()=>[e(F,{modelValue:l.ruleForm.tagList,"onUpdate:modelValue":u[8]||(u[8]=r=>l.ruleForm.tagList=r),class:"w100",multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"\u53EF\u76F4\u63A5\u8F93\u5165\u6807\u7B7E\u540D\u79F0"},{default:o(()=>[(f(!0),V(E,null,N(l.tags,r=>(f(),U(p,{key:r.id,label:r.title,value:r.title},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(t,{class:"mb20"},{default:o(()=>[e(d,{label:"\u5206\u914D\u90E8\u95E8"},{default:o(()=>[e(s,{modelValue:l.ruleForm.deptList,"onUpdate:modelValue":u[9]||(u[9]=r=>l.ruleForm.deptList=r),options:l.deptList,placeholder:"\u8BF7\u9009\u62E9\u90E8\u95E8",props:{checkStrictly:!0,multiple:!0,label:"label",value:"id",children:"children"},class:"w100",clearable:""},null,8,["modelValue","options"])]),_:1})]),_:1}),e(t,{class:"mb20"},{default:o(()=>[e(d,{label:"\u5206\u914D\u89D2\u8272"},{default:o(()=>[e(F,{modelValue:l.ruleForm.roleList,"onUpdate:modelValue":u[10]||(u[10]=r=>l.ruleForm.roleList=r),multiple:"",placeholder:"\u8BF7\u9009\u62E9\u89D2\u8272",clearable:"",class:"w100"},{default:o(()=>[(f(!0),V(E,null,N(l.roleList,(r,w)=>(f(),U(p,{key:w,label:r.roleName,value:r.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}var se=$(H,[["render",W]]);export{se as default};
