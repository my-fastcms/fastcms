var A=Object.defineProperty;var C=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var S=(e,s,o)=>s in e?A(e,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[s]=o,T=(e,s)=>{for(var o in s||(s={}))V.call(s,o)&&S(e,o,s[o]);if(C)for(var o of C(s))q.call(s,o)&&S(e,o,s[o]);return e};import{a0 as B,j as N,J as z,o as P,t as M,l as u,m as w,p as n,y as l,z as b,A as _,Q as m,L as g,q as j,B as R,C as W,D as c,T as $,w as D,v as I,x as v}from"./vendor.07d41a1e.js";import L from"./account.542f1e89.js";import E from"./mobile.f29c15f9.js";import K from"./scan.b60c843a.js";import{_ as O,u as F}from"./index.663f3072.js";import{l as J}from"./index.34a00848.js";import{g as Q}from"./index.6155ac98.js";import"./index.aab7a504.js";const U={name:"login",components:{Account:L,Mobile:E,Scan:K},setup(){const e=F(),s=B(),o=N({tabsActiveName:"account",isWechatBrowser:!1,isTabPaneShow:!0,isScan:!1,public_register_enable:!1,public_website_domain:"",public_mp_scan_qrcode_login_enable:!1,public_mp_scan_qrcode_login_is_default:!1,public_forgot_password_enable:!0}),t=z(()=>e.state.themeConfig.themeConfig),y=()=>{o.isTabPaneShow=!o.isTabPaneShow},k=()=>{s.push("/register")},f=()=>{s.push("/rest/password")},h=()=>{console.log("url:"+o.public_website_domain+"/oauth2/authorization/wechat-mp"),window.location.href=o.public_website_domain+"/oauth2/authorization/wechat-mp"},d=()=>{const r=window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i);return r===null?!1:!!r.includes("micromessenger")};return P(()=>{o.isWechatBrowser=d();let a=new Array;a.push("public_register_enable"),a.push("public_website_domain"),a.push("public_mp_scan_qrcode_login_enable"),a.push("public_forgot_password_enable"),a.push("public_mp_scan_qrcode_login_is_default");let r=J.stringify({configKeys:a},{arrayFormat:"repeat"});Q(r).then(p=>{p.data.forEach(i=>{i.key=="public_register_enable"&&(o.public_register_enable=i.jsonValue),i.key=="public_website_domain"&&(o.public_website_domain=i.jsonValue),i.key=="public_mp_scan_qrcode_login_enable"&&(o.public_mp_scan_qrcode_login_enable=i.jsonValue),i.key=="public_forgot_password_enable"&&(o.public_forgot_password_enable=i.jsonValue)}),o.public_mp_scan_qrcode_login_enable&&o.public_mp_scan_qrcode_login_is_default&&(o.isScan=!0)})}),T({toRegister:k,toRestPassword:f,judgeWechatBrowser:d,toWechatMpOAuth:h,onTabsClick:y,getThemeConfig:t},M(o))}},G=e=>(R("data-v-86517d72"),e=e(),W(),e),H={class:"login-container"},X={class:"login-logo"},Y={class:"login-content-main"},Z={class:"login-content-title"},x={key:0},ee={class:"mt10"},oe=G(()=>n("div",{class:"login-content-main-sacn-delta"},null,-1)),se={class:"login-copyright"},ae={class:"mb5 login-copyright-company"},ne={class:"login-copyright-msg"};function te(e,s,o,t,y,k){const f=u("Account"),h=u("el-tab-pane"),d=u("el-tabs"),a=u("el-button"),r=u("Scan");return c(),w("div",H,[n("div",X,[n("span",null,l(t.getThemeConfig.globalViceTitle),1)]),n("div",{class:j(["login-content",{"login-content-mobile":e.tabsActiveName==="mobile"}])},[n("div",Y,[n("h4",Z,l(t.getThemeConfig.globalTitle),1),e.isScan?(c(),m(r,{key:1,domain:e.public_website_domain},null,8,["domain"])):(c(),w("div",x,[b(d,{modelValue:e.tabsActiveName,"onUpdate:modelValue":s[0]||(s[0]=p=>e.tabsActiveName=p),onTabClick:t.onTabsClick},{default:_(()=>[b(h,{label:e.$t("message.label.one1"),name:"account",disabled:e.tabsActiveName==="account"},{default:_(()=>[b($,{name:"el-zoom-in-center"},{default:_(()=>[D(b(f,null,null,512),[[I,e.isTabPaneShow]])]),_:1})]),_:1},8,["label","disabled"])]),_:1},8,["modelValue","onTabClick"]),n("div",ee,[e.public_register_enable?(c(),m(a,{key:0,type:"text",size:"small",onClick:t.toRegister},{default:_(()=>[v(l(e.$t("message.link.one3")),1)]),_:1},8,["onClick"])):g("",!0),e.public_forgot_password_enable?(c(),m(a,{key:1,type:"text",size:"small",onClick:t.toRestPassword},{default:_(()=>[v(l(e.$t("message.link.two6")),1)]),_:1},8,["onClick"])):g("",!0),e.isWechatBrowser?(c(),m(a,{key:2,type:"text",size:"small",onClick:t.toWechatMpOAuth},{default:_(()=>[v(l(e.$t("message.link.two7")),1)]),_:1},8,["onClick"])):g("",!0)])])),e.public_mp_scan_qrcode_login_enable?(c(),w("div",{key:2,class:"login-content-main-sacn",onClick:s[1]||(s[1]=p=>e.isScan=!e.isScan),ref:"scanDiv"},[n("i",{class:j(["iconfont",e.isScan?"icon-diannao1":"icon-barcode-qr"])},null,2),oe],512)):g("",!0)])],2),n("div",se,[n("div",ae,l(e.$t("message.copyright.one5")),1),n("div",ne,l(e.$t("message.copyright.two6")),1)])])}var me=O(U,[["render",te],["__scopeId","data-v-86517d72"]]);export{me as default};
