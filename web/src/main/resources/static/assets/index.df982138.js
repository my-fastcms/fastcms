var je=Object.defineProperty;var Ie=Object.getOwnPropertySymbols;var Ge=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable;var Re=(e,n,r)=>n in e?je(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,A=(e,n)=>{for(var r in n||(n={}))Ge.call(n,r)&&Re(e,r,n[r]);if(Ie)for(var r of Ie(n))Qe.call(n,r)&&Re(e,r,n[r]);return e};import{_ as R,u as z,L as G,S as ne,r as Ye,a as Je,i as ve}from"./index.996e2d4a.js";import{J as x,D as h,m as L,p as w,y as V,G as W,B as pe,C as ge,i as oe,l as g,Y as Q,Z as q,Q as T,A as y,q as F,z as C,x as D,M as Y,j as P,P as J,o as K,$ as ie,t as O,a0 as Be,O as le,w as re,v as ue,L as H,a1 as ce,a2 as Ke,s as ee,K as _e,r as X,H as Me,n as ae,T as He,b as ke,E as Xe,k as de,a3 as Ze}from"./vendor.7efd8838.js";import{S as et}from"./sortable.esm.31e56bbd.js";import tt from"./parent.e8045f04.js";const st={name:"layoutLogo",setup(){const{proxy:e}=W(),n=z(),r=x(()=>n.state.themeConfig.themeConfig);return{setShowLogo:x(()=>{let{isCollapse:b,layout:o}=n.state.themeConfig.themeConfig;return!b||o==="classic"||document.body.clientWidth<1e3}),getThemeConfig:r,onThemeConfigChange:()=>{if(n.state.themeConfig.themeConfig.layout==="transverse")return!1;e.mittBus.emit("onMenuClick"),n.state.themeConfig.themeConfig.isCollapse=!n.state.themeConfig.themeConfig.isCollapse}}}},nt=e=>(pe("data-v-c1c307fe"),e=e(),ge(),e),ot=nt(()=>w("img",{src:"https://gitee.com/lyt-top/vue-next-admin-images/raw/master/logo/logo-mini.svg",class:"layout-logo-size-img"},null,-1)),it=[ot];function at(e,n,r,s,f,b){return s.setShowLogo?(h(),L("div",{key:0,class:"layout-logo",onClick:n[0]||(n[0]=(...o)=>s.onThemeConfigChange&&s.onThemeConfigChange(...o))},[w("span",null,V(s.getThemeConfig.globalTitle),1)])):(h(),L("div",{key:1,class:"layout-logo-size",onClick:n[1]||(n[1]=(...o)=>s.onThemeConfigChange&&s.onThemeConfigChange(...o))},it))}var Ee=R(st,[["render",at],["__scopeId","data-v-c1c307fe"]]);const lt=oe({name:"navMenuSubItem",props:{chil:{type:Array,default:()=>[]}},setup(e){return{chils:x(()=>e.chil)}}}),rt=["href"];function ut(e,n,r,s,f,b){const o=g("sub-item",!0),i=g("el-sub-menu"),t=g("el-menu-item");return h(!0),L(q,null,Q(e.chils,d=>(h(),L(q,null,[d.children&&d.children.length>0?(h(),T(i,{index:d.path,key:d.path},{title:y(()=>[w("i",{class:F(d.meta.icon)},null,2),w("span",null,V(e.$t(d.meta.title)),1)]),default:y(()=>[C(o,{chil:d.children},null,8,["chil"])]),_:2},1032,["index"])):(h(),T(t,{index:d.path,key:d.path},{default:y(()=>[!d.meta.isLink||d.meta.isLink&&d.meta.isIframe?(h(),L(q,{key:0},[w("i",{class:F(d.meta.icon?d.meta.icon:"")},null,2),w("span",null,V(e.$t(d.meta.title)),1)],64)):(h(),L("a",{key:1,href:d.meta.isLink,target:"_blank",rel:"opener"},[w("i",{class:F(d.meta.icon?d.meta.icon:"")},null,2),D(" "+V(e.$t(d.meta.title)),1)],8,rt))]),_:2},1032,["index"]))],64))),256)}var De=R(lt,[["render",ut]]);const ct=oe({name:"navMenuVertical",components:{SubItem:De},props:{menuList:{type:Array,default:()=>[]}},setup(e){const{proxy:n}=W(),r=z(),s=Y(),f=P({defaultActive:s.meta.isDynamic?s.meta.isDynamicPath:s.path,isCollapse:!1}),b=x(()=>e.menuList),o=x(()=>r.state.themeConfig.themeConfig),i=t=>{const{path:d,meta:c}=t,m=c.isDynamic?c.isDynamicPath.split("/"):d.split("/");return m.length>=4&&c.isHide?m.splice(0,3).join("/"):d};return J(r.state.themeConfig.themeConfig,()=>{document.body.clientWidth<=1e3?f.isCollapse=!1:f.isCollapse=o.value.isCollapse},{immediate:!0}),K(()=>{f.defaultActive=i(s)}),ie(t=>{f.defaultActive=i(t),n.mittBus.emit("onMenuClick"),document.body.clientWidth<1e3&&(o.value.isCollapse=!1)}),A({menuLists:b,getThemeConfig:o},O(f))}});function dt(e,n,r,s,f,b){const o=g("SubItem"),i=g("el-sub-menu"),t=g("el-menu-item"),d=g("el-menu");return h(),T(d,{router:"","default-active":e.defaultActive,"background-color":"transparent",collapse:e.isCollapse,"unique-opened":e.getThemeConfig.isUniqueOpened,"collapse-transition":!1},{default:y(()=>[(h(!0),L(q,null,Q(e.menuLists,c=>(h(),L(q,null,[c.children&&c.children.length>0?(h(),T(i,{index:c.path,key:c.path},{title:y(()=>[w("i",{class:F(c.meta.icon?c.meta.icon:"")},null,2),w("span",null,V(e.$t(c.meta.title)),1)]),default:y(()=>[C(o,{chil:c.children},null,8,["chil"])]),_:2},1032,["index"])):(h(),T(t,{index:c.path,key:c.path},Be({default:y(()=>[w("i",{class:F(c.meta.icon?c.meta.icon:"")},null,2)]),_:2},[!c.meta.isLink||c.meta.isLink&&c.meta.isIframe?{name:"title",fn:y(()=>[w("span",null,V(e.$t(c.meta.title)),1)])}:{name:"title",fn:y(()=>[w("a",{href:c.meta.isLink,target:"_blank",rel:"opener"},V(e.$t(c.meta.title)),9,["href"])])}]),1032,["index"]))],64))),256))]),_:1},8,["default-active","collapse","unique-opened"])}var mt=R(ct,[["render",dt]]);const ft={name:"layoutAside",components:{Logo:Ee,Vertical:mt},setup(){const{proxy:e}=W(),n=z(),r=P({menuList:[],clientWidth:""}),s=x(()=>n.state.themeConfig.themeConfig),f=x(()=>n.state.tagsViewRoutes.isTagsViewCurrenFull),b=x(()=>{const{layout:a,isCollapse:p,menuBar:v}=n.state.themeConfig.themeConfig,I=v==="#FFFFFF"||v==="#FFF"||v==="#fff"||v==="#ffffff"?"layout-el-aside-br-color":"";if(r.clientWidth<=1e3)if(p){document.body.setAttribute("class","el-popup-parent--hidden");const j=document.querySelector(".layout-container"),N=document.createElement("div");return N.setAttribute("class","layout-aside-mobile-mode"),j.appendChild(N),N.addEventListener("click",o),[I,"layout-aside-mobile","layout-aside-mobile-open"]}else return o(),[I,"layout-aside-mobile","layout-aside-mobile-close"];else return a==="columns"?p?[I,"layout-aside-pc-1"]:[I,"layout-aside-pc-220"]:p?[I,"layout-aside-pc-64"]:[I,"layout-aside-pc-220"]}),o=()=>{var v;const a=document.querySelector(".layout-aside-mobile-mode");a&&((v=a.parentNode)==null||v.removeChild(a)),document.body.clientWidth<1e3&&(n.state.themeConfig.themeConfig.isCollapse=!1),document.body.setAttribute("class","")},i=x(()=>{let{layout:a,isShowLogo:p}=n.state.themeConfig.themeConfig;return p&&a==="defaults"||p&&a==="columns"}),t=()=>{if(n.state.themeConfig.themeConfig.layout==="columns")return!1;r.menuList=d(n.state.routesList.routesList)},d=a=>a.filter(p=>!p.meta.isHide).map(p=>(p=Object.assign({},p),p.children&&(p.children=d(p.children)),p)),c=a=>{r.clientWidth=a},m=a=>{let{layout:p}=n.state.themeConfig.themeConfig;if(p!=="columns")return!1;a||e.mittBus.emit("restoreDefault"),n.dispatch("routesList/setColumnsMenuHover",a)};return J(n.state.themeConfig.themeConfig,a=>{if(a.isShowLogoChange!==a.isShowLogo){if(!e.$refs.layoutAsideScrollbarRef)return!1;e.$refs.layoutAsideScrollbarRef.update()}}),J(n.state,a=>{let{layout:p,isClassicSplitMenu:v}=a.themeConfig.themeConfig;if(p==="classic"&&v)return!1;t()}),le(()=>{c(document.body.clientWidth),t(),e.mittBus.on("setSendColumnsChildren",a=>{r.menuList=a.children}),e.mittBus.on("setSendClassicChildren",a=>{let{layout:p,isClassicSplitMenu:v}=n.state.themeConfig.themeConfig;p==="classic"&&v&&(r.menuList=[],r.menuList=a.children)}),e.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{t()}),e.mittBus.on("layoutMobileResize",a=>{c(a.clientWidth),o()})}),A({setCollapseStyle:b,setShowLogo:i,getThemeConfig:s,isTagsViewCurrenFull:f,onAsideEnterLeave:m},O(r))}},ht={class:"h100"};function pt(e,n,r,s,f,b){const o=g("Logo"),i=g("Vertical"),t=g("el-scrollbar"),d=g("el-aside");return re((h(),L("div",ht,[C(d,{class:F(["layout-aside",s.setCollapseStyle])},{default:y(()=>[s.setShowLogo?(h(),T(o,{key:0})):H("",!0),C(t,{class:"flex-auto",ref:"layoutAsideScrollbarRef",onMouseenter:n[0]||(n[0]=c=>s.onAsideEnterLeave(!0)),onMouseleave:n[1]||(n[1]=c=>s.onAsideEnterLeave(!1))},{default:y(()=>[C(i,{menuList:e.menuList},null,8,["menuList"])]),_:1},512)]),_:1},8,["class"])],512)),[[ue,!s.isTagsViewCurrenFull]])}var $e=R(ft,[["render",pt]]);const gt={name:"layoutBreadcrumb",setup(){const{proxy:e}=W(),n=z(),r=Y(),s=ce(),f=P({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),b=x(()=>n.state.themeConfig.themeConfig),o=x(()=>{c(r.path);const{layout:m,isBreadcrumb:a}=n.state.themeConfig.themeConfig;return m==="classic"||m==="transverse"?"none":a?"":"none"}),i=m=>{const{redirect:a,path:p}=m;a?s.push(a):s.push(p)},t=()=>{e.mittBus.emit("onMenuClick"),n.state.themeConfig.themeConfig.isCollapse=!n.state.themeConfig.themeConfig.isCollapse},d=m=>{m.map(a=>{f.routeSplit.map((p,v,I)=>{f.routeSplitFirst===a.path&&(f.routeSplitFirst+=`/${I[f.routeSplitIndex]}`,f.breadcrumbList.push(a),f.routeSplitIndex++,a.children&&d(a.children))})})},c=m=>{if(!n.state.themeConfig.themeConfig.isBreadcrumb)return!1;f.breadcrumbList=[n.state.routesList.routesList[0]],f.routeSplit=m.split("/"),f.routeSplit.shift(),f.routeSplitFirst=`/${f.routeSplit[0]}`,f.routeSplitIndex=1,d(n.state.routesList.routesList)};return K(()=>{c(r.path)}),ie(m=>{c(m.path)}),A({onThemeConfigChange:t,isShowBreadcrumb:o,getThemeConfig:b,onBreadcrumbClick:i},O(f))}},_t={key:0,class:"layout-navbars-breadcrumb-span"},Ct=["onClick"];function yt(e,n,r,s,f,b){const o=g("el-breadcrumb-item"),i=g("el-breadcrumb");return h(),L("div",{class:"layout-navbars-breadcrumb",style:_e({display:s.isShowBreadcrumb})},[w("i",{class:F(["layout-navbars-breadcrumb-icon",s.getThemeConfig.isCollapse?"el-icon-s-unfold":"el-icon-s-fold"]),onClick:n[0]||(n[0]=(...t)=>s.onThemeConfigChange&&s.onThemeConfigChange(...t))},null,2),C(i,{class:"layout-navbars-breadcrumb-hide"},{default:y(()=>[C(Ke,{name:"breadcrumb",mode:"out-in"},{default:y(()=>[(h(!0),L(q,null,Q(e.breadcrumbList,(t,d)=>(h(),T(o,{key:t.meta.title},{default:y(()=>[d===e.breadcrumbList.length-1?(h(),L("span",_t,[s.getThemeConfig.isBreadcrumbIcon?(h(),L("i",{key:0,class:F([t.meta.icon,"layout-navbars-breadcrumb-iconfont"])},null,2)):H("",!0),D(V(e.$t(t.meta.title)),1)])):(h(),L("a",{key:1,onClick:ee(c=>s.onBreadcrumbClick(t),["prevent"])},[s.getThemeConfig.isBreadcrumbIcon?(h(),L("i",{key:0,class:F([t.meta.icon,"layout-navbars-breadcrumb-iconfont"])},null,2)):H("",!0),D(V(e.$t(t.meta.title)),1)],8,Ct))]),_:2},1024))),128))]),_:1})]),_:1})],4)}var wt=R(gt,[["render",yt],["__scopeId","data-v-2d877580"]]),ze={exports:{}};/*!
* screenfull
* v5.1.0 - 2020-12-24
* (c) Sindre Sorhus; MIT License
*/(function(e){(function(){var n=typeof window!="undefined"&&typeof window.document!="undefined"?window.document:{},r=e.exports,s=function(){for(var o,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],t=0,d=i.length,c={};t<d;t++)if(o=i[t],o&&o[1]in n){for(t=0;t<o.length;t++)c[i[0][t]]=o[t];return c}return!1}(),f={change:s.fullscreenchange,error:s.fullscreenerror},b={request:function(o,i){return new Promise(function(t,d){var c=function(){this.off("change",c),t()}.bind(this);this.on("change",c),o=o||n.documentElement;var m=o[s.requestFullscreen](i);m instanceof Promise&&m.then(c).catch(d)}.bind(this))},exit:function(){return new Promise(function(o,i){if(!this.isFullscreen){o();return}var t=function(){this.off("change",t),o()}.bind(this);this.on("change",t);var d=n[s.exitFullscreen]();d instanceof Promise&&d.then(t).catch(i)}.bind(this))},toggle:function(o,i){return this.isFullscreen?this.exit():this.request(o,i)},onchange:function(o){this.on("change",o)},onerror:function(o){this.on("error",o)},on:function(o,i){var t=f[o];t&&n.addEventListener(t,i,!1)},off:function(o,i){var t=f[o];t&&n.removeEventListener(t,i,!1)},raw:s};if(!s){r?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(b,{isFullscreen:{get:function(){return Boolean(n[s.fullscreenElement])}},element:{enumerable:!0,get:function(){return n[s.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(n[s.fullscreenEnabled])}}}),r?e.exports=b:window.screenfull=b})()})(ze);var Ce=ze.exports;const bt={name:"layoutBreadcrumbUserNews",setup(){const e=P({newsList:[{label:"\u5173\u4E8E\u7248\u672C\u53D1\u5E03\u7684\u901A\u77E5",value:"vue-next-admin\uFF0C\u57FA\u4E8E vue3 + CompositionAPI + typescript + vite + element plus\uFF0C\u6B63\u5F0F\u53D1\u5E03\u65F6\u95F4\uFF1A2021\u5E7402\u670828\u65E5\uFF01",time:"2020-12-08"},{label:"\u5173\u4E8E\u5B66\u4E60\u4EA4\u6D41\u7684\u901A\u77E5",value:"QQ\u7FA4\u53F7\u7801 665452019\uFF0C\u6B22\u8FCE\u5C0F\u4F19\u4F34\u5165\u7FA4\u5B66\u4E60\u4EA4\u6D41\u63A2\u8BA8\uFF01",time:"2020-12-08"}]});return A({onAllReadClick:()=>{e.newsList=[]},onGoToGiteeClick:()=>{window.open("https://gitee.com/lyt-top/vue-next-admin")}},O(e))}},St={class:"layout-navbars-breadcrumb-user-news"},Lt={class:"head-box"},vt={class:"head-box-title"},kt={class:"content-box"},$t={class:"content-box-msg"},Vt={class:"content-box-time"};function xt(e,n,r,s,f,b){const o=g("el-empty");return h(),L("div",St,[w("div",Lt,[w("div",vt,V(e.$t("message.user.newTitle")),1),e.newsList.length>0?(h(),L("div",{key:0,class:"head-box-btn",onClick:n[0]||(n[0]=(...i)=>s.onAllReadClick&&s.onAllReadClick(...i))},V(e.$t("message.user.newBtn")),1)):H("",!0)]),w("div",kt,[e.newsList.length>0?(h(!0),L(q,{key:0},Q(e.newsList,(i,t)=>(h(),L("div",{class:"content-box-item",key:t},[w("div",null,V(i.label),1),w("div",$t,V(i.value),1),w("div",Vt,V(i.time),1)]))),128)):(h(),T(o,{key:1,description:e.$t("message.user.newDesc")},null,8,["description"]))]),e.newsList.length>0?(h(),L("div",{key:0,class:"foot-box",onClick:n[1]||(n[1]=(...i)=>s.onGoToGiteeClick&&s.onGoToGiteeClick(...i))},V(e.$t("message.user.newGo")),1)):H("",!0)])}var Tt=R(bt,[["render",xt],["__scopeId","data-v-24c2a5c2"]]);const Ft=oe({name:"layoutBreadcrumbSearch",setup(){const e=X(),{t:n}=Me(),r=z(),s=ce(),f=P({isShowSearch:!1,menuQuery:"",tagsViewList:[]}),b=()=>{f.menuQuery="",f.isShowSearch=!0,d(),ae(()=>{e.value.focus()})},o=()=>{f.isShowSearch=!1},i=(a,p)=>{let v=a?f.tagsViewList.filter(t(a)):f.tagsViewList;p(v)},t=a=>p=>p.path.toLowerCase().indexOf(a.toLowerCase())>-1||p.meta.title.toLowerCase().indexOf(a.toLowerCase())>-1||n(p.meta.title).indexOf(a.toLowerCase())>-1,d=()=>{if(f.tagsViewList.length>0)return!1;r.state.tagsViewRoutes.tagsViewRoutes.map(a=>{a.meta.isHide||f.tagsViewList.push(A({},a))})};return A({layoutMenuAutocompleteRef:e,openSearch:b,closeSearch:o,menuSearch:i,onHandleSelect:a=>{let{path:p,redirect:v}=a;a.meta.isLink&&!a.meta.isIframe?window.open(a.meta.isLink):v?s.push(v):s.push(p),o()},onSearchBlur:()=>{o()}},O(f))}}),At={class:"layout-search-dialog"};function It(e,n,r,s,f,b){const o=g("el-autocomplete"),i=g("el-dialog");return h(),L("div",At,[C(i,{modelValue:e.isShowSearch,"onUpdate:modelValue":n[1]||(n[1]=t=>e.isShowSearch=t),width:"300px","destroy-on-close":"",modal:!1,fullscreen:"","show-close":!1},{default:y(()=>[C(o,{modelValue:e.menuQuery,"onUpdate:modelValue":n[0]||(n[0]=t=>e.menuQuery=t),"fetch-suggestions":e.menuSearch,placeholder:e.$t("message.user.searchPlaceholder"),"prefix-icon":"el-icon-search",ref:"layoutMenuAutocompleteRef",onSelect:e.onHandleSelect,onBlur:e.onSearchBlur},{default:y(({item:t})=>[w("div",null,[w("i",{class:F([t.meta.icon,"mr10"])},null,2),D(V(e.$t(t.meta.title)),1)])]),_:1},8,["modelValue","fetch-suggestions","placeholder","onSelect","onBlur"])]),_:1},8,["modelValue"])])}var Rt=R(Ft,[["render",It],["__scopeId","data-v-d58bb528"]]);const Bt={name:"layoutBreadcrumbUser",components:{UserNews:Tt,Search:Rt},setup(){const{t:e}=Me(),{proxy:n}=W(),r=ce(),s=z(),f=Je(),b=X(),o=P({isScreenfull:!1,isShowUserNewsPopover:!1,disabledI18n:"zh-cn",disabledSize:""}),i=x(()=>s.state.userInfos.userInfos),t=x(()=>s.state.themeConfig.themeConfig),d=x(()=>{let{layout:k,isClassicSplitMenu:E}=t.value,B="";return k==="defaults"||k==="classic"&&!E||k==="columns"?B=1:B=null,B}),c=()=>{if(!Ce.isEnabled)return ke.warning("\u6682\u4E0D\u4E0D\u652F\u6301\u5168\u5C4F"),!1;Ce.toggle(),Ce.on("change",()=>{Ce.isFullscreen?o.isScreenfull=!0:o.isScreenfull=!1})},m=()=>{n.mittBus.emit("openSetingsDrawer")},a=k=>{k==="logOut"?Xe({closeOnClickModal:!1,closeOnPressEscape:!1,title:e("message.user.logOutTitle"),message:e("message.user.logOutMessage"),showCancelButton:!0,confirmButtonText:e("message.user.logOutConfirm"),cancelButtonText:e("message.user.logOutCancel"),beforeClose:(E,B,te)=>{E==="confirm"?(B.confirmButtonLoading=!0,B.confirmButtonText=e("message.user.logOutExit"),setTimeout(()=>{te(),setTimeout(()=>{B.confirmButtonLoading=!1},300)},700)):te()}}).then(()=>{ne.clear(),Ye(),r.push("/login"),setTimeout(()=>{ke.success(e("message.user.logOutSuccess"))},300)}).catch(()=>{}):k==="wareHouse"?window.open("https://gitee.com/dianbuapp_admin/fastcms.git"):r.push(k)},p=()=>{b.value.openSearch()},v=k=>{G.remove("themeConfig"),t.value.globalComponentSize=k,G.set("themeConfig",t.value),n.$ELEMENT.size=k,$(),window.location.reload()},I=k=>{G.remove("themeConfig"),t.value.globalI18n=k,G.set("themeConfig",t.value),n.$i18n.locale=k,N(),f()},j=k=>{n.mittBus.emit("getI18nConfig",n.$i18n.messages[k])},N=()=>{switch(G.get("themeConfig").globalI18n){case"zh-cn":o.disabledI18n="zh-cn",j("zh-cn");break;case"en":o.disabledI18n="en",j("en");break;case"zh-tw":o.disabledI18n="zh-tw",j("zh-tw");break}},$=()=>{switch(G.get("themeConfig").globalComponentSize){case"":o.disabledSize="";break;case"medium":o.disabledSize="medium";break;case"small":o.disabledSize="small";break;case"mini":o.disabledSize="mini";break}};return K(()=>{G.get("themeConfig")&&(N(),$())}),A({getUserInfos:i,onLayoutSetingClick:m,onHandleCommandClick:a,onScreenfullClick:c,onSearchClick:p,onComponentSizeChange:v,onLanguageChange:I,searchRef:b,layoutUserFlexNum:d},O(o))}},Mt=e=>(pe("data-v-0cde6a7c"),e=e(),ge(),e),Ht={class:"layout-navbars-breadcrumb-user-icon"},Et=["title"],Dt={class:"layout-navbars-breadcrumb-user-icon"},zt=["title"],qt=D("\u7B80\u4F53\u4E2D\u6587"),Pt=D("English"),Ot=D("\u7E41\u9AD4\u4E2D\u6587"),Nt=["title"],Ut=["title"],Wt={class:"layout-navbars-breadcrumb-user-icon"},jt=["title"],Gt=["title"],Qt={class:"layout-navbars-breadcrumb-user-link"},Yt=["src"],Jt=Mt(()=>w("i",{class:"el-icon-arrow-down el-icon--right"},null,-1));function Kt(e,n,r,s,f,b){const o=g("el-dropdown-item"),i=g("el-dropdown-menu"),t=g("el-dropdown"),d=g("el-badge"),c=g("UserNews"),m=g("el-popover"),a=g("Search");return h(),L("div",{class:"layout-navbars-breadcrumb-user",style:_e({flex:s.layoutUserFlexNum})},[C(t,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:s.onComponentSizeChange},{dropdown:y(()=>[C(i,null,{default:y(()=>[C(o,{command:"",disabled:e.disabledSize===""},{default:y(()=>[D(V(e.$t("message.user.dropdownDefault")),1)]),_:1},8,["disabled"]),C(o,{command:"medium",disabled:e.disabledSize==="medium"},{default:y(()=>[D(V(e.$t("message.user.dropdownMedium")),1)]),_:1},8,["disabled"]),C(o,{command:"small",disabled:e.disabledSize==="small"},{default:y(()=>[D(V(e.$t("message.user.dropdownSmall")),1)]),_:1},8,["disabled"]),C(o,{command:"mini",disabled:e.disabledSize==="mini"},{default:y(()=>[D(V(e.$t("message.user.dropdownMini")),1)]),_:1},8,["disabled"])]),_:1})]),default:y(()=>[w("div",Ht,[w("i",{class:"iconfont icon-ziti",title:e.$t("message.user.title0")},null,8,Et)])]),_:1},8,["onCommand"]),C(t,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:s.onLanguageChange},{dropdown:y(()=>[C(i,null,{default:y(()=>[C(o,{command:"zh-cn",disabled:e.disabledI18n==="zh-cn"},{default:y(()=>[qt]),_:1},8,["disabled"]),C(o,{command:"en",disabled:e.disabledI18n==="en"},{default:y(()=>[Pt]),_:1},8,["disabled"]),C(o,{command:"zh-tw",disabled:e.disabledI18n==="zh-tw"},{default:y(()=>[Ot]),_:1},8,["disabled"])]),_:1})]),default:y(()=>[w("div",Dt,[w("i",{class:F(["iconfont",e.disabledI18n==="en"?"icon-fuhao-yingwen":"icon-fuhao-zhongwen"]),title:e.$t("message.user.title1")},null,10,zt)])]),_:1},8,["onCommand"]),w("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:n[0]||(n[0]=(...p)=>s.onSearchClick&&s.onSearchClick(...p))},[w("i",{class:"el-icon-search",title:e.$t("message.user.title2")},null,8,Nt)]),w("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:n[1]||(n[1]=(...p)=>s.onLayoutSetingClick&&s.onLayoutSetingClick(...p))},[w("i",{class:"icon-skin iconfont",title:e.$t("message.user.title3")},null,8,Ut)]),w("div",Wt,[C(m,{placement:"bottom",trigger:"click",visible:e.isShowUserNewsPopover,"onUpdate:visible":n[3]||(n[3]=p=>e.isShowUserNewsPopover=p),width:300,"popper-class":"el-popover-pupop-user-news"},{reference:y(()=>[C(d,{"is-dot":!0,onClick:n[2]||(n[2]=p=>e.isShowUserNewsPopover=!e.isShowUserNewsPopover)},{default:y(()=>[w("i",{class:"el-icon-bell",title:e.$t("message.user.title4")},null,8,jt)]),_:1})]),default:y(()=>[C(He,{name:"el-zoom-in-top"},{default:y(()=>[re(C(c,null,null,512),[[ue,e.isShowUserNewsPopover]])]),_:1})]),_:1},8,["visible"])]),w("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:n[4]||(n[4]=(...p)=>s.onScreenfullClick&&s.onScreenfullClick(...p))},[w("i",{class:F(["iconfont",e.isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:e.isScreenfull?e.$t("message.user.title6"):e.$t("message.user.title5")},null,10,Gt)]),C(t,{"show-timeout":70,"hide-timeout":50,onCommand:s.onHandleCommandClick},{dropdown:y(()=>[C(i,null,{default:y(()=>[C(o,{command:"/home"},{default:y(()=>[D(V(e.$t("message.user.dropdown1")),1)]),_:1}),C(o,{command:"wareHouse"},{default:y(()=>[D(V(e.$t("message.user.dropdown6")),1)]),_:1}),C(o,{command:"/personal"},{default:y(()=>[D(V(e.$t("message.user.dropdown2")),1)]),_:1}),C(o,{divided:"",command:"logOut"},{default:y(()=>[D(V(e.$t("message.user.dropdown5")),1)]),_:1})]),_:1})]),default:y(()=>[w("span",Qt,[w("img",{src:s.getUserInfos.photo,class:"layout-navbars-breadcrumb-user-link-photo mr5"},null,8,Yt),D(" "+V(s.getUserInfos.username===""?"test":s.getUserInfos.username)+" ",1),Jt])]),_:1},8,["onCommand"]),C(a,{ref:"searchRef"},null,512)],4)}var Xt=R(Bt,[["render",Kt],["__scopeId","data-v-0cde6a7c"]]);const Zt=oe({name:"navMenuHorizontal",components:{SubItem:De},props:{menuList:{type:Array,default:()=>[]}},setup(e){const{proxy:n}=W(),r=Y(),s=z(),f=P({defaultActive:null}),b=x(()=>e.menuList),o=m=>{const a=m.wheelDelta||-m.deltaY*40;n.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft=n.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft+a/4},i=()=>{ae(()=>{let m=document.querySelector(".el-menu.el-menu--horizontal li.is-active");if(!m)return!1;n.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft=m.offsetLeft})},t=m=>m.filter(a=>!a.meta.isHide).map(a=>(a=Object.assign({},a),a.children&&(a.children=t(a.children)),a)),d=m=>{const a=m.split("/");let p={};return t(s.state.routesList.routesList).map((v,I)=>{v.path===`/${a[1]}`&&(v.k=I,p.item=[A({},v)],p.children=[A({},v)],v.children&&(p.children=v.children))}),p},c=m=>{const{path:a,meta:p}=m;if(s.state.themeConfig.themeConfig.layout==="classic")f.defaultActive=`/${a.split("/")[1]}`;else{const v=p.isDynamic?p.isDynamicPath.split("/"):a.split("/");v.length>=4&&p.isHide?f.defaultActive=v.splice(0,3).join("/"):f.defaultActive=a}};return le(()=>{c(r)}),K(()=>{i()}),ie(m=>{c(m),n.mittBus.emit("onMenuClick");let{layout:a,isClassicSplitMenu:p}=s.state.themeConfig.themeConfig;a==="classic"&&p&&n.mittBus.emit("setSendClassicChildren",d(m.path))}),A({menuLists:b,onElMenuHorizontalScroll:o},O(f))}}),es={class:"el-menu-horizontal-warp"};function ts(e,n,r,s,f,b){const o=g("SubItem"),i=g("el-sub-menu"),t=g("el-menu-item"),d=g("el-menu"),c=g("el-scrollbar");return h(),L("div",es,[C(c,{onWheel:ee(e.onElMenuHorizontalScroll,["prevent"]),ref:"elMenuHorizontalScrollRef"},{default:y(()=>[C(d,{router:"","default-active":e.defaultActive,"background-color":"transparent",mode:"horizontal"},{default:y(()=>[(h(!0),L(q,null,Q(e.menuLists,m=>(h(),L(q,null,[m.children&&m.children.length>0?(h(),T(i,{index:m.path,key:m.path},{title:y(()=>[w("i",{class:F(m.meta.icon?m.meta.icon:"")},null,2),w("span",null,V(e.$t(m.meta.title)),1)]),default:y(()=>[C(o,{chil:m.children},null,8,["chil"])]),_:2},1032,["index"])):(h(),T(t,{index:m.path,key:m.path},Be({_:2},[!m.meta.isLink||m.meta.isLink&&m.meta.isIframe?{name:"title",fn:y(()=>[w("i",{class:F(m.meta.icon?m.meta.icon:"")},null,2),D(" "+V(e.$t(m.meta.title)),1)])}:{name:"title",fn:y(()=>[w("a",{href:m.meta.isLink,target:"_blank",rel:"opener"},[w("i",{class:F(m.meta.icon?m.meta.icon:"")},null,2),D(" "+V(e.$t(m.meta.title)),1)],8,["href"])])}]),1032,["index"]))],64))),256))]),_:1},8,["default-active"])]),_:1},8,["onWheel"])])}var ss=R(Zt,[["render",ts],["__scopeId","data-v-306a2f46"]]);const ns={name:"layoutBreadcrumbIndex",components:{Breadcrumb:wt,User:Xt,Logo:Ee,Horizontal:ss},setup(){const{proxy:e}=W(),n=z(),r=Y(),s=P({menuList:[]}),f=x(()=>n.state.themeConfig.themeConfig),b=x(()=>{let{isShowLogo:m,layout:a}=n.state.themeConfig.themeConfig;return m&&a==="classic"||m&&a==="transverse"}),o=x(()=>{let{layout:m,isClassicSplitMenu:a}=n.state.themeConfig.themeConfig;return m==="transverse"||a&&m==="classic"}),i=()=>{let{layout:m,isClassicSplitMenu:a}=n.state.themeConfig.themeConfig;if(m==="classic"&&a){s.menuList=t(d(n.state.routesList.routesList));const p=c(r.path);e.mittBus.emit("setSendClassicChildren",p)}else s.menuList=d(n.state.routesList.routesList)},t=m=>(m.map(a=>{a.children&&delete a.children}),m),d=m=>m.filter(a=>!a.meta.isHide).map(a=>(a=Object.assign({},a),a.children&&(a.children=d(a.children)),a)),c=m=>{const a=m.split("/");let p={};return d(n.state.routesList.routesList).map((v,I)=>{v.path===`/${a[1]}`&&(v.k=I,p.item=[A({},v)],p.children=[A({},v)],v.children&&(p.children=v.children))}),p};return K(()=>{i(),e.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{i()})}),de(()=>{e.mittBus.off("getBreadcrumbIndexSetFilterRoutes")}),A({getThemeConfig:f,setIsShowLogo:b,isLayoutTransverse:o},O(s))}},os={class:"layout-navbars-breadcrumb-index"};function is(e,n,r,s,f,b){const o=g("Logo"),i=g("Breadcrumb"),t=g("Horizontal"),d=g("User");return h(),L("div",os,[s.setIsShowLogo?(h(),T(o,{key:0})):H("",!0),C(i),s.isLayoutTransverse?(h(),T(t,{key:1,menuList:e.menuList},null,8,["menuList"])):H("",!0),C(d)])}var as=R(ns,[["render",is],["__scopeId","data-v-d3fd2fd6"]]);const ls=oe({name:"layoutTagsViewContextmenu",props:{dropdown:{type:Object}},setup(e,{emit:n}){const r=P({isShow:!1,dropdownList:[{contextMenuClickId:0,txt:"message.tagsView.refresh",affix:!1,icon:"el-icon-refresh-right"},{contextMenuClickId:1,txt:"message.tagsView.close",affix:!1,icon:"el-icon-close"},{contextMenuClickId:2,txt:"message.tagsView.closeOther",affix:!1,icon:"el-icon-circle-close"},{contextMenuClickId:3,txt:"message.tagsView.closeAll",affix:!1,icon:"el-icon-folder-delete"},{contextMenuClickId:4,txt:"message.tagsView.fullscreen",affix:!1,icon:"iconfont icon-fullscreen"}],item:{}}),s=x(()=>e.dropdown),f=i=>{n("currentContextmenuClick",Object.assign({},{contextMenuClickId:i},r.item))},b=i=>{r.item=i,i.meta.isAffix?r.dropdownList[1].affix=!0:r.dropdownList[1].affix=!1,o(),setTimeout(()=>{r.isShow=!0},10)},o=()=>{r.isShow=!1};return K(()=>{document.body.addEventListener("click",o)}),de(()=>{document.body.removeEventListener("click",o)}),A({dropdowns:s,openContextmenu:b,closeContextmenu:o,onCurrentContextmenuClick:f},O(r))}}),rs=e=>(pe("data-v-e6686d98"),e=e(),ge(),e),us={class:"el-dropdown-menu"},cs=["onClick"],ds=rs(()=>w("div",{class:"el-popper__arrow",style:{left:"10px"}},null,-1));function ms(e,n,r,s,f,b){return h(),T(He,{name:"el-zoom-in-center"},{default:y(()=>[re((h(),L("div",{"aria-hidden":"true",class:"el-dropdown__popper el-popper is-light is-pure custom-contextmenu",role:"tooltip","data-popper-placement":"bottom",style:_e(`top: ${e.dropdowns.y+5}px;left: ${e.dropdowns.x}px;`),key:Math.random()},[w("ul",us,[(h(!0),L(q,null,Q(e.dropdownList,(o,i)=>(h(),L(q,null,[o.affix?H("",!0):(h(),L("li",{class:"el-dropdown-menu__item","aria-disabled":"false",tabindex:"-1",key:i,onClick:t=>e.onCurrentContextmenuClick(o.contextMenuClickId)},[w("i",{class:F(o.icon)},null,2),w("span",null,V(e.$t(o.txt)),1)],8,cs))],64))),256))]),ds],4)),[[ue,e.isShow]])]),_:1})}var fs=R(ls,[["render",ms],["__scopeId","data-v-e6686d98"]]);const hs={name:"layoutTagsView",components:{Contextmenu:fs},setup(){const{proxy:e}=W(),n=X([]),r=X(),s=X(),f=X(),b=z(),o=Y(),i=ce(),t=P({routeActive:"",routePath:o.path,dropdown:{x:"",y:""},tagsRefsIndex:0,tagsViewList:[],sortable:"",tagsViewRoutesList:[]}),d=x(()=>b.state.themeConfig.themeConfig.tagsStyle),c=x(()=>b.state.themeConfig.themeConfig),m=u=>c.value.isShareTagsView?u.path===t.routePath:u.url?u.url===t.routeActive:u.path===t.routeActive,a=u=>{ne.set("tagsViewList",u)},p=async()=>{t.routeActive=await Z(o),t.routePath=await o.meta.isDynamic?o.meta.isDynamicPath:o.path,t.tagsViewList=[],t.tagsViewRoutesList=b.state.tagsViewRoutes.tagsViewRoutes,v()},v=async()=>{ne.get("tagsViewList")&&c.value.isCacheTagsView?t.tagsViewList=await ne.get("tagsViewList"):(await t.tagsViewRoutesList.map(u=>{u.meta.isAffix&&!u.meta.isHide&&(u.url=Z(u),t.tagsViewList.push(A({},u)))}),await N(o.path,o)),Te(c.value.isShareTagsView?t.routePath:t.routeActive)},I=async(u,l)=>{let S=l.meta.isDynamic?l.meta.isDynamicPath:u;if(t.tagsViewList.filter(M=>M.path===S&&ve(l.meta.isDynamic?M.params?M.params:null:M.query?M.query:null,l.meta.isDynamic?(l==null?void 0:l.params)?l==null?void 0:l.params:null:(l==null?void 0:l.query)?l==null?void 0:l.query:null)).length<=0){let M=t.tagsViewRoutesList.find(U=>U.path===S);if(M.meta.isAffix||M.meta.isLink&&!M.meta.isIframe)return!1;l.meta.isDynamic?M.params=l.params:M.query=l.query,M.url=Z(M),t.tagsViewList.push(A({},M)),a(t.tagsViewList)}},j=(u,l)=>{let S=l.meta.isDynamic?l.meta.isDynamicPath:u;t.tagsViewList.forEach(_=>{_.path===S&&!ve(l.meta.isDynamic?_.params?_.params:null:_.query?_.query:null,l.meta.isDynamic?(l==null?void 0:l.params)?l==null?void 0:l.params:null:(l==null?void 0:l.query)?l==null?void 0:l.query:null)&&(l.meta.isDynamic?_.params=l.params:_.query=l.query,_.url=Z(_),a(t.tagsViewList))})},N=(u,l)=>{ae(async()=>{let S="";if(l&&l.meta.isDynamic){if(c.value.isShareTagsView?await j(u,l):await I(u,l),t.tagsViewList.some(_=>_.path===l.meta.isDynamicPath))return!1;S=t.tagsViewRoutesList.find(_=>_.path===l.meta.isDynamicPath)}else{if(c.value.isShareTagsView?await j(u,l):await I(u,l),t.tagsViewList.some(_=>_.path===u))return!1;S=t.tagsViewRoutesList.find(_=>_.path===u)}if(S.meta.isLink&&!S.meta.isIframe)return!1;l&&l.meta.isDynamic?S.params=(l==null?void 0:l.params)?l==null?void 0:l.params:o.params:S.query=(l==null?void 0:l.query)?l==null?void 0:l.query:o.query,S.url=Z(S),await t.tagsViewList.push(A({},S)),await a(t.tagsViewList)})},$=u=>{e.mittBus.emit("onTagsViewRefreshRouterView",u)},k=u=>{t.tagsViewList.map((l,S,_)=>{l.meta.isAffix||(c.value.isShareTagsView?l.path===u:l.url===u)&&(t.tagsViewList.splice(S,1),setTimeout(()=>{(t.tagsViewList.length===S&&c.value.isShareTagsView?t.routePath===u:t.routeActive===u)?_[_.length-1].meta.isDynamic?S!==_.length?i.push({name:_[S].name,params:_[S].params}):i.push({name:_[_.length-1].name,params:_[_.length-1].params}):S!==_.length?i.push({path:_[S].path,query:_[S].query}):i.push({path:_[_.length-1].path,query:_[_.length-1].query}):(t.tagsViewList.length!==S&&c.value.isShareTagsView?t.routePath===u:t.routeActive===u)&&(_[S].meta.isDynamic?i.push({name:_[S].name,params:_[S].params}):i.push({path:_[S].path,query:_[S].query}))},0))}),a(t.tagsViewList)},E=u=>{t.tagsViewList=[],t.tagsViewRoutesList.map(l=>{l.meta.isAffix&&!l.meta.isHide&&t.tagsViewList.push(A({},l))}),N(u,o)},B=()=>{t.tagsViewList=[],t.tagsViewRoutesList.map(u=>{u.meta.isAffix&&!u.meta.isHide&&(t.tagsViewList.push(A({},u)),i.push({path:t.tagsViewList[t.tagsViewList.length-1].path}))}),a(t.tagsViewList)},te=async u=>{const l=t.tagsViewList.find(S=>c.value.isShareTagsView?S.path===u:S.url===u);l.meta.isDynamic?await i.push({name:l.name,params:l.params}):await i.push({name:l.name,query:l.query}),b.dispatch("tagsViewRoutes/setCurrenFullscreen",!0)},Ve=(u,l)=>(ne.get("tagsViewList")?ne.get("tagsViewList"):t.tagsViewList).find(_=>{if(_.path===u&&ve(_.meta.isDynamic?_.params?_.params:null:_.query?_.query:null,l&&Object.keys(l||{}).length>0?l:null))return _;if(_.path===u&&Object.keys(l||{}).length<=0)return _}),xe=async u=>{const l=u.meta.isDynamic?u.params:u.query;if(!Ve(u.path,l))return ke({type:"warning",message:"\u8BF7\u6B63\u786E\u8F93\u5165\u8DEF\u5F84\u53CA\u5B8C\u6574\u53C2\u6570\uFF08query\u3001params\uFF09"});const{path:S,name:_,params:M,query:U,meta:me,url:se}=Ve(u.path,l);switch(u.contextMenuClickId){case 0:me.isDynamic?await i.push({name:_,params:M}):await i.push({path:S,query:U}),$(o.fullPath);break;case 1:k(c.value.isShareTagsView?S:se);break;case 2:me.isDynamic?await i.push({name:_,params:M}):await i.push({path:S,query:U}),E(S);break;case 3:B();break;case 4:te(c.value.isShareTagsView?S:se);break}},Pe=(u,l)=>{const{clientX:S,clientY:_}=l;t.dropdown.x=S,t.dropdown.y=_,s.value.openContextmenu(u)},Oe=(u,l)=>{t.tagsRefsIndex=l,i.push(u)},Z=u=>{let l=u.query&&Object.keys(u.query).length>0?u.query:u.params;if(!l||Object.keys(l).length<=0)return u.path;let S="";for(let _ in l)S+=l[_];return`${u.meta.isDynamic?u.meta.isDynamicPath:u.path}-${S}`},Ne=()=>{e.$refs.scrollbarRef.update()},Ue=u=>{e.$refs.scrollbarRef.$refs.wrap.scrollLeft+=u.wheelDelta/4},We=()=>{ae(()=>{if(n.value.length<=0)return!1;let u=n.value[t.tagsRefsIndex],l=t.tagsRefsIndex,S=n.value.length,_=n.value[0],M=n.value[n.value.length-1],U=e.$refs.scrollbarRef.$refs.wrap,me=U.scrollWidth,se=U.offsetWidth,Fe=U.scrollLeft,Le=n.value[t.tagsRefsIndex-1],Ae=n.value[t.tagsRefsIndex+1],fe="",he="";u===_?U.scrollLeft=0:u===M?U.scrollLeft=me-se:(l===0?fe=_.offsetLeft-5:fe=(Le==null?void 0:Le.offsetLeft)-5,l===S?he=M.offsetLeft+M.offsetWidth+5:he=Ae.offsetLeft+Ae.offsetWidth+5,he>Fe+se?U.scrollLeft=he-se:fe<Fe&&(U.scrollLeft=fe)),Ne()})},Te=u=>{ae(async()=>{let l=await t.tagsViewList;t.tagsRefsIndex=l.findIndex(S=>c.value.isShareTagsView?S.path===u:S.url===u),We()})},be=()=>{const u=document.querySelector(".layout-navbars-tagsview-ul");if(!u)return!1;t.sortable&&t.sortable.destroy(),t.sortable=et.create(u,{animation:300,dataIdAttr:"data-name",disabled:!c.value.isSortableTagsView,onEnd:()=>{const l=[];t.sortable.toArray().map(S=>{t.tagsViewList.map(_=>{_.name===S&&l.push(A({},_))})}),a(l)}})},Se=()=>{document.body.clientWidth<1e3?c.value.isSortableTagsView=!1:c.value.isSortableTagsView=!0,be()};return le(()=>{Se(),window.addEventListener("resize",Se),e.mittBus.on("onCurrentContextmenuClick",u=>{xe(u)}),e.mittBus.on("openOrCloseSortable",()=>{be()}),e.mittBus.on("openShareTagsView",()=>{c.value.isShareTagsView&&(i.push("/home"),t.tagsViewList=[],t.tagsViewRoutesList.map(u=>{u.meta.isAffix&&!u.meta.isHide&&(u.url=Z(u),t.tagsViewList.push(A({},u)))}))})}),de(()=>{e.mittBus.off("onCurrentContextmenuClick"),e.mittBus.off("openOrCloseSortable"),e.mittBus.off("openShareTagsView"),window.removeEventListener("resize",Se)}),Ze(()=>{n.value=[]}),K(()=>{p(),be()}),ie(async u=>{t.routeActive=Z(u),t.routePath=u.meta.isDynamic?u.meta.isDynamicPath:u.path,await N(u.path,u),Te(c.value.isShareTagsView?t.routePath:t.routeActive)}),J(b.state,u=>{if(u.tagsViewRoutes.tagsViewRoutes.length===t.tagsViewRoutesList.length)return!1;p()}),A({isActive:m,onContextmenu:Pe,getTagsViewRoutes:p,onTagsClick:Oe,tagsRefs:n,contextmenuRef:s,scrollbarRef:r,tagsUlRef:f,onHandleScroll:Ue,getThemeConfig:c,setTagsStyle:d,refreshCurrentTagsView:$,closeCurrentTagsView:k,onCurrentContextmenuClick:xe},O(t))}},ps=["data-name","onContextmenu","onClick"],gs={key:0,class:"iconfont icon-webicon318 layout-navbars-tagsview-ul-li-iconfont font14"},_s=["onClick"],Cs=["onClick"];function ys(e,n,r,s,f,b){const o=g("el-scrollbar"),i=g("Contextmenu");return h(),L("div",{class:F(["layout-navbars-tagsview",{"layout-navbars-tagsview-shadow":s.getThemeConfig.layout==="classic"}])},[C(o,{ref:"scrollbarRef",onWheel:ee(s.onHandleScroll,["prevent"])},{default:y(()=>[w("ul",{class:F(["layout-navbars-tagsview-ul",s.setTagsStyle]),ref:"tagsUlRef"},[(h(!0),L(q,null,Q(e.tagsViewList,(t,d)=>(h(),L("li",{key:d,class:F(["layout-navbars-tagsview-ul-li",{"is-active":s.isActive(t)}]),"data-name":t.name,onContextmenu:ee(c=>s.onContextmenu(t,c),["prevent"]),onClick:c=>s.onTagsClick(t,d),ref:c=>{c&&(s.tagsRefs[d]=c)}},[s.isActive(t)?(h(),L("i",gs)):H("",!0),!s.isActive(t)&&s.getThemeConfig.isTagsviewIcon?(h(),L("i",{key:1,class:F(["layout-navbars-tagsview-ul-li-iconfont",t.meta.icon])},null,2)):H("",!0),w("span",null,V(e.$t(t.meta.title)),1),s.isActive(t)?(h(),L(q,{key:2},[w("i",{class:"el-icon-refresh-right ml5",onClick:n[0]||(n[0]=ee(c=>s.refreshCurrentTagsView(e.$route.fullPath),["stop"]))}),t.meta.isAffix?H("",!0):(h(),L("i",{key:0,class:"el-icon-close layout-navbars-tagsview-ul-li-icon layout-icon-active",onClick:ee(c=>s.closeCurrentTagsView(s.getThemeConfig.isShareTagsView?t.path:t.url),["stop"])},null,8,_s))],64)):H("",!0),t.meta.isAffix?H("",!0):(h(),L("i",{key:3,class:"el-icon-close layout-navbars-tagsview-ul-li-icon layout-icon-three",onClick:ee(c=>s.closeCurrentTagsView(s.getThemeConfig.isShareTagsView?t.path:t.url),["stop"])},null,8,Cs))],42,ps))),128))],2)]),_:1},8,["onWheel"]),C(i,{dropdown:e.dropdown,ref:"contextmenuRef",onCurrentContextmenuClick:s.onCurrentContextmenuClick},null,8,["dropdown","onCurrentContextmenuClick"])],2)}var qe=R(hs,[["render",ys],["__scopeId","data-v-98ade418"]]);const ws={name:"layoutNavBars",components:{BreadcrumbIndex:as,TagsView:qe},setup(){const e=z();return{setShowTagsView:x(()=>{let{layout:r,isTagsview:s}=e.state.themeConfig.themeConfig;return r!=="classic"&&s})}}},bs={class:"layout-navbars-container"};function Ss(e,n,r,s,f,b){const o=g("BreadcrumbIndex"),i=g("TagsView");return h(),L("div",bs,[C(o),s.setShowTagsView?(h(),T(i,{key:0})):H("",!0)])}var Ls=R(ws,[["render",Ss],["__scopeId","data-v-6da8bc81"]]);const vs={name:"layoutHeader",components:{NavBarsIndex:Ls},setup(){const e=z(),n=x(()=>{let{isTagsview:s,layout:f}=e.state.themeConfig.themeConfig;return s&&f!=="classic"?"84px":"50px"}),r=x(()=>e.state.tagsViewRoutes.isTagsViewCurrenFull);return{setHeaderHeight:n,isTagsViewCurrenFull:r}}};function ks(e,n,r,s,f,b){const o=g("NavBarsIndex"),i=g("el-header");return re((h(),T(i,{class:"layout-header",height:s.setHeaderHeight},{default:y(()=>[C(o)]),_:1},8,["height"])),[[ue,!s.isTagsViewCurrenFull]])}var ye=R(vs,[["render",ks]]);const $s={name:"layoutFooter",setup(){const e=P({isDelayFooter:!0});return ie(()=>{e.isDelayFooter=!1,setTimeout(()=>{e.isDelayFooter=!0},800)}),A({},O(e))}},Vs=e=>(pe("data-v-e9e20330"),e=e(),ge(),e),xs={class:"layout-footer mt15"},Ts={class:"layout-footer-warp"},Fs=Vs(()=>w("div",null,"Fastcms:v0.0.1",-1)),As={class:"mt5"};function Is(e,n,r,s,f,b){return re((h(),L("div",xs,[w("div",Ts,[Fs,w("div",As,V(e.$t("message.copyright.one5")),1)])],512)),[[ue,e.isDelayFooter]])}var Rs=R($s,[["render",Is],["__scopeId","data-v-e9e20330"]]);const Bs=oe({name:"layoutMain",components:{LayoutParentView:tt,Footer:Rs},setup(){const{proxy:e}=W(),n=Y(),r=z(),s=P({headerHeight:"",currentRouteMeta:{}}),f=x(()=>r.state.themeConfig.themeConfig),b=()=>{let{isTagsview:i}=r.state.themeConfig.themeConfig;return i?s.headerHeight="84px":s.headerHeight="50px"},o=()=>{s.currentRouteMeta=n.meta};return le(()=>{b(),o()}),J(r.state.themeConfig.themeConfig,i=>{if(s.headerHeight=i.isTagsview?"84px":"50px",i.isFixedHeaderChange!==i.isFixedHeader){if(!e.$refs.layoutScrollbarRef)return!1;e.$refs.layoutScrollbarRef.update()}}),J(()=>n.path,()=>{s.currentRouteMeta=n.meta}),A({getThemeConfig:f},O(s))}});function Ms(e,n,r,s,f,b){const o=g("LayoutParentView"),i=g("Footer"),t=g("el-scrollbar"),d=g("el-main");return h(),T(d,{class:"layout-main"},{default:y(()=>[C(t,{class:"layout-scrollbar",ref:"layoutScrollbarRef",style:_e({minHeight:`calc(100vh - ${e.headerHeight})`,padding:e.currentRouteMeta.isLink&&e.currentRouteMeta.isIframe?0:"",transition:"padding 0.3s ease-in-out"})},{default:y(()=>[C(o),e.getThemeConfig.isFooter?(h(),T(i,{key:0})):H("",!0)]),_:1},8,["style"])]),_:1})}var we=R(Bs,[["render",Ms]]);const Hs={name:"layoutDefaults",components:{Aside:$e,Header:ye,Main:we},setup(){const{proxy:e}=W(),n=z(),r=Y(),s=x(()=>n.state.themeConfig.themeConfig.isFixedHeader);return J(()=>r.path,()=>{e.$refs.layoutDefaultsScrollbarRef.wrap.scrollTop=0}),{isFixedHeader:s}}};function Es(e,n,r,s,f,b){const o=g("Aside"),i=g("Header"),t=g("Main"),d=g("el-scrollbar"),c=g("el-container"),m=g("el-backtop");return h(),T(c,{class:"layout-container"},{default:y(()=>[C(o),C(c,{class:F(["flex-center",{"layout-backtop":!s.isFixedHeader}])},{default:y(()=>[s.isFixedHeader?(h(),T(i,{key:0})):H("",!0),C(d,{ref:"layoutDefaultsScrollbarRef",class:F({"layout-backtop":s.isFixedHeader})},{default:y(()=>[s.isFixedHeader?H("",!0):(h(),T(i,{key:0})),C(t)]),_:1},8,["class"])]),_:1},8,["class"]),C(m,{target:".layout-backtop .el-scrollbar__wrap"})]),_:1})}var Ds=R(Hs,[["render",Es]]);const zs={name:"layoutClassic",components:{Aside:$e,Header:ye,Main:we,TagsView:qe},setup(){const e=z();return{getThemeConfig:x(()=>e.state.themeConfig.themeConfig)}}},qs={class:"flex-center layout-backtop"};function Ps(e,n,r,s,f,b){const o=g("Header"),i=g("Aside"),t=g("TagsView"),d=g("Main"),c=g("el-container"),m=g("el-backtop");return h(),T(c,{class:"layout-container flex-center"},{default:y(()=>[C(o),C(c,{class:"layout-mian-height-50"},{default:y(()=>[C(i),w("div",qs,[s.getThemeConfig.isTagsview?(h(),T(t,{key:0})):H("",!0),C(d)])]),_:1}),C(m,{target:".layout-backtop .el-main .el-scrollbar__wrap"})]),_:1})}var Os=R(zs,[["render",Ps]]);const Ns={name:"layoutTransverse",components:{Header:ye,Main:we}};function Us(e,n,r,s,f,b){const o=g("Header"),i=g("Main"),t=g("el-backtop"),d=g("el-container");return h(),T(d,{class:"layout-container flex-center layout-backtop"},{default:y(()=>[C(o),C(i),C(t,{target:".layout-backtop .el-main .el-scrollbar__wrap"})]),_:1})}var Ws=R(Ns,[["render",Us]]);const js={name:"layoutColumnsAside",setup(){const e=X([]),n=X(),{proxy:r}=W(),s=z(),f=Y(),b=ce(),o=P({columnsAsideList:[],liIndex:0,liOldIndex:null,liHoverIndex:null,liOldPath:null,difference:0,routeSplit:[],isNavHover:!1}),i=x(()=>s.state.themeConfig.themeConfig.columnsAsideStyle),t=x(()=>s.state.themeConfig.themeConfig.columnsAsideLayout),d=$=>{o.liIndex=$,n.value.style.top=`${e.value[$].offsetTop+o.difference}px`},c=($,k)=>{d(k);let{path:E,redirect:B}=$;B?b.push(B):b.push(E)},m=($,k)=>{let{path:E}=$;o.liOldPath=E,o.liOldIndex=k,o.liHoverIndex=k,r.mittBus.emit("setSendColumnsChildren",I(E)),s.dispatch("routesList/setColumnsMenuHover",!1),s.dispatch("routesList/setColumnsNavHover",!0),o.isNavHover=!0},a=async()=>{await s.dispatch("routesList/setColumnsNavHover",!1),setTimeout(()=>{const{isColumnsMenuHover:$,isColumnsNavHover:k}=s.state.routesList;!$&&!k&&r.mittBus.emit("restoreDefault")},100)},p=$=>{ae(()=>{d($)})},v=()=>{o.columnsAsideList=j(s.state.routesList.routesList);const $=I(f.path);if(Object.keys($).length<=0)return!1;p($.item[0].k),r.mittBus.emit("setSendColumnsChildren",$)},I=$=>{const k=$.split("/");let E={};return o.columnsAsideList.map((B,te)=>{B.path===`/${k[1]}`&&(B.k=te,E.item=[A({},B)],E.children=[A({},B)],B.children&&(E.children=B.children))}),E},j=$=>$.filter(k=>!k.meta.isHide).map(k=>(k=Object.assign({},k),k.children&&(k.children=j(k.children)),k)),N=$=>{o.routeSplit=$.split("/"),o.routeSplit.shift();const k=`/${o.routeSplit[0]}`,E=o.columnsAsideList.find(B=>B.path===k);if(!E)return!1;setTimeout(()=>{p(E.k)},0)};return J(s.state,$=>{if($.themeConfig.themeConfig.columnsAsideStyle==="columnsRound"?o.difference=3:o.difference=0,!$.routesList.isColumnsMenuHover&&!$.routesList.isColumnsNavHover)o.liHoverIndex=null,r.mittBus.emit("setSendColumnsChildren",I(f.path));else{if(o.liHoverIndex=o.liOldIndex,!o.liOldPath)return!1;r.mittBus.emit("setSendColumnsChildren",I(o.liOldPath))}}),K(()=>{v(),r.mittBus.on("restoreDefault",()=>{o.liOldIndex=null,o.liOldPath=null})}),de(()=>{r.mittBus.off("restoreDefault",()=>{})}),ie($=>{N($.path),r.mittBus.emit("setSendColumnsChildren",I($.path))}),A({columnsAsideOffsetTopRefs:e,columnsAsideActiveRef:n,onColumnsAsideDown:p,setColumnsAsideStyle:i,setColumnsAsidelayout:t,onColumnsAsideMenuClick:c,onColumnsAsideMenuMouseenter:m,onColumnsAsideMenuMouseleave:a},O(o))}},Gs={class:"layout-columns-aside"},Qs=["onClick","onMouseenter","title"],Ys={class:"columns-vertical-title font12"},Js=["href"],Ks={class:"columns-vertical-title font12"};function Xs(e,n,r,s,f,b){const o=g("el-scrollbar");return h(),L("div",Gs,[C(o,null,{default:y(()=>[w("ul",{onMouseleave:n[0]||(n[0]=i=>s.onColumnsAsideMenuMouseleave())},[(h(!0),L(q,null,Q(e.columnsAsideList,(i,t)=>(h(),L("li",{key:t,onClick:d=>s.onColumnsAsideMenuClick(i,t),onMouseenter:d=>s.onColumnsAsideMenuMouseenter(i,t),ref:d=>{d&&(s.columnsAsideOffsetTopRefs[t]=d)},class:F({"layout-columns-active":e.liIndex===t,"layout-columns-hover":e.liHoverIndex===t}),title:e.$t(i.meta.title)},[!i.meta.isLink||i.meta.isLink&&i.meta.isIframe?(h(),L("div",{key:0,class:F(s.setColumnsAsidelayout)},[w("i",{class:F(i.meta.icon)},null,2),w("div",Ys,V(e.$t(i.meta.title)&&e.$t(i.meta.title).length>=4?e.$t(i.meta.title).substr(0,s.setColumnsAsidelayout==="columns-vertical"?4:3):e.$t(i.meta.title)),1)],2)):(h(),L("div",{key:1,class:F(s.setColumnsAsidelayout)},[w("a",{href:i.meta.isLink,target:"_blank"},[w("i",{class:F(i.meta.icon)},null,2),w("div",Ks,V(e.$t(i.meta.title)&&e.$t(i.meta.title).length>=4?e.$t(i.meta.title).substr(0,s.setColumnsAsidelayout==="columns-vertical"?4:3):e.$t(i.meta.title)),1)],8,Js)],2))],42,Qs))),128)),w("div",{ref:"columnsAsideActiveRef",class:F(s.setColumnsAsideStyle)},null,2)],32)]),_:1})])}var Zs=R(js,[["render",Xs],["__scopeId","data-v-7167398f"]]);const en={name:"layoutColumns",components:{Aside:$e,Header:ye,Main:we,ColumnsAside:Zs},setup(){const e=z();return{isFixedHeader:x(()=>e.state.themeConfig.themeConfig.isFixedHeader)}}},tn={class:"layout-columns-warp"};function sn(e,n,r,s,f,b){const o=g("ColumnsAside"),i=g("Aside"),t=g("Header"),d=g("Main"),c=g("el-scrollbar"),m=g("el-container"),a=g("el-backtop");return h(),T(m,{class:"layout-container"},{default:y(()=>[C(o),w("div",tn,[C(i),C(m,{class:F(["flex-center layout-backtop",{"layout-backtop":!s.isFixedHeader}])},{default:y(()=>[s.isFixedHeader?(h(),T(t,{key:0})):H("",!0),C(c,{class:F({"layout-backtop":s.isFixedHeader})},{default:y(()=>[s.isFixedHeader?H("",!0):(h(),T(t,{key:0})),C(d)]),_:1},8,["class"])]),_:1},8,["class"])]),C(a,{target:".layout-backtop .el-scrollbar__wrap"})]),_:1})}var nn=R(en,[["render",sn]]);const on={name:"layout",components:{Defaults:Ds,Classic:Os,Transverse:Ws,Columns:nn},setup(){const{proxy:e}=W(),n=z(),r=x(()=>n.state.themeConfig.themeConfig),s=()=>{G.get("oldLayout")||G.set("oldLayout",r.value.layout);const f=document.body.clientWidth;f<1e3?(r.value.isCollapse=!1,e.mittBus.emit("layoutMobileResize",{layout:"defaults",clientWidth:f})):e.mittBus.emit("layoutMobileResize",{layout:G.get("oldLayout")?G.get("oldLayout"):r.value.layout,clientWidth:f})};return le(()=>{s(),window.addEventListener("resize",s)}),de(()=>{window.removeEventListener("resize",s)}),{getThemeConfig:r}}};function an(e,n,r,s,f,b){const o=g("Defaults"),i=g("Classic"),t=g("Transverse"),d=g("Columns");return s.getThemeConfig.layout==="defaults"?(h(),T(o,{key:0})):s.getThemeConfig.layout==="classic"?(h(),T(i,{key:1})):s.getThemeConfig.layout==="transverse"?(h(),T(t,{key:2})):s.getThemeConfig.layout==="columns"?(h(),T(d,{key:3})):H("",!0)}var mn=R(on,[["render",an]]);export{mn as default};
