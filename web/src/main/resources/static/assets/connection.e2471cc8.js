var v=Object.defineProperty;var E=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var y=(u,e,t)=>e in u?v(u,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):u[e]=t,b=(u,e)=>{for(var t in e||(e={}))w.call(e,t)&&y(u,t,e[t]);if(E)for(var t of E(e))A.call(e,t)&&y(u,t,e[t]);return u};import{_ as k,f as S}from"./index.b48d3751.js";import{l as B}from"./index.34a00848.js";import{a as j,s as U,t as I}from"./index.356e6d40.js";import{j as K,J as M,o as T,t as N,l as p,m as R,z as l,A as a,b as _,D as $,G as q,B as z,C as G,p as g,x as V}from"./vendor.07d41a1e.js";const J={name:"connectionSet",components:{},setup(){const{proxy:u}=q(),e=K({fit:"fill",testing:!1,ruleForm:{aliyun_sms_app_key:"",aliyun_sms_app_secret:"",aliyun_sms_is_enable:!1,email_host:"smtp.163.com",email_port:25,email_username:"",email_password:""},rules:{aliyun_sms_app_key:[{required:!0,message:"\u8BF7\u8F93\u5165\u77ED\u4FE1appKey",trigger:"blur"}],aliyun_sms_app_secret:[{required:!0,message:"\u8BF7\u8F93\u5165\u77ED\u4FE1appSecret",trigger:"blur"}]}}),t=M(()=>S(new Date)),d=()=>{u.$refs.myRefForm.validate(m=>{if(m){let n=B.stringify(e.ruleForm,{arrayFormat:"repeat"});U(n).then(()=>{_.success("\u4FDD\u5B58\u6210\u529F")}).catch(s=>{_({showClose:!0,message:s.message?s.message:"\u7CFB\u7EDF\u9519\u8BEF",type:"error"})})}})},F=()=>{e.testing=!0,I().then(()=>{e.testing=!1,_.success("\u90AE\u4EF6\u914D\u7F6E\u6210\u529F")}).catch(m=>{e.testing=!1,_({showClose:!0,message:m.message?m.message:"\u7CFB\u7EDF\u9519\u8BEF",type:"error"})})};return T(()=>{let m=new Array;Object.keys(e.ruleForm).forEach(o=>{m.push(o)});let s=B.stringify({configKeys:m},{arrayFormat:"repeat"});j(s).then(o=>{o.data.forEach(i=>{e.ruleForm[i.key]=i.jsonValue})})}),b({currentTime:t,onSubmit:d,onTestMail:F},N(e))}},D=u=>(z("data-v-4e02b8d0"),u=u(),G(),u),L={class:"personal"},O=D(()=>g("div",{class:"personal-edit-title mb15"},"\u963F\u91CC\u4E91\u77ED\u4FE1",-1)),H=D(()=>g("div",{class:"personal-edit-title mb15"},"\u90AE\u7BB1",-1)),P=V("\u6D4B\u8BD5\u90AE\u4EF6\u914D\u7F6E"),Q=V("\u4FDD \u5B58");function W(u,e,t,d,F,m){const n=p("el-input"),s=p("el-form-item"),o=p("el-col"),i=p("el-switch"),c=p("el-row"),f=p("el-button"),h=p("el-form"),C=p("el-card");return $(),R("div",L,[l(c,null,{default:a(()=>[l(o,{span:24},{default:a(()=>[l(C,{shadow:"hover"},{default:a(()=>[l(h,{model:u.ruleForm,rules:u.rules,ref:"myRefForm",size:"small","label-width":"150px",class:"mt35 mb35"},{default:a(()=>[O,l(c,{gutter:35},{default:a(()=>[l(o,{class:"mb20"},{default:a(()=>[l(s,{label:"\u77ED\u4FE1appKey",prop:"aliyun_sms_app_key"},{default:a(()=>[l(n,{modelValue:u.ruleForm.aliyun_sms_app_key,"onUpdate:modelValue":e[0]||(e[0]=r=>u.ruleForm.aliyun_sms_app_key=r),placeholder:"\u8BF7\u8F93\u5165\u77ED\u4FE1appKey",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(o,{class:"mb20"},{default:a(()=>[l(s,{label:"\u77ED\u4FE1appSecret",prop:"aliyun_sms_app_secret"},{default:a(()=>[l(n,{modelValue:u.ruleForm.aliyun_sms_app_secret,"onUpdate:modelValue":e[1]||(e[1]=r=>u.ruleForm.aliyun_sms_app_secret=r),placeholder:"\u8BF7\u8F93\u5165\u77ED\u4FE1appSecret",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(o,{class:"mb20"},{default:a(()=>[l(s,{label:"\u662F\u5426\u542F\u7528"},{default:a(()=>[l(i,{modelValue:u.ruleForm.aliyun_sms_is_enable,"onUpdate:modelValue":e[2]||(e[2]=r=>u.ruleForm.aliyun_sms_is_enable=r),"active-color":"#13ce66"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),H,l(c,{gutter:35},{default:a(()=>[l(o,{class:"mb20"},{default:a(()=>[l(s,{label:"\u90AE\u7BB1\u5730\u5740",prop:"email_host"},{default:a(()=>[l(n,{modelValue:u.ruleForm.email_host,"onUpdate:modelValue":e[3]||(e[3]=r=>u.ruleForm.email_host=r),placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u5730\u5740",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(o,{class:"mb20"},{default:a(()=>[l(s,{label:"\u90AE\u7BB1\u7AEF\u53E3",prop:"email_port"},{default:a(()=>[l(n,{modelValue:u.ruleForm.email_port,"onUpdate:modelValue":e[4]||(e[4]=r=>u.ruleForm.email_port=r),placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u7AEF\u53E3",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(o,{class:"mb20"},{default:a(()=>[l(s,{label:"\u90AE\u7BB1\u7528\u6237\u540D",prop:"email_username"},{default:a(()=>[l(n,{modelValue:u.ruleForm.email_username,"onUpdate:modelValue":e[5]||(e[5]=r=>u.ruleForm.email_username=r),placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u7528\u6237\u540D",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(o,{class:"mb20"},{default:a(()=>[l(s,{label:"\u90AE\u7BB1\u5BC6\u7801",prop:"email_password"},{default:a(()=>[l(n,{modelValue:u.ruleForm.email_password,"onUpdate:modelValue":e[6]||(e[6]=r=>u.ruleForm.email_password=r),placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u5BC6\u7801",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(o,{class:"mb20"},{default:a(()=>[l(s,null,{default:a(()=>[l(f,{loading:u.testing,onClick:d.onTestMail},{default:a(()=>[P]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1}),l(o,null,{default:a(()=>[l(s,null,{default:a(()=>[l(f,{type:"primary",onClick:d.onSubmit,icon:"el-icon-position"},{default:a(()=>[Q]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1})])}var le=k(J,[["render",W],["__scopeId","data-v-4e02b8d0"]]);export{le as default};
